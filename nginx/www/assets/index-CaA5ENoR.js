var bB=Object.defineProperty;var iT=n=>{throw TypeError(n)};var SB=(n,e,t)=>e in n?bB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $=(n,e,t)=>SB(n,typeof e!="symbol"?e+"":e,t),_0=(n,e,t)=>e.has(n)||iT("Cannot "+t);var l=(n,e,t)=>(_0(n,e,"read from private field"),t?t.call(n):e.get(n)),A=(n,e,t)=>e.has(n)?iT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),x=(n,e,t,r)=>(_0(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),_=(n,e,t)=>(_0(n,e,"access private method"),t);var wt=(n,e,t,r)=>({set _(i){x(n,e,i,t)},get _(){return l(n,e,r)}});function EB(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function db(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var LR={exports:{}},hb={},OR={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.element"),AB=Symbol.for("react.portal"),CB=Symbol.for("react.fragment"),_B=Symbol.for("react.strict_mode"),TB=Symbol.for("react.profiler"),kB=Symbol.for("react.provider"),PB=Symbol.for("react.context"),RB=Symbol.for("react.forward_ref"),DB=Symbol.for("react.suspense"),MB=Symbol.for("react.memo"),NB=Symbol.for("react.lazy"),sT=Symbol.iterator;function IB(n){return n===null||typeof n!="object"?null:(n=sT&&n[sT]||n["@@iterator"],typeof n=="function"?n:null)}var FR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jR=Object.assign,BR={};function Vf(n,e,t){this.props=n,this.context=e,this.refs=BR,this.updater=t||FR}Vf.prototype.isReactComponent={};Vf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Vf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function zR(){}zR.prototype=Vf.prototype;function $C(n,e,t){this.props=n,this.context=e,this.refs=BR,this.updater=t||FR}var UC=$C.prototype=new zR;UC.constructor=$C;jR(UC,Vf.prototype);UC.isPureReactComponent=!0;var oT=Array.isArray,$R=Object.prototype.hasOwnProperty,HC={current:null},UR={key:!0,ref:!0,__self:!0,__source:!0};function HR(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$R.call(e,r)&&!UR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Av,type:n,key:s,ref:o,props:i,_owner:HC.current}}function LB(n,e){return{$$typeof:Av,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function VC(n){return typeof n=="object"&&n!==null&&n.$$typeof===Av}function OB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var aT=/\/+/g;function T0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?OB(""+n.key):e.toString(36)}function Uy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Av:case AB:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+T0(o,0):r,oT(i)?(t="",n!=null&&(t=n.replace(aT,"$&/")+"/"),Uy(i,e,t,"",function(u){return u})):i!=null&&(VC(i)&&(i=LB(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oT(n))for(var a=0;a<n.length;a++){s=n[a];var c=r+T0(s,a);o+=Uy(s,e,t,c,i)}else if(c=IB(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=r+T0(s,a++),o+=Uy(s,e,t,c,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ry(n,e,t){if(n==null)return n;var r=[],i=0;return Uy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function FB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var qn={current:null},Hy={transition:null},jB={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Hy,ReactCurrentOwner:HC};function VR(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:ry,forEach:function(n,e,t){ry(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ry(n,function(){e++}),e},toArray:function(n){return ry(n,function(e){return e})||[]},only:function(n){if(!VC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};we.Component=Vf;we.Fragment=CB;we.Profiler=TB;we.PureComponent=$C;we.StrictMode=_B;we.Suspense=DB;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jB;we.act=VR;we.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=jR({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=HC.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)$R.call(e,c)&&!UR.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Av,type:n.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(n){return n={$$typeof:PB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:kB,_context:n},n.Consumer=n};we.createElement=HR;we.createFactory=function(n){var e=HR.bind(null,n);return e.type=n,e};we.createRef=function(){return{current:null}};we.forwardRef=function(n){return{$$typeof:RB,render:n}};we.isValidElement=VC;we.lazy=function(n){return{$$typeof:NB,_payload:{_status:-1,_result:n},_init:FB}};we.memo=function(n,e){return{$$typeof:MB,type:n,compare:e===void 0?null:e}};we.startTransition=function(n){var e=Hy.transition;Hy.transition={};try{n()}finally{Hy.transition=e}};we.unstable_act=VR;we.useCallback=function(n,e){return qn.current.useCallback(n,e)};we.useContext=function(n){return qn.current.useContext(n)};we.useDebugValue=function(){};we.useDeferredValue=function(n){return qn.current.useDeferredValue(n)};we.useEffect=function(n,e){return qn.current.useEffect(n,e)};we.useId=function(){return qn.current.useId()};we.useImperativeHandle=function(n,e,t){return qn.current.useImperativeHandle(n,e,t)};we.useInsertionEffect=function(n,e){return qn.current.useInsertionEffect(n,e)};we.useLayoutEffect=function(n,e){return qn.current.useLayoutEffect(n,e)};we.useMemo=function(n,e){return qn.current.useMemo(n,e)};we.useReducer=function(n,e,t){return qn.current.useReducer(n,e,t)};we.useRef=function(n){return qn.current.useRef(n)};we.useState=function(n){return qn.current.useState(n)};we.useSyncExternalStore=function(n,e,t){return qn.current.useSyncExternalStore(n,e,t)};we.useTransition=function(){return qn.current.useTransition()};we.version="18.3.1";OR.exports=we;var w=OR.exports;const Ys=db(w),fb=EB({__proto__:null,default:Ys},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BB=w,zB=Symbol.for("react.element"),$B=Symbol.for("react.fragment"),UB=Object.prototype.hasOwnProperty,HB=BB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VB={key:!0,ref:!0,__self:!0,__source:!0};function WR(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UB.call(e,r)&&!VB.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zB,type:n,key:s,ref:o,props:i,_owner:HB.current}}hb.Fragment=$B;hb.jsx=WR;hb.jsxs=WR;LR.exports=hb;var g=LR.exports,GR={exports:{}},qr={},qR={exports:{}},KR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,O){var V=I.length;I.push(O);e:for(;0<V;){var Q=V-1>>>1,G=I[Q];if(0<i(G,O))I[Q]=O,I[V]=G,V=Q;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],V=I.pop();if(V!==O){I[0]=V;e:for(var Q=0,G=I.length,re=G>>>1;Q<re;){var ce=2*(Q+1)-1,Me=I[ce],ge=ce+1,oe=I[ge];if(0>i(Me,V))ge<G&&0>i(oe,Me)?(I[Q]=oe,I[ge]=V,Q=ge):(I[Q]=Me,I[ce]=V,Q=ce);else if(ge<G&&0>i(oe,V))I[Q]=oe,I[ge]=V,Q=ge;else break e}}return O}function i(I,O){var V=I.sortIndex-O.sortIndex;return V!==0?V:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(I){for(var O=t(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=I)r(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=t(u)}}function C(I){if(m=!1,E(I),!y)if(t(c)!==null)y=!0,j(T);else{var O=t(u);O!==null&&B(C,O.startTime-I)}}function T(I,O){y=!1,m&&(m=!1,v(R),R=-1),p=!0;var V=f;try{for(E(O),h=t(c);h!==null&&(!(h.expirationTime>O)||I&&!N());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var G=Q(h.expirationTime<=O);O=n.unstable_now(),typeof G=="function"?h.callback=G:h===t(c)&&r(c),E(O)}else r(c);h=t(c)}if(h!==null)var re=!0;else{var ce=t(u);ce!==null&&B(C,ce.startTime-O),re=!1}return re}finally{h=null,f=V,p=!1}}var k=!1,P=null,R=-1,M=5,D=-1;function N(){return!(n.unstable_now()-D<M)}function F(){if(P!==null){var I=n.unstable_now();D=I;var O=!0;try{O=P(!0,I)}finally{O?z():(k=!1,P=null)}}else k=!1}var z;if(typeof b=="function")z=function(){b(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=F,z=function(){U.postMessage(null)}}else z=function(){S(F,0)};function j(I){P=I,k||(k=!0,z())}function B(I,O){R=S(function(){I(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,j(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(I){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var V=f;f=O;try{return I()}finally{f=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=f;f=I;try{return O()}finally{f=V}},n.unstable_scheduleCallback=function(I,O,V){var Q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,I={id:d++,callback:O,priorityLevel:I,startTime:V,expirationTime:G,sortIndex:-1},V>Q?(I.sortIndex=V,e(u,I),t(c)===null&&I===t(u)&&(m?(v(R),R=-1):m=!0,B(C,V-Q))):(I.sortIndex=G,e(c,I),y||p||(y=!0,j(T))),I},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(I){var O=f;return function(){var V=f;f=O;try{return I.apply(this,arguments)}finally{f=V}}}})(KR);qR.exports=KR;var WB=qR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB=w,Vr=WB;function H(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XR=new Set,nm={};function Vu(n,e){kf(n,e),kf(n+"Capture",e)}function kf(n,e){for(nm[n]=e,n=0;n<e.length;n++)XR.add(e[n])}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NS=Object.prototype.hasOwnProperty,qB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lT={},cT={};function KB(n){return NS.call(cT,n)?!0:NS.call(lT,n)?!1:qB.test(n)?cT[n]=!0:(lT[n]=!0,!1)}function XB(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function YB(n,e,t,r){if(e===null||typeof e>"u"||XB(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kn(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){yn[n]=new Kn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];yn[e]=new Kn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){yn[n]=new Kn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){yn[n]=new Kn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){yn[n]=new Kn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){yn[n]=new Kn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){yn[n]=new Kn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){yn[n]=new Kn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){yn[n]=new Kn(n,5,!1,n.toLowerCase(),null,!1,!1)});var WC=/[\-:]([a-z])/g;function GC(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(WC,GC);yn[e]=new Kn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(WC,GC);yn[e]=new Kn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(WC,GC);yn[e]=new Kn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){yn[n]=new Kn(n,1,!1,n.toLowerCase(),null,!1,!1)});yn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){yn[n]=new Kn(n,1,!1,n.toLowerCase(),null,!0,!0)});function qC(n,e,t,r){var i=yn.hasOwnProperty(e)?yn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YB(e,t,i,r)&&(t=null),r||i===null?KB(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var aa=GB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iy=Symbol.for("react.element"),fd=Symbol.for("react.portal"),pd=Symbol.for("react.fragment"),KC=Symbol.for("react.strict_mode"),IS=Symbol.for("react.profiler"),YR=Symbol.for("react.provider"),QR=Symbol.for("react.context"),XC=Symbol.for("react.forward_ref"),LS=Symbol.for("react.suspense"),OS=Symbol.for("react.suspense_list"),YC=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),ZR=Symbol.for("react.offscreen"),uT=Symbol.iterator;function tp(n){return n===null||typeof n!="object"?null:(n=uT&&n[uT]||n["@@iterator"],typeof n=="function"?n:null)}var vt=Object.assign,k0;function mp(n){if(k0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);k0=e&&e[1]||""}return`
`+k0+n}var P0=!1;function R0(n,e){if(!n||P0)return"";P0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{P0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?mp(n):""}function QB(n){switch(n.tag){case 5:return mp(n.type);case 16:return mp("Lazy");case 13:return mp("Suspense");case 19:return mp("SuspenseList");case 0:case 2:case 15:return n=R0(n.type,!1),n;case 11:return n=R0(n.type.render,!1),n;case 1:return n=R0(n.type,!0),n;default:return""}}function FS(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case pd:return"Fragment";case fd:return"Portal";case IS:return"Profiler";case KC:return"StrictMode";case LS:return"Suspense";case OS:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case QR:return(n.displayName||"Context")+".Consumer";case YR:return(n._context.displayName||"Context")+".Provider";case XC:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case YC:return e=n.displayName||null,e!==null?e:FS(n.type)||"Memo";case va:e=n._payload,n=n._init;try{return FS(n(e))}catch{}}return null}function ZB(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FS(e);case 8:return e===KC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ll(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function JR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JB(n){var e=JR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sy(n){n._valueTracker||(n._valueTracker=JB(n))}function eD(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=JR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function $x(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function jS(n,e){var t=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function dT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ll(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tD(n,e){e=e.checked,e!=null&&qC(n,"checked",e,!1)}function BS(n,e){tD(n,e);var t=Ll(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?zS(n,e.type,t):e.hasOwnProperty("defaultValue")&&zS(n,e.type,Ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function zS(n,e,t){(e!=="number"||$x(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gp=Array.isArray;function Rd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ll(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function $S(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(H(92));if(gp(t)){if(1<t.length)throw Error(H(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ll(t)}}function nD(n,e){var t=Ll(e.value),r=Ll(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function pT(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function rD(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function US(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?rD(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var oy,iD=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(oy=oy||document.createElement("div"),oy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Hp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e3=["Webkit","ms","Moz","O"];Object.keys(Hp).forEach(function(n){e3.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Hp[e]=Hp[n]})});function sD(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Hp.hasOwnProperty(n)&&Hp[n]?(""+e).trim():e+"px"}function oD(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=sD(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var t3=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HS(n,e){if(e){if(t3[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function VS(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WS=null;function QC(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var GS=null,Dd=null,Md=null;function mT(n){if(n=Tv(n)){if(typeof GS!="function")throw Error(H(280));var e=n.stateNode;e&&(e=yb(e),GS(n.stateNode,n.type,e))}}function aD(n){Dd?Md?Md.push(n):Md=[n]:Dd=n}function lD(){if(Dd){var n=Dd,e=Md;if(Md=Dd=null,mT(n),e)for(n=0;n<e.length;n++)mT(e[n])}}function cD(n,e){return n(e)}function uD(){}var D0=!1;function dD(n,e,t){if(D0)return n(e,t);D0=!0;try{return cD(n,e,t)}finally{D0=!1,(Dd!==null||Md!==null)&&(uD(),lD())}}function im(n,e){var t=n.stateNode;if(t===null)return null;var r=yb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(H(231,e,typeof t));return t}var qS=!1;if(Ko)try{var np={};Object.defineProperty(np,"passive",{get:function(){qS=!0}}),window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{qS=!1}function n3(n,e,t,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Vp=!1,Ux=null,Hx=!1,KS=null,r3={onError:function(n){Vp=!0,Ux=n}};function i3(n,e,t,r,i,s,o,a,c){Vp=!1,Ux=null,n3.apply(r3,arguments)}function s3(n,e,t,r,i,s,o,a,c){if(i3.apply(this,arguments),Vp){if(Vp){var u=Ux;Vp=!1,Ux=null}else throw Error(H(198));Hx||(Hx=!0,KS=u)}}function Wu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function hD(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function gT(n){if(Wu(n)!==n)throw Error(H(188))}function o3(n){var e=n.alternate;if(!e){if(e=Wu(n),e===null)throw Error(H(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return gT(i),n;if(s===r)return gT(i),e;s=s.sibling}throw Error(H(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(t.alternate!==r)throw Error(H(190))}if(t.tag!==3)throw Error(H(188));return t.stateNode.current===t?n:e}function fD(n){return n=o3(n),n!==null?pD(n):null}function pD(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=pD(n);if(e!==null)return e;n=n.sibling}return null}var mD=Vr.unstable_scheduleCallback,vT=Vr.unstable_cancelCallback,a3=Vr.unstable_shouldYield,l3=Vr.unstable_requestPaint,Mt=Vr.unstable_now,c3=Vr.unstable_getCurrentPriorityLevel,ZC=Vr.unstable_ImmediatePriority,gD=Vr.unstable_UserBlockingPriority,Vx=Vr.unstable_NormalPriority,u3=Vr.unstable_LowPriority,vD=Vr.unstable_IdlePriority,pb=null,Os=null;function d3(n){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(pb,n,void 0,(n.current.flags&128)===128)}catch{}}var Hi=Math.clz32?Math.clz32:p3,h3=Math.log,f3=Math.LN2;function p3(n){return n>>>=0,n===0?32:31-(h3(n)/f3|0)|0}var ay=64,ly=4194304;function vp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wx(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=vp(a):(s&=o,s!==0&&(r=vp(s)))}else o=t&~i,o!==0?r=vp(o):s!==0&&(r=vp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Hi(e),i=1<<t,r|=n[t],e&=~i;return r}function m3(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g3(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Hi(s),a=1<<o,c=i[o];c===-1?(!(a&t)||a&r)&&(i[o]=m3(a,e)):c<=e&&(n.expiredLanes|=a),s&=~a}}function XS(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yD(){var n=ay;return ay<<=1,!(ay&4194240)&&(ay=64),n}function M0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Cv(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Hi(e),n[e]=t}function v3(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Hi(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function JC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Hi(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Oe=0;function xD(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var wD,e1,bD,SD,ED,YS=!1,cy=[],_l=null,Tl=null,kl=null,sm=new Map,om=new Map,xa=[],y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yT(n,e){switch(n){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":sm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(e.pointerId)}}function rp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tv(e),e!==null&&e1(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function x3(n,e,t,r,i){switch(e){case"focusin":return _l=rp(_l,n,e,t,r,i),!0;case"dragenter":return Tl=rp(Tl,n,e,t,r,i),!0;case"mouseover":return kl=rp(kl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return sm.set(s,rp(sm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,om.set(s,rp(om.get(s)||null,n,e,t,r,i)),!0}return!1}function AD(n){var e=sc(n.target);if(e!==null){var t=Wu(e);if(t!==null){if(e=t.tag,e===13){if(e=hD(t),e!==null){n.blockedOn=e,ED(n.priority,function(){bD(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=QS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);WS=r,t.target.dispatchEvent(r),WS=null}else return e=Tv(t),e!==null&&e1(e),n.blockedOn=t,!1;e.shift()}return!0}function xT(n,e,t){Vy(n)&&t.delete(e)}function w3(){YS=!1,_l!==null&&Vy(_l)&&(_l=null),Tl!==null&&Vy(Tl)&&(Tl=null),kl!==null&&Vy(kl)&&(kl=null),sm.forEach(xT),om.forEach(xT)}function ip(n,e){n.blockedOn===e&&(n.blockedOn=null,YS||(YS=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,w3)))}function am(n){function e(i){return ip(i,n)}if(0<cy.length){ip(cy[0],n);for(var t=1;t<cy.length;t++){var r=cy[t];r.blockedOn===n&&(r.blockedOn=null)}}for(_l!==null&&ip(_l,n),Tl!==null&&ip(Tl,n),kl!==null&&ip(kl,n),sm.forEach(e),om.forEach(e),t=0;t<xa.length;t++)r=xa[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xa.length&&(t=xa[0],t.blockedOn===null);)AD(t),t.blockedOn===null&&xa.shift()}var Nd=aa.ReactCurrentBatchConfig,Gx=!0;function b3(n,e,t,r){var i=Oe,s=Nd.transition;Nd.transition=null;try{Oe=1,t1(n,e,t,r)}finally{Oe=i,Nd.transition=s}}function S3(n,e,t,r){var i=Oe,s=Nd.transition;Nd.transition=null;try{Oe=4,t1(n,e,t,r)}finally{Oe=i,Nd.transition=s}}function t1(n,e,t,r){if(Gx){var i=QS(n,e,t,r);if(i===null)U0(n,e,r,qx,t),yT(n,r);else if(x3(i,n,e,t,r))r.stopPropagation();else if(yT(n,r),e&4&&-1<y3.indexOf(n)){for(;i!==null;){var s=Tv(i);if(s!==null&&wD(s),s=QS(n,e,t,r),s===null&&U0(n,e,r,qx,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else U0(n,e,r,null,t)}}var qx=null;function QS(n,e,t,r){if(qx=null,n=QC(r),n=sc(n),n!==null)if(e=Wu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=hD(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return qx=n,null}function CD(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c3()){case ZC:return 1;case gD:return 4;case Vx:case u3:return 16;case vD:return 536870912;default:return 16}default:return 16}}var Al=null,n1=null,Wy=null;function _D(){if(Wy)return Wy;var n,e=n1,t=e.length,r,i="value"in Al?Al.value:Al.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Wy=i.slice(n,1<r?1-r:void 0)}function Gy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function uy(){return!0}function wT(){return!1}function Kr(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uy:wT,this.isPropagationStopped=wT,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=uy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=uy)},persist:function(){},isPersistent:uy}),e}var Wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r1=Kr(Wf),_v=vt({},Wf,{view:0,detail:0}),E3=Kr(_v),N0,I0,sp,mb=vt({},_v,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sp&&(sp&&n.type==="mousemove"?(N0=n.screenX-sp.screenX,I0=n.screenY-sp.screenY):I0=N0=0,sp=n),N0)},movementY:function(n){return"movementY"in n?n.movementY:I0}}),bT=Kr(mb),A3=vt({},mb,{dataTransfer:0}),C3=Kr(A3),_3=vt({},_v,{relatedTarget:0}),L0=Kr(_3),T3=vt({},Wf,{animationName:0,elapsedTime:0,pseudoElement:0}),k3=Kr(T3),P3=vt({},Wf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),R3=Kr(P3),D3=vt({},Wf,{data:0}),ST=Kr(D3),M3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L3(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=I3[n])?!!e[n]:!1}function i1(){return L3}var O3=vt({},_v,{key:function(n){if(n.key){var e=M3[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Gy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?N3[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i1,charCode:function(n){return n.type==="keypress"?Gy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),F3=Kr(O3),j3=vt({},mb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ET=Kr(j3),B3=vt({},_v,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i1}),z3=Kr(B3),$3=vt({},Wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),U3=Kr($3),H3=vt({},mb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),V3=Kr(H3),W3=[9,13,27,32],s1=Ko&&"CompositionEvent"in window,Wp=null;Ko&&"documentMode"in document&&(Wp=document.documentMode);var G3=Ko&&"TextEvent"in window&&!Wp,TD=Ko&&(!s1||Wp&&8<Wp&&11>=Wp),AT=" ",CT=!1;function kD(n,e){switch(n){case"keyup":return W3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PD(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var md=!1;function q3(n,e){switch(n){case"compositionend":return PD(e);case"keypress":return e.which!==32?null:(CT=!0,AT);case"textInput":return n=e.data,n===AT&&CT?null:n;default:return null}}function K3(n,e){if(md)return n==="compositionend"||!s1&&kD(n,e)?(n=_D(),Wy=n1=Al=null,md=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TD&&e.locale!=="ko"?null:e.data;default:return null}}var X3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!X3[n.type]:e==="textarea"}function RD(n,e,t,r){aD(r),e=Kx(e,"onChange"),0<e.length&&(t=new r1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Gp=null,lm=null;function Y3(n){$D(n,0)}function gb(n){var e=yd(n);if(eD(e))return n}function Q3(n,e){if(n==="change")return e}var DD=!1;if(Ko){var O0;if(Ko){var F0="oninput"in document;if(!F0){var TT=document.createElement("div");TT.setAttribute("oninput","return;"),F0=typeof TT.oninput=="function"}O0=F0}else O0=!1;DD=O0&&(!document.documentMode||9<document.documentMode)}function kT(){Gp&&(Gp.detachEvent("onpropertychange",MD),lm=Gp=null)}function MD(n){if(n.propertyName==="value"&&gb(lm)){var e=[];RD(e,lm,n,QC(n)),dD(Y3,e)}}function Z3(n,e,t){n==="focusin"?(kT(),Gp=e,lm=t,Gp.attachEvent("onpropertychange",MD)):n==="focusout"&&kT()}function J3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gb(lm)}function ez(n,e){if(n==="click")return gb(e)}function tz(n,e){if(n==="input"||n==="change")return gb(e)}function nz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wi=typeof Object.is=="function"?Object.is:nz;function cm(n,e){if(Wi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!NS.call(e,i)||!Wi(n[i],e[i]))return!1}return!0}function PT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function RT(n,e){var t=PT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=PT(t)}}function ND(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ND(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ID(){for(var n=window,e=$x();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=$x(n.document)}return e}function o1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function rz(n){var e=ID(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ND(t.ownerDocument.documentElement,t)){if(r!==null&&o1(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=RT(t,s);var o=RT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var iz=Ko&&"documentMode"in document&&11>=document.documentMode,gd=null,ZS=null,qp=null,JS=!1;function DT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;JS||gd==null||gd!==$x(r)||(r=gd,"selectionStart"in r&&o1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qp&&cm(qp,r)||(qp=r,r=Kx(ZS,"onSelect"),0<r.length&&(e=new r1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=gd)))}function dy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var vd={animationend:dy("Animation","AnimationEnd"),animationiteration:dy("Animation","AnimationIteration"),animationstart:dy("Animation","AnimationStart"),transitionend:dy("Transition","TransitionEnd")},j0={},LD={};Ko&&(LD=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function vb(n){if(j0[n])return j0[n];if(!vd[n])return n;var e=vd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in LD)return j0[n]=e[t];return n}var OD=vb("animationend"),FD=vb("animationiteration"),jD=vb("animationstart"),BD=vb("transitionend"),zD=new Map,MT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vl(n,e){zD.set(n,e),Vu(e,[n])}for(var B0=0;B0<MT.length;B0++){var z0=MT[B0],sz=z0.toLowerCase(),oz=z0[0].toUpperCase()+z0.slice(1);Vl(sz,"on"+oz)}Vl(OD,"onAnimationEnd");Vl(FD,"onAnimationIteration");Vl(jD,"onAnimationStart");Vl("dblclick","onDoubleClick");Vl("focusin","onFocus");Vl("focusout","onBlur");Vl(BD,"onTransitionEnd");kf("onMouseEnter",["mouseout","mouseover"]);kf("onMouseLeave",["mouseout","mouseover"]);kf("onPointerEnter",["pointerout","pointerover"]);kf("onPointerLeave",["pointerout","pointerover"]);Vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),az=new Set("cancel close invalid load scroll toggle".split(" ").concat(yp));function NT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,s3(r,e,void 0,n),n.currentTarget=null}function $D(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;NT(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;NT(i,a,u),s=c}}}if(Hx)throw n=KS,Hx=!1,KS=null,n}function tt(n,e){var t=e[iE];t===void 0&&(t=e[iE]=new Set);var r=n+"__bubble";t.has(r)||(UD(e,n,2,!1),t.add(r))}function $0(n,e,t){var r=0;e&&(r|=4),UD(t,n,r,e)}var hy="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[hy]){n[hy]=!0,XR.forEach(function(t){t!=="selectionchange"&&(az.has(t)||$0(t,!1,n),$0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hy]||(e[hy]=!0,$0("selectionchange",!1,e))}}function UD(n,e,t,r){switch(CD(e)){case 1:var i=b3;break;case 4:i=S3;break;default:i=t1}t=i.bind(null,e,t,n),i=void 0,!qS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function U0(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sc(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dD(function(){var u=s,d=QC(t),h=[];e:{var f=zD.get(n);if(f!==void 0){var p=r1,y=n;switch(n){case"keypress":if(Gy(t)===0)break e;case"keydown":case"keyup":p=F3;break;case"focusin":y="focus",p=L0;break;case"focusout":y="blur",p=L0;break;case"beforeblur":case"afterblur":p=L0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=C3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=z3;break;case OD:case FD:case jD:p=k3;break;case BD:p=U3;break;case"scroll":p=E3;break;case"wheel":p=V3;break;case"copy":case"cut":case"paste":p=R3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ET}var m=(e&4)!==0,S=!m&&n==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var b=u,E;b!==null;){E=b;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,v!==null&&(C=im(b,v),C!=null&&m.push(dm(b,C,E)))),S)break;b=b.return}0<m.length&&(f=new p(f,y,null,t,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==WS&&(y=t.relatedTarget||t.fromElement)&&(sc(y)||y[Xo]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=u,y=y?sc(y):null,y!==null&&(S=Wu(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=bT,C="onMouseLeave",v="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=ET,C="onPointerLeave",v="onPointerEnter",b="pointer"),S=p==null?f:yd(p),E=y==null?f:yd(y),f=new m(C,b+"leave",p,t,d),f.target=S,f.relatedTarget=E,C=null,sc(d)===u&&(m=new m(v,b+"enter",y,t,d),m.target=E,m.relatedTarget=S,C=m),S=C,p&&y)t:{for(m=p,v=y,b=0,E=m;E;E=Ju(E))b++;for(E=0,C=v;C;C=Ju(C))E++;for(;0<b-E;)m=Ju(m),b--;for(;0<E-b;)v=Ju(v),E--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ju(m),v=Ju(v)}m=null}else m=null;p!==null&&IT(h,f,p,m,!1),y!==null&&S!==null&&IT(h,S,y,m,!0)}}e:{if(f=u?yd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=Q3;else if(_T(f))if(DD)T=tz;else{T=J3;var k=Z3}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=ez);if(T&&(T=T(n,u))){RD(h,T,t,d);break e}k&&k(n,f,u),n==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&zS(f,"number",f.value)}switch(k=u?yd(u):window,n){case"focusin":(_T(k)||k.contentEditable==="true")&&(gd=k,ZS=u,qp=null);break;case"focusout":qp=ZS=gd=null;break;case"mousedown":JS=!0;break;case"contextmenu":case"mouseup":case"dragend":JS=!1,DT(h,t,d);break;case"selectionchange":if(iz)break;case"keydown":case"keyup":DT(h,t,d)}var P;if(s1)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else md?kD(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(TD&&t.locale!=="ko"&&(md||R!=="onCompositionStart"?R==="onCompositionEnd"&&md&&(P=_D()):(Al=d,n1="value"in Al?Al.value:Al.textContent,md=!0)),k=Kx(u,R),0<k.length&&(R=new ST(R,n,null,t,d),h.push({event:R,listeners:k}),P?R.data=P:(P=PD(t),P!==null&&(R.data=P)))),(P=G3?q3(n,t):K3(n,t))&&(u=Kx(u,"onBeforeInput"),0<u.length&&(d=new ST("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}$D(h,e)})}function dm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Kx(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=im(n,t),s!=null&&r.unshift(dm(n,s,i)),s=im(n,e),s!=null&&r.push(dm(n,s,i))),n=n.return}return r}function Ju(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function IT(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=im(t,s),c!=null&&o.unshift(dm(t,c,a))):i||(c=im(t,s),c!=null&&o.push(dm(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var lz=/\r\n?/g,cz=/\u0000|\uFFFD/g;function LT(n){return(typeof n=="string"?n:""+n).replace(lz,`
`).replace(cz,"")}function fy(n,e,t){if(e=LT(e),LT(n)!==e&&t)throw Error(H(425))}function Xx(){}var eE=null,tE=null;function nE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rE=typeof setTimeout=="function"?setTimeout:void 0,uz=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,dz=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(n){return OT.resolve(null).then(n).catch(hz)}:rE;function hz(n){setTimeout(function(){throw n})}function H0(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),am(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);am(e)}function Pl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function FT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Gf=Math.random().toString(36).slice(2),Ds="__reactFiber$"+Gf,hm="__reactProps$"+Gf,Xo="__reactContainer$"+Gf,iE="__reactEvents$"+Gf,fz="__reactListeners$"+Gf,pz="__reactHandles$"+Gf;function sc(n){var e=n[Ds];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Xo]||t[Ds]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=FT(n);n!==null;){if(t=n[Ds])return t;n=FT(n)}return e}n=t,t=n.parentNode}return null}function Tv(n){return n=n[Ds]||n[Xo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function yd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(H(33))}function yb(n){return n[hm]||null}var sE=[],xd=-1;function Wl(n){return{current:n}}function rt(n){0>xd||(n.current=sE[xd],sE[xd]=null,xd--)}function Ze(n,e){xd++,sE[xd]=n.current,n.current=e}var Ol={},Dn=Wl(Ol),dr=Wl(!1),Nu=Ol;function Pf(n,e){var t=n.type.contextTypes;if(!t)return Ol;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function hr(n){return n=n.childContextTypes,n!=null}function Yx(){rt(dr),rt(Dn)}function jT(n,e,t){if(Dn.current!==Ol)throw Error(H(168));Ze(Dn,e),Ze(dr,t)}function HD(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,ZB(n)||"Unknown",i));return vt({},t,r)}function Qx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ol,Nu=Dn.current,Ze(Dn,n),Ze(dr,dr.current),!0}function BT(n,e,t){var r=n.stateNode;if(!r)throw Error(H(169));t?(n=HD(n,e,Nu),r.__reactInternalMemoizedMergedChildContext=n,rt(dr),rt(Dn),Ze(Dn,n)):rt(dr),Ze(dr,t)}var eo=null,xb=!1,V0=!1;function VD(n){eo===null?eo=[n]:eo.push(n)}function mz(n){xb=!0,VD(n)}function Gl(){if(!V0&&eo!==null){V0=!0;var n=0,e=Oe;try{var t=eo;for(Oe=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}eo=null,xb=!1}catch(i){throw eo!==null&&(eo=eo.slice(n+1)),mD(ZC,Gl),i}finally{Oe=e,V0=!1}}return null}var wd=[],bd=0,Zx=null,Jx=0,ui=[],di=0,Iu=null,$o=1,Uo="";function Yl(n,e){wd[bd++]=Jx,wd[bd++]=Zx,Zx=n,Jx=e}function WD(n,e,t){ui[di++]=$o,ui[di++]=Uo,ui[di++]=Iu,Iu=n;var r=$o;n=Uo;var i=32-Hi(r)-1;r&=~(1<<i),t+=1;var s=32-Hi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$o=1<<32-Hi(e)+i|t<<i|r,Uo=s+n}else $o=1<<s|t<<i|r,Uo=n}function a1(n){n.return!==null&&(Yl(n,1),WD(n,1,0))}function l1(n){for(;n===Zx;)Zx=wd[--bd],wd[bd]=null,Jx=wd[--bd],wd[bd]=null;for(;n===Iu;)Iu=ui[--di],ui[di]=null,Uo=ui[--di],ui[di]=null,$o=ui[--di],ui[di]=null}var $r=null,Br=null,lt=!1,zi=null;function GD(n,e){var t=fi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function zT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,$r=n,Br=Pl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,$r=n,Br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Iu!==null?{id:$o,overflow:Uo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=fi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,$r=n,Br=null,!0):!1;default:return!1}}function oE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function aE(n){if(lt){var e=Br;if(e){var t=e;if(!zT(n,e)){if(oE(n))throw Error(H(418));e=Pl(t.nextSibling);var r=$r;e&&zT(n,e)?GD(r,t):(n.flags=n.flags&-4097|2,lt=!1,$r=n)}}else{if(oE(n))throw Error(H(418));n.flags=n.flags&-4097|2,lt=!1,$r=n}}}function $T(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$r=n}function py(n){if(n!==$r)return!1;if(!lt)return $T(n),lt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!nE(n.type,n.memoizedProps)),e&&(e=Br)){if(oE(n))throw qD(),Error(H(418));for(;e;)GD(n,e),e=Pl(e.nextSibling)}if($T(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(H(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Br=Pl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Br=null}}else Br=$r?Pl(n.stateNode.nextSibling):null;return!0}function qD(){for(var n=Br;n;)n=Pl(n.nextSibling)}function Rf(){Br=$r=null,lt=!1}function c1(n){zi===null?zi=[n]:zi.push(n)}var gz=aa.ReactCurrentBatchConfig;function op(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(H(309));var r=t.stateNode}if(!r)throw Error(H(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(H(284));if(!t._owner)throw Error(H(290,n))}return n}function my(n,e){throw n=Object.prototype.toString.call(e),Error(H(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function UT(n){var e=n._init;return e(n._payload)}function KD(n){function e(v,b){if(n){var E=v.deletions;E===null?(v.deletions=[b],v.flags|=16):E.push(b)}}function t(v,b){if(!n)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Nl(v,b),v.index=0,v.sibling=null,v}function s(v,b,E){return v.index=E,n?(E=v.alternate,E!==null?(E=E.index,E<b?(v.flags|=2,b):E):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,b,E,C){return b===null||b.tag!==6?(b=Q0(E,v.mode,C),b.return=v,b):(b=i(b,E),b.return=v,b)}function c(v,b,E,C){var T=E.type;return T===pd?d(v,b,E.props.children,C,E.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&UT(T)===b.type)?(C=i(b,E.props),C.ref=op(v,b,E),C.return=v,C):(C=Jy(E.type,E.key,E.props,null,v.mode,C),C.ref=op(v,b,E),C.return=v,C)}function u(v,b,E,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Z0(E,v.mode,C),b.return=v,b):(b=i(b,E.children||[]),b.return=v,b)}function d(v,b,E,C,T){return b===null||b.tag!==7?(b=Du(E,v.mode,C,T),b.return=v,b):(b=i(b,E),b.return=v,b)}function h(v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Q0(""+b,v.mode,E),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case iy:return E=Jy(b.type,b.key,b.props,null,v.mode,E),E.ref=op(v,null,b),E.return=v,E;case fd:return b=Z0(b,v.mode,E),b.return=v,b;case va:var C=b._init;return h(v,C(b._payload),E)}if(gp(b)||tp(b))return b=Du(b,v.mode,E,null),b.return=v,b;my(v,b)}return null}function f(v,b,E,C){var T=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(v,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iy:return E.key===T?c(v,b,E,C):null;case fd:return E.key===T?u(v,b,E,C):null;case va:return T=E._init,f(v,b,T(E._payload),C)}if(gp(E)||tp(E))return T!==null?null:d(v,b,E,C,null);my(v,E)}return null}function p(v,b,E,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(E)||null,a(b,v,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case iy:return v=v.get(C.key===null?E:C.key)||null,c(b,v,C,T);case fd:return v=v.get(C.key===null?E:C.key)||null,u(b,v,C,T);case va:var k=C._init;return p(v,b,E,k(C._payload),T)}if(gp(C)||tp(C))return v=v.get(E)||null,d(b,v,C,T,null);my(b,C)}return null}function y(v,b,E,C){for(var T=null,k=null,P=b,R=b=0,M=null;P!==null&&R<E.length;R++){P.index>R?(M=P,P=null):M=P.sibling;var D=f(v,P,E[R],C);if(D===null){P===null&&(P=M);break}n&&P&&D.alternate===null&&e(v,P),b=s(D,b,R),k===null?T=D:k.sibling=D,k=D,P=M}if(R===E.length)return t(v,P),lt&&Yl(v,R),T;if(P===null){for(;R<E.length;R++)P=h(v,E[R],C),P!==null&&(b=s(P,b,R),k===null?T=P:k.sibling=P,k=P);return lt&&Yl(v,R),T}for(P=r(v,P);R<E.length;R++)M=p(P,v,R,E[R],C),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?R:M.key),b=s(M,b,R),k===null?T=M:k.sibling=M,k=M);return n&&P.forEach(function(N){return e(v,N)}),lt&&Yl(v,R),T}function m(v,b,E,C){var T=tp(E);if(typeof T!="function")throw Error(H(150));if(E=T.call(E),E==null)throw Error(H(151));for(var k=T=null,P=b,R=b=0,M=null,D=E.next();P!==null&&!D.done;R++,D=E.next()){P.index>R?(M=P,P=null):M=P.sibling;var N=f(v,P,D.value,C);if(N===null){P===null&&(P=M);break}n&&P&&N.alternate===null&&e(v,P),b=s(N,b,R),k===null?T=N:k.sibling=N,k=N,P=M}if(D.done)return t(v,P),lt&&Yl(v,R),T;if(P===null){for(;!D.done;R++,D=E.next())D=h(v,D.value,C),D!==null&&(b=s(D,b,R),k===null?T=D:k.sibling=D,k=D);return lt&&Yl(v,R),T}for(P=r(v,P);!D.done;R++,D=E.next())D=p(P,v,R,D.value,C),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?R:D.key),b=s(D,b,R),k===null?T=D:k.sibling=D,k=D);return n&&P.forEach(function(F){return e(v,F)}),lt&&Yl(v,R),T}function S(v,b,E,C){if(typeof E=="object"&&E!==null&&E.type===pd&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case iy:e:{for(var T=E.key,k=b;k!==null;){if(k.key===T){if(T=E.type,T===pd){if(k.tag===7){t(v,k.sibling),b=i(k,E.props.children),b.return=v,v=b;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===va&&UT(T)===k.type){t(v,k.sibling),b=i(k,E.props),b.ref=op(v,k,E),b.return=v,v=b;break e}t(v,k);break}else e(v,k);k=k.sibling}E.type===pd?(b=Du(E.props.children,v.mode,C,E.key),b.return=v,v=b):(C=Jy(E.type,E.key,E.props,null,v.mode,C),C.ref=op(v,b,E),C.return=v,v=C)}return o(v);case fd:e:{for(k=E.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){t(v,b.sibling),b=i(b,E.children||[]),b.return=v,v=b;break e}else{t(v,b);break}else e(v,b);b=b.sibling}b=Z0(E,v.mode,C),b.return=v,v=b}return o(v);case va:return k=E._init,S(v,b,k(E._payload),C)}if(gp(E))return y(v,b,E,C);if(tp(E))return m(v,b,E,C);my(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(t(v,b.sibling),b=i(b,E),b.return=v,v=b):(t(v,b),b=Q0(E,v.mode,C),b.return=v,v=b),o(v)):t(v,b)}return S}var Df=KD(!0),XD=KD(!1),ew=Wl(null),tw=null,Sd=null,u1=null;function d1(){u1=Sd=tw=null}function h1(n){var e=ew.current;rt(ew),n._currentValue=e}function lE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Id(n,e){tw=n,u1=Sd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ur=!0),n.firstContext=null)}function vi(n){var e=n._currentValue;if(u1!==n)if(n={context:n,memoizedValue:e,next:null},Sd===null){if(tw===null)throw Error(H(308));Sd=n,tw.dependencies={lanes:0,firstContext:n}}else Sd=Sd.next=n;return e}var oc=null;function f1(n){oc===null?oc=[n]:oc.push(n)}function YD(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,f1(e)):(t.next=i.next,i.next=t),e.interleaved=t,Yo(n,r)}function Yo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ya=!1;function p1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QD(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ho(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yo(n,t)}return i=r.interleaved,i===null?(e.next=e,f1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yo(n,t)}function qy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,JC(n,t)}}function HT(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function nw(n,e,t,r){var i=n.updateQueue;ya=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,d=u=c=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,m=a;switch(f=e,p=t,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=vt({},h,f);break e;case 2:ya=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ou|=o,n.lanes=o,n.memoizedState=h}}function VT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var kv={},Fs=Wl(kv),fm=Wl(kv),pm=Wl(kv);function ac(n){if(n===kv)throw Error(H(174));return n}function m1(n,e){switch(Ze(pm,e),Ze(fm,n),Ze(Fs,kv),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:US(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=US(e,n)}rt(Fs),Ze(Fs,e)}function Mf(){rt(Fs),rt(fm),rt(pm)}function ZD(n){ac(pm.current);var e=ac(Fs.current),t=US(e,n.type);e!==t&&(Ze(fm,n),Ze(Fs,t))}function g1(n){fm.current===n&&(rt(Fs),rt(fm))}var ft=Wl(0);function rw(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var W0=[];function v1(){for(var n=0;n<W0.length;n++)W0[n]._workInProgressVersionPrimary=null;W0.length=0}var Ky=aa.ReactCurrentDispatcher,G0=aa.ReactCurrentBatchConfig,Lu=0,mt=null,Ut=null,en=null,iw=!1,Kp=!1,mm=0,vz=0;function xn(){throw Error(H(321))}function y1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Wi(n[t],e[t]))return!1;return!0}function x1(n,e,t,r,i,s){if(Lu=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ky.current=n===null||n.memoizedState===null?bz:Sz,n=t(r,i),Kp){s=0;do{if(Kp=!1,mm=0,25<=s)throw Error(H(301));s+=1,en=Ut=null,e.updateQueue=null,Ky.current=Ez,n=t(r,i)}while(Kp)}if(Ky.current=sw,e=Ut!==null&&Ut.next!==null,Lu=0,en=Ut=mt=null,iw=!1,e)throw Error(H(300));return n}function w1(){var n=mm!==0;return mm=0,n}function is(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?mt.memoizedState=en=n:en=en.next=n,en}function yi(){if(Ut===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Ut.next;var e=en===null?mt.memoizedState:en.next;if(e!==null)en=e,Ut=n;else{if(n===null)throw Error(H(310));Ut=n,n={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},en===null?mt.memoizedState=en=n:en=en.next=n}return en}function gm(n,e){return typeof e=="function"?e(n):e}function q0(n){var e=yi(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var r=Ut,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((Lu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,mt.lanes|=d,Ou|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Wi(r,e.memoizedState)||(ur=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,mt.lanes|=s,Ou|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function K0(n){var e=yi(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Wi(s,e.memoizedState)||(ur=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function JD(){}function eM(n,e){var t=mt,r=yi(),i=e(),s=!Wi(r.memoizedState,i);if(s&&(r.memoizedState=i,ur=!0),r=r.queue,b1(rM.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||en!==null&&en.memoizedState.tag&1){if(t.flags|=2048,vm(9,nM.bind(null,t,r,i,e),void 0,null),nn===null)throw Error(H(349));Lu&30||tM(t,e,i)}return i}function tM(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function nM(n,e,t,r){e.value=t,e.getSnapshot=r,iM(e)&&sM(n)}function rM(n,e,t){return t(function(){iM(e)&&sM(n)})}function iM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Wi(n,t)}catch{return!0}}function sM(n){var e=Yo(n,1);e!==null&&Vi(e,n,1,-1)}function WT(n){var e=is();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:n},e.queue=n,n=n.dispatch=wz.bind(null,mt,n),[e.memoizedState,n]}function vm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function oM(){return yi().memoizedState}function Xy(n,e,t,r){var i=is();mt.flags|=n,i.memoizedState=vm(1|e,t,void 0,r===void 0?null:r)}function wb(n,e,t,r){var i=yi();r=r===void 0?null:r;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,r!==null&&y1(r,o.deps)){i.memoizedState=vm(e,t,s,r);return}}mt.flags|=n,i.memoizedState=vm(1|e,t,s,r)}function GT(n,e){return Xy(8390656,8,n,e)}function b1(n,e){return wb(2048,8,n,e)}function aM(n,e){return wb(4,2,n,e)}function lM(n,e){return wb(4,4,n,e)}function cM(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function uM(n,e,t){return t=t!=null?t.concat([n]):null,wb(4,4,cM.bind(null,e,n),t)}function S1(){}function dM(n,e){var t=yi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function hM(n,e){var t=yi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function fM(n,e,t){return Lu&21?(Wi(t,e)||(t=yD(),mt.lanes|=t,Ou|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ur=!0),n.memoizedState=t)}function yz(n,e){var t=Oe;Oe=t!==0&&4>t?t:4,n(!0);var r=G0.transition;G0.transition={};try{n(!1),e()}finally{Oe=t,G0.transition=r}}function pM(){return yi().memoizedState}function xz(n,e,t){var r=Ml(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},mM(n))gM(e,t);else if(t=YD(n,e,t,r),t!==null){var i=Vn();Vi(t,n,r,i),vM(t,e,r)}}function wz(n,e,t){var r=Ml(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(mM(n))gM(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Wi(a,o)){var c=e.interleaved;c===null?(i.next=i,f1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=YD(n,e,i,r),t!==null&&(i=Vn(),Vi(t,n,r,i),vM(t,e,r))}}function mM(n){var e=n.alternate;return n===mt||e!==null&&e===mt}function gM(n,e){Kp=iw=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vM(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,JC(n,t)}}var sw={readContext:vi,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},bz={readContext:vi,useCallback:function(n,e){return is().memoizedState=[n,e===void 0?null:e],n},useContext:vi,useEffect:GT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Xy(4194308,4,cM.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Xy(4194308,4,n,e)},useInsertionEffect:function(n,e){return Xy(4,2,n,e)},useMemo:function(n,e){var t=is();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=is();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=xz.bind(null,mt,n),[r.memoizedState,n]},useRef:function(n){var e=is();return n={current:n},e.memoizedState=n},useState:WT,useDebugValue:S1,useDeferredValue:function(n){return is().memoizedState=n},useTransition:function(){var n=WT(!1),e=n[0];return n=yz.bind(null,n[1]),is().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=mt,i=is();if(lt){if(t===void 0)throw Error(H(407));t=t()}else{if(t=e(),nn===null)throw Error(H(349));Lu&30||tM(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,GT(rM.bind(null,r,s,n),[n]),r.flags|=2048,vm(9,nM.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=is(),e=nn.identifierPrefix;if(lt){var t=Uo,r=$o;t=(r&~(1<<32-Hi(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=vz++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Sz={readContext:vi,useCallback:dM,useContext:vi,useEffect:b1,useImperativeHandle:uM,useInsertionEffect:aM,useLayoutEffect:lM,useMemo:hM,useReducer:q0,useRef:oM,useState:function(){return q0(gm)},useDebugValue:S1,useDeferredValue:function(n){var e=yi();return fM(e,Ut.memoizedState,n)},useTransition:function(){var n=q0(gm)[0],e=yi().memoizedState;return[n,e]},useMutableSource:JD,useSyncExternalStore:eM,useId:pM,unstable_isNewReconciler:!1},Ez={readContext:vi,useCallback:dM,useContext:vi,useEffect:b1,useImperativeHandle:uM,useInsertionEffect:aM,useLayoutEffect:lM,useMemo:hM,useReducer:K0,useRef:oM,useState:function(){return K0(gm)},useDebugValue:S1,useDeferredValue:function(n){var e=yi();return Ut===null?e.memoizedState=n:fM(e,Ut.memoizedState,n)},useTransition:function(){var n=K0(gm)[0],e=yi().memoizedState;return[n,e]},useMutableSource:JD,useSyncExternalStore:eM,useId:pM,unstable_isNewReconciler:!1};function Ai(n,e){if(n&&n.defaultProps){e=vt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function cE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:vt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var bb={isMounted:function(n){return(n=n._reactInternals)?Wu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Vn(),i=Ml(n),s=Ho(r,i);s.payload=e,t!=null&&(s.callback=t),e=Rl(n,s,i),e!==null&&(Vi(e,n,i,r),qy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Vn(),i=Ml(n),s=Ho(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Rl(n,s,i),e!==null&&(Vi(e,n,i,r),qy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Vn(),r=Ml(n),i=Ho(t,r);i.tag=2,e!=null&&(i.callback=e),e=Rl(n,i,r),e!==null&&(Vi(e,n,r,t),qy(e,n,r))}};function qT(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cm(t,r)||!cm(i,s):!0}function yM(n,e,t){var r=!1,i=Ol,s=e.contextType;return typeof s=="object"&&s!==null?s=vi(s):(i=hr(e)?Nu:Dn.current,r=e.contextTypes,s=(r=r!=null)?Pf(n,i):Ol),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bb,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function KT(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&bb.enqueueReplaceState(e,e.state,null)}function uE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},p1(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vi(s):(s=hr(e)?Nu:Dn.current,i.context=Pf(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bb.enqueueReplaceState(i,i.state,null),nw(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Nf(n,e){try{var t="",r=e;do t+=QB(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function X0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function dE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Az=typeof WeakMap=="function"?WeakMap:Map;function xM(n,e,t){t=Ho(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){aw||(aw=!0,bE=r),dE(n,e)},t}function wM(n,e,t){t=Ho(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){dE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){dE(n,e),typeof r!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function XT(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Az;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=jz.bind(null,n,e,t),e.then(n,n))}function YT(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function QT(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ho(-1,1),e.tag=2,Rl(t,e,1))),t.lanes|=1),n)}var Cz=aa.ReactCurrentOwner,ur=!1;function $n(n,e,t,r){e.child=n===null?XD(e,null,t,r):Df(e,n.child,t,r)}function ZT(n,e,t,r,i){t=t.render;var s=e.ref;return Id(e,i),r=x1(n,e,t,r,s,i),t=w1(),n!==null&&!ur?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Qo(n,e,i)):(lt&&t&&a1(e),e.flags|=1,$n(n,e,r,i),e.child)}function JT(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!R1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,bM(n,e,s,r,i)):(n=Jy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:cm,t(o,r)&&n.ref===e.ref)return Qo(n,e,i)}return e.flags|=1,n=Nl(s,r),n.ref=e.ref,n.return=e,e.child=n}function bM(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(cm(s,r)&&n.ref===e.ref)if(ur=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ur=!0);else return e.lanes=n.lanes,Qo(n,e,i)}return hE(n,e,t,r,i)}function SM(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ad,Ir),Ir|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ze(Ad,Ir),Ir|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Ze(Ad,Ir),Ir|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Ze(Ad,Ir),Ir|=r;return $n(n,e,i,t),e.child}function EM(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function hE(n,e,t,r,i){var s=hr(t)?Nu:Dn.current;return s=Pf(e,s),Id(e,i),t=x1(n,e,t,r,s,i),r=w1(),n!==null&&!ur?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Qo(n,e,i)):(lt&&r&&a1(e),e.flags|=1,$n(n,e,t,i),e.child)}function ek(n,e,t,r,i){if(hr(t)){var s=!0;Qx(e)}else s=!1;if(Id(e,i),e.stateNode===null)Yy(n,e),yM(e,t,r),uE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=vi(u):(u=hr(t)?Nu:Dn.current,u=Pf(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&KT(e,o,r,u),ya=!1;var f=e.memoizedState;o.state=f,nw(e,r,o,i),c=e.memoizedState,a!==r||f!==c||dr.current||ya?(typeof d=="function"&&(cE(e,t,d,r),c=e.memoizedState),(a=ya||qT(e,t,a,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,QD(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ai(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=vi(c):(c=hr(t)?Nu:Dn.current,c=Pf(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&KT(e,o,r,c),ya=!1,f=e.memoizedState,o.state=f,nw(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||dr.current||ya?(typeof p=="function"&&(cE(e,t,p,r),y=e.memoizedState),(u=ya||qT(e,t,u,r,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return fE(n,e,t,r,s,i)}function fE(n,e,t,r,i,s){EM(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&BT(e,t,!1),Qo(n,e,s);r=e.stateNode,Cz.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Df(e,n.child,null,s),e.child=Df(e,null,a,s)):$n(n,e,a,s),e.memoizedState=r.state,i&&BT(e,t,!0),e.child}function AM(n){var e=n.stateNode;e.pendingContext?jT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&jT(n,e.context,!1),m1(n,e.containerInfo)}function tk(n,e,t,r,i){return Rf(),c1(i),e.flags|=256,$n(n,e,t,r),e.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function mE(n){return{baseLanes:n,cachePool:null,transitions:null}}function CM(n,e,t){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ze(ft,i&1),n===null)return aE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ab(o,r,0,null),n=Du(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=mE(t),e.memoizedState=pE,n):E1(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _z(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Nl(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Nl(a,s):(s=Du(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?mE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=pE,r}return s=n.child,n=s.sibling,r=Nl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function E1(n,e){return e=Ab({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gy(n,e,t,r){return r!==null&&c1(r),Df(e,n.child,null,t),n=E1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _z(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=X0(Error(H(422))),gy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ab({mode:"visible",children:r.children},i,0,null),s=Du(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Df(e,n.child,null,o),e.child.memoizedState=mE(o),e.memoizedState=pE,s);if(!(e.mode&1))return gy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=X0(s,r,void 0),gy(n,e,o,r)}if(a=(o&n.childLanes)!==0,ur||a){if(r=nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yo(n,i),Vi(r,n,i,-1))}return P1(),r=X0(Error(H(421))),gy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Bz.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Br=Pl(i.nextSibling),$r=e,lt=!0,zi=null,n!==null&&(ui[di++]=$o,ui[di++]=Uo,ui[di++]=Iu,$o=n.id,Uo=n.overflow,Iu=e),e=E1(e,r.children),e.flags|=4096,e)}function nk(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),lE(n.return,e,t)}function Y0(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function _M(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($n(n,e,r.children,t),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nk(n,t,e);else if(n.tag===19)nk(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&rw(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Y0(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&rw(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Y0(e,!0,t,null,s);break;case"together":Y0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Qo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ou|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(H(153));if(e.child!==null){for(n=e.child,t=Nl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Nl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Tz(n,e,t){switch(e.tag){case 3:AM(e),Rf();break;case 5:ZD(e);break;case 1:hr(e.type)&&Qx(e);break;case 4:m1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(ew,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):t&e.child.childLanes?CM(n,e,t):(Ze(ft,ft.current&1),n=Qo(n,e,t),n!==null?n.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return _M(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,SM(n,e,t)}return Qo(n,e,t)}var TM,gE,kM,PM;TM=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};gE=function(){};kM=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ac(Fs.current);var s=null;switch(t){case"input":i=jS(n,i),r=jS(n,r),s=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),s=[];break;case"textarea":i=$S(n,i),r=$S(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Xx)}HS(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&tt("scroll",n),s||a===c||(s=[])):(s=s||[]).push(u,c))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PM=function(n,e,t,r){t!==r&&(e.flags|=4)};function ap(n,e){if(!lt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function wn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function kz(n,e,t){var r=e.pendingProps;switch(l1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return hr(e.type)&&Yx(),wn(e),null;case 3:return r=e.stateNode,Mf(),rt(dr),rt(Dn),v1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(py(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zi!==null&&(AE(zi),zi=null))),gE(n,e),wn(e),null;case 5:g1(e);var i=ac(pm.current);if(t=e.type,n!==null&&e.stateNode!=null)kM(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return wn(e),null}if(n=ac(Fs.current),py(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ds]=e,r[hm]=s,n=(e.mode&1)!==0,t){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<yp.length;i++)tt(yp[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":dT(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":fT(r,s),tt("invalid",r)}HS(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fy(r.textContent,a,n),i=["children",""+a]):nm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tt("scroll",r)}switch(t){case"input":sy(r),hT(r,s,!0);break;case"textarea":sy(r),pT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rD(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ds]=e,n[hm]=r,TM(n,e,!1,!1),e.stateNode=n;e:{switch(o=VS(t,r),t){case"dialog":tt("cancel",n),tt("close",n),i=r;break;case"iframe":case"object":case"embed":tt("load",n),i=r;break;case"video":case"audio":for(i=0;i<yp.length;i++)tt(yp[i],n);i=r;break;case"source":tt("error",n),i=r;break;case"img":case"image":case"link":tt("error",n),tt("load",n),i=r;break;case"details":tt("toggle",n),i=r;break;case"input":dT(n,r),i=jS(n,r),tt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),tt("invalid",n);break;case"textarea":fT(n,r),i=$S(n,r),tt("invalid",n);break;default:i=r}HS(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?oD(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iD(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&rm(n,c):typeof c=="number"&&rm(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nm.hasOwnProperty(s)?c!=null&&s==="onScroll"&&tt("scroll",n):c!=null&&qC(n,s,c,o))}switch(t){case"input":sy(n),hT(n,r,!1);break;case"textarea":sy(n),pT(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ll(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Rd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Rd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Xx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(n&&e.stateNode!=null)PM(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(t=ac(pm.current),ac(Fs.current),py(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ds]=e,(s=r.nodeValue!==t)&&(n=$r,n!==null))switch(n.tag){case 3:fy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ds]=e,e.stateNode=r}return wn(e),null;case 13:if(rt(ft),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(lt&&Br!==null&&e.mode&1&&!(e.flags&128))qD(),Rf(),e.flags|=98560,s=!1;else if(s=py(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Ds]=e}else Rf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),s=!1}else zi!==null&&(AE(zi),zi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ft.current&1?Vt===0&&(Vt=3):P1())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return Mf(),gE(n,e),n===null&&um(e.stateNode.containerInfo),wn(e),null;case 10:return h1(e.type._context),wn(e),null;case 17:return hr(e.type)&&Yx(),wn(e),null;case 19:if(rt(ft),s=e.memoizedState,s===null)return wn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ap(s,!1);else{if(Vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=rw(n),o!==null){for(e.flags|=128,ap(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ze(ft,ft.current&1|2),e.child}n=n.sibling}s.tail!==null&&Mt()>If&&(e.flags|=128,r=!0,ap(s,!1),e.lanes=4194304)}else{if(!r)if(n=rw(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ap(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return wn(e),null}else 2*Mt()-s.renderingStartTime>If&&t!==1073741824&&(e.flags|=128,r=!0,ap(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,t=ft.current,Ze(ft,r?t&1|2:t&1),e):(wn(e),null);case 22:case 23:return k1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ir&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Pz(n,e){switch(l1(e),e.tag){case 1:return hr(e.type)&&Yx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Mf(),rt(dr),rt(Dn),v1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return g1(e),null;case 13:if(rt(ft),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Rf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return rt(ft),null;case 4:return Mf(),null;case 10:return h1(e.type._context),null;case 22:case 23:return k1(),null;case 24:return null;default:return null}}var vy=!1,Pn=!1,Rz=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ed(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Tt(n,e,r)}else t.current=null}function vE(n,e,t){try{t()}catch(r){Tt(n,e,r)}}var rk=!1;function Dz(n,e){if(eE=Gx,n=ID(),o1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===i&&(a=o),f===s&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(tE={focusedElem:n,selectionRange:t},Gx=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,S=y.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ai(e.type,m),S);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){Tt(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return y=rk,rk=!1,y}function Xp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&vE(e,t,s)}i=i.next}while(i!==r)}}function Sb(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function yE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function RM(n){var e=n.alternate;e!==null&&(n.alternate=null,RM(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ds],delete e[hm],delete e[iE],delete e[fz],delete e[pz])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function DM(n){return n.tag===5||n.tag===3||n.tag===4}function ik(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||DM(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xx));else if(r!==4&&(n=n.child,n!==null))for(xE(n,e,t),n=n.sibling;n!==null;)xE(n,e,t),n=n.sibling}function wE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(wE(n,e,t),n=n.sibling;n!==null;)wE(n,e,t),n=n.sibling}var fn=null,Bi=!1;function da(n,e,t){for(t=t.child;t!==null;)MM(n,e,t),t=t.sibling}function MM(n,e,t){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(pb,t)}catch{}switch(t.tag){case 5:Pn||Ed(t,e);case 6:var r=fn,i=Bi;fn=null,da(n,e,t),fn=r,Bi=i,fn!==null&&(Bi?(n=fn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):fn.removeChild(t.stateNode));break;case 18:fn!==null&&(Bi?(n=fn,t=t.stateNode,n.nodeType===8?H0(n.parentNode,t):n.nodeType===1&&H0(n,t),am(n)):H0(fn,t.stateNode));break;case 4:r=fn,i=Bi,fn=t.stateNode.containerInfo,Bi=!0,da(n,e,t),fn=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vE(t,e,o),i=i.next}while(i!==r)}da(n,e,t);break;case 1:if(!Pn&&(Ed(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Tt(t,e,a)}da(n,e,t);break;case 21:da(n,e,t);break;case 22:t.mode&1?(Pn=(r=Pn)||t.memoizedState!==null,da(n,e,t),Pn=r):da(n,e,t);break;default:da(n,e,t)}}function sk(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Rz),e.forEach(function(r){var i=zz.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function bi(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fn=a.stateNode,Bi=!1;break e;case 3:fn=a.stateNode.containerInfo,Bi=!0;break e;case 4:fn=a.stateNode.containerInfo,Bi=!0;break e}a=a.return}if(fn===null)throw Error(H(160));MM(s,o,i),fn=null,Bi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NM(e,n),e=e.sibling}function NM(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(bi(e,n),Ji(n),r&4){try{Xp(3,n,n.return),Sb(3,n)}catch(m){Tt(n,n.return,m)}try{Xp(5,n,n.return)}catch(m){Tt(n,n.return,m)}}break;case 1:bi(e,n),Ji(n),r&512&&t!==null&&Ed(t,t.return);break;case 5:if(bi(e,n),Ji(n),r&512&&t!==null&&Ed(t,t.return),n.flags&32){var i=n.stateNode;try{rm(i,"")}catch(m){Tt(n,n.return,m)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tD(i,s),VS(a,o);var u=VS(a,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?oD(i,h):d==="dangerouslySetInnerHTML"?iD(i,h):d==="children"?rm(i,h):qC(i,d,h,u)}switch(a){case"input":BS(i,s);break;case"textarea":nD(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Rd(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Rd(i,!!s.multiple,s.defaultValue,!0):Rd(i,!!s.multiple,s.multiple?[]:"",!1))}i[hm]=s}catch(m){Tt(n,n.return,m)}}break;case 6:if(bi(e,n),Ji(n),r&4){if(n.stateNode===null)throw Error(H(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(m){Tt(n,n.return,m)}}break;case 3:if(bi(e,n),Ji(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(m){Tt(n,n.return,m)}break;case 4:bi(e,n),Ji(n);break;case 13:bi(e,n),Ji(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_1=Mt())),r&4&&sk(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Pn=(u=Pn)||d,bi(e,n),Pn=u):bi(e,n),Ji(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Z=n,d=n.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Xp(4,f,f.return);break;case 1:Ed(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Tt(r,t,m)}}break;case 5:Ed(f,f.return);break;case 22:if(f.memoizedState!==null){ak(h);continue}}p!==null?(p.return=f,Z=p):ak(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=sD("display",o))}catch(m){Tt(n,n.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tt(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bi(e,n),Ji(n),r&4&&sk(n);break;case 21:break;default:bi(e,n),Ji(n)}}function Ji(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(DM(t)){var r=t;break e}t=t.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rm(i,""),r.flags&=-33);var s=ik(n);wE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ik(n);xE(n,a,o);break;default:throw Error(H(161))}}catch(c){Tt(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Mz(n,e,t){Z=n,IM(n)}function IM(n,e,t){for(var r=(n.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vy;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Pn;a=vy;var u=Pn;if(vy=o,(Pn=c)&&!u)for(Z=i;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?lk(i):c!==null?(c.return=o,Z=c):lk(i);for(;s!==null;)Z=s,IM(s),s=s.sibling;Z=i,vy=a,Pn=u}ok(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):ok(n)}}function ok(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||Sb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ai(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}VT(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&am(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Pn||e.flags&512&&yE(e)}catch(f){Tt(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function ak(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function lk(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Sb(4,e)}catch(c){Tt(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Tt(e,i,c)}}var s=e.return;try{yE(e)}catch(c){Tt(e,s,c)}break;case 5:var o=e.return;try{yE(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===n){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var Nz=Math.ceil,ow=aa.ReactCurrentDispatcher,A1=aa.ReactCurrentOwner,pi=aa.ReactCurrentBatchConfig,Ce=0,nn=null,Ot=null,vn=0,Ir=0,Ad=Wl(0),Vt=0,ym=null,Ou=0,Eb=0,C1=0,Yp=null,cr=null,_1=0,If=1/0,Qs=null,aw=!1,bE=null,Dl=null,yy=!1,Cl=null,lw=0,Qp=0,SE=null,Qy=-1,Zy=0;function Vn(){return Ce&6?Mt():Qy!==-1?Qy:Qy=Mt()}function Ml(n){return n.mode&1?Ce&2&&vn!==0?vn&-vn:gz.transition!==null?(Zy===0&&(Zy=yD()),Zy):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:CD(n.type)),n):1}function Vi(n,e,t,r){if(50<Qp)throw Qp=0,SE=null,Error(H(185));Cv(n,t,r),(!(Ce&2)||n!==nn)&&(n===nn&&(!(Ce&2)&&(Eb|=t),Vt===4&&wa(n,vn)),fr(n,r),t===1&&Ce===0&&!(e.mode&1)&&(If=Mt()+500,xb&&Gl()))}function fr(n,e){var t=n.callbackNode;g3(n,e);var r=Wx(n,n===nn?vn:0);if(r===0)t!==null&&vT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&vT(t),e===1)n.tag===0?mz(ck.bind(null,n)):VD(ck.bind(null,n)),dz(function(){!(Ce&6)&&Gl()}),t=null;else{switch(xD(r)){case 1:t=ZC;break;case 4:t=gD;break;case 16:t=Vx;break;case 536870912:t=vD;break;default:t=Vx}t=UM(t,LM.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function LM(n,e){if(Qy=-1,Zy=0,Ce&6)throw Error(H(327));var t=n.callbackNode;if(Ld()&&n.callbackNode!==t)return null;var r=Wx(n,n===nn?vn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=cw(n,r);else{e=r;var i=Ce;Ce|=2;var s=FM();(nn!==n||vn!==e)&&(Qs=null,If=Mt()+500,Ru(n,e));do try{Oz();break}catch(a){OM(n,a)}while(!0);d1(),ow.current=s,Ce=i,Ot!==null?e=0:(nn=null,vn=0,e=Vt)}if(e!==0){if(e===2&&(i=XS(n),i!==0&&(r=i,e=EE(n,i))),e===1)throw t=ym,Ru(n,0),wa(n,r),fr(n,Mt()),t;if(e===6)wa(n,r);else{if(i=n.current.alternate,!(r&30)&&!Iz(i)&&(e=cw(n,r),e===2&&(s=XS(n),s!==0&&(r=s,e=EE(n,s))),e===1))throw t=ym,Ru(n,0),wa(n,r),fr(n,Mt()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ql(n,cr,Qs);break;case 3:if(wa(n,r),(r&130023424)===r&&(e=_1+500-Mt(),10<e)){if(Wx(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Vn(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=rE(Ql.bind(null,n,cr,Qs),e);break}Ql(n,cr,Qs);break;case 4:if(wa(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Hi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nz(r/1960))-r,10<r){n.timeoutHandle=rE(Ql.bind(null,n,cr,Qs),r);break}Ql(n,cr,Qs);break;case 5:Ql(n,cr,Qs);break;default:throw Error(H(329))}}}return fr(n,Mt()),n.callbackNode===t?LM.bind(null,n):null}function EE(n,e){var t=Yp;return n.current.memoizedState.isDehydrated&&(Ru(n,e).flags|=256),n=cw(n,e),n!==2&&(e=cr,cr=t,e!==null&&AE(e)),n}function AE(n){cr===null?cr=n:cr.push.apply(cr,n)}function Iz(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Wi(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wa(n,e){for(e&=~C1,e&=~Eb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Hi(e),r=1<<t;n[t]=-1,e&=~r}}function ck(n){if(Ce&6)throw Error(H(327));Ld();var e=Wx(n,0);if(!(e&1))return fr(n,Mt()),null;var t=cw(n,e);if(n.tag!==0&&t===2){var r=XS(n);r!==0&&(e=r,t=EE(n,r))}if(t===1)throw t=ym,Ru(n,0),wa(n,e),fr(n,Mt()),t;if(t===6)throw Error(H(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ql(n,cr,Qs),fr(n,Mt()),null}function T1(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&(If=Mt()+500,xb&&Gl())}}function Fu(n){Cl!==null&&Cl.tag===0&&!(Ce&6)&&Ld();var e=Ce;Ce|=1;var t=pi.transition,r=Oe;try{if(pi.transition=null,Oe=1,n)return n()}finally{Oe=r,pi.transition=t,Ce=e,!(Ce&6)&&Gl()}}function k1(){Ir=Ad.current,rt(Ad)}function Ru(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,uz(t)),Ot!==null)for(t=Ot.return;t!==null;){var r=t;switch(l1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yx();break;case 3:Mf(),rt(dr),rt(Dn),v1();break;case 5:g1(r);break;case 4:Mf();break;case 13:rt(ft);break;case 19:rt(ft);break;case 10:h1(r.type._context);break;case 22:case 23:k1()}t=t.return}if(nn=n,Ot=n=Nl(n.current,null),vn=Ir=e,Vt=0,ym=null,C1=Eb=Ou=0,cr=Yp=null,oc!==null){for(e=0;e<oc.length;e++)if(t=oc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}oc=null}return n}function OM(n,e){do{var t=Ot;try{if(d1(),Ky.current=sw,iw){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iw=!1}if(Lu=0,en=Ut=mt=null,Kp=!1,mm=0,A1.current=null,t===null||t.return===null){Vt=1,ym=e,Ot=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=vn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=YT(o);if(p!==null){p.flags&=-257,QT(p,o,a,s,e),p.mode&1&&XT(s,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(c),e.updateQueue=m}else y.add(c);break e}else{if(!(e&1)){XT(s,u,e),P1();break e}c=Error(H(426))}}else if(lt&&a.mode&1){var S=YT(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),QT(S,o,a,s,e),c1(Nf(c,a));break e}}s=c=Nf(c,a),Vt!==4&&(Vt=2),Yp===null?Yp=[s]:Yp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=xM(s,c,e);HT(s,v);break e;case 1:a=c;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Dl===null||!Dl.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=wM(s,a,e);HT(s,C);break e}}s=s.return}while(s!==null)}BM(t)}catch(T){e=T,Ot===t&&t!==null&&(Ot=t=t.return);continue}break}while(!0)}function FM(){var n=ow.current;return ow.current=sw,n===null?sw:n}function P1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),nn===null||!(Ou&268435455)&&!(Eb&268435455)||wa(nn,vn)}function cw(n,e){var t=Ce;Ce|=2;var r=FM();(nn!==n||vn!==e)&&(Qs=null,Ru(n,e));do try{Lz();break}catch(i){OM(n,i)}while(!0);if(d1(),Ce=t,ow.current=r,Ot!==null)throw Error(H(261));return nn=null,vn=0,Vt}function Lz(){for(;Ot!==null;)jM(Ot)}function Oz(){for(;Ot!==null&&!a3();)jM(Ot)}function jM(n){var e=$M(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,e===null?BM(n):Ot=e,A1.current=null}function BM(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Pz(t,e),t!==null){t.flags&=32767,Ot=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vt=6,Ot=null;return}}else if(t=kz(t,e,Ir),t!==null){Ot=t;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=n}while(e!==null);Vt===0&&(Vt=5)}function Ql(n,e,t){var r=Oe,i=pi.transition;try{pi.transition=null,Oe=1,Fz(n,e,t,r)}finally{pi.transition=i,Oe=r}return null}function Fz(n,e,t,r){do Ld();while(Cl!==null);if(Ce&6)throw Error(H(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(H(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(v3(n,s),n===nn&&(Ot=nn=null,vn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||yy||(yy=!0,UM(Vx,function(){return Ld(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=pi.transition,pi.transition=null;var o=Oe;Oe=1;var a=Ce;Ce|=4,A1.current=null,Dz(n,t),NM(t,n),rz(tE),Gx=!!eE,tE=eE=null,n.current=t,Mz(t),l3(),Ce=a,Oe=o,pi.transition=s}else n.current=t;if(yy&&(yy=!1,Cl=n,lw=i),s=n.pendingLanes,s===0&&(Dl=null),d3(t.stateNode),fr(n,Mt()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(aw)throw aw=!1,n=bE,bE=null,n;return lw&1&&n.tag!==0&&Ld(),s=n.pendingLanes,s&1?n===SE?Qp++:(Qp=0,SE=n):Qp=0,Gl(),null}function Ld(){if(Cl!==null){var n=xD(lw),e=pi.transition,t=Oe;try{if(pi.transition=null,Oe=16>n?16:n,Cl===null)var r=!1;else{if(n=Cl,Cl=null,lw=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,Z=n.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Xp(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(RM(d),d===u){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Z=v;break e}Z=s.return}}var b=n.current;for(Z=b;Z!==null;){o=Z;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Z=E;else e:for(o=b;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sb(9,a)}}catch(T){Tt(a,a.return,T)}if(a===o){Z=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Z=C;break e}Z=a.return}}if(Ce=i,Gl(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(pb,n)}catch{}r=!0}return r}finally{Oe=t,pi.transition=e}}return!1}function uk(n,e,t){e=Nf(t,e),e=xM(n,e,1),n=Rl(n,e,1),e=Vn(),n!==null&&(Cv(n,1,e),fr(n,e))}function Tt(n,e,t){if(n.tag===3)uk(n,n,t);else for(;e!==null;){if(e.tag===3){uk(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dl===null||!Dl.has(r))){n=Nf(t,n),n=wM(e,n,1),e=Rl(e,n,1),n=Vn(),e!==null&&(Cv(e,1,n),fr(e,n));break}}e=e.return}}function jz(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Vn(),n.pingedLanes|=n.suspendedLanes&t,nn===n&&(vn&t)===t&&(Vt===4||Vt===3&&(vn&130023424)===vn&&500>Mt()-_1?Ru(n,0):C1|=t),fr(n,e)}function zM(n,e){e===0&&(n.mode&1?(e=ly,ly<<=1,!(ly&130023424)&&(ly=4194304)):e=1);var t=Vn();n=Yo(n,e),n!==null&&(Cv(n,e,t),fr(n,t))}function Bz(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),zM(n,t)}function zz(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),zM(n,t)}var $M;$M=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||dr.current)ur=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ur=!1,Tz(n,e,t);ur=!!(n.flags&131072)}else ur=!1,lt&&e.flags&1048576&&WD(e,Jx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yy(n,e),n=e.pendingProps;var i=Pf(e,Dn.current);Id(e,t),i=x1(null,e,r,n,i,t);var s=w1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(r)?(s=!0,Qx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p1(e),i.updater=bb,e.stateNode=i,i._reactInternals=e,uE(e,r,n,t),e=fE(null,e,r,!0,s,t)):(e.tag=0,lt&&s&&a1(e),$n(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Yy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Uz(r),n=Ai(r,n),i){case 0:e=hE(null,e,r,n,t);break e;case 1:e=ek(null,e,r,n,t);break e;case 11:e=ZT(null,e,r,n,t);break e;case 14:e=JT(null,e,r,Ai(r.type,n),t);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),hE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),ek(n,e,r,i,t);case 3:e:{if(AM(e),n===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,QD(n,e),nw(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nf(Error(H(423)),e),e=tk(n,e,r,t,i);break e}else if(r!==i){i=Nf(Error(H(424)),e),e=tk(n,e,r,t,i);break e}else for(Br=Pl(e.stateNode.containerInfo.firstChild),$r=e,lt=!0,zi=null,t=XD(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Rf(),r===i){e=Qo(n,e,t);break e}$n(n,e,r,t)}e=e.child}return e;case 5:return ZD(e),n===null&&aE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,nE(r,i)?o=null:s!==null&&nE(r,s)&&(e.flags|=32),EM(n,e),$n(n,e,o,t),e.child;case 6:return n===null&&aE(e),null;case 13:return CM(n,e,t);case 4:return m1(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Df(e,null,r,t):$n(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),ZT(n,e,r,i,t);case 7:return $n(n,e,e.pendingProps,t),e.child;case 8:return $n(n,e,e.pendingProps.children,t),e.child;case 12:return $n(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(ew,r._currentValue),r._currentValue=o,s!==null)if(Wi(s.value,o)){if(s.children===i.children&&!dr.current){e=Qo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ho(-1,t&-t),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),lE(s.return,t,e),a.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),lE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$n(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Id(e,t),i=vi(i),r=r(i),e.flags|=1,$n(n,e,r,t),e.child;case 14:return r=e.type,i=Ai(r,e.pendingProps),i=Ai(r.type,i),JT(n,e,r,i,t);case 15:return bM(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ai(r,i),Yy(n,e),e.tag=1,hr(r)?(n=!0,Qx(e)):n=!1,Id(e,t),yM(e,r,i),uE(e,r,i,t),fE(null,e,r,!0,n,t);case 19:return _M(n,e,t);case 22:return SM(n,e,t)}throw Error(H(156,e.tag))};function UM(n,e){return mD(n,e)}function $z(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(n,e,t,r){return new $z(n,e,t,r)}function R1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Uz(n){if(typeof n=="function")return R1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===XC)return 11;if(n===YC)return 14}return 2}function Nl(n,e){var t=n.alternate;return t===null?(t=fi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Jy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")R1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case pd:return Du(t.children,i,s,e);case KC:o=8,i|=8;break;case IS:return n=fi(12,t,e,i|2),n.elementType=IS,n.lanes=s,n;case LS:return n=fi(13,t,e,i),n.elementType=LS,n.lanes=s,n;case OS:return n=fi(19,t,e,i),n.elementType=OS,n.lanes=s,n;case ZR:return Ab(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case YR:o=10;break e;case QR:o=9;break e;case XC:o=11;break e;case YC:o=14;break e;case va:o=16,r=null;break e}throw Error(H(130,n==null?n:typeof n,""))}return e=fi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Du(n,e,t,r){return n=fi(7,n,r,e),n.lanes=t,n}function Ab(n,e,t,r){return n=fi(22,n,r,e),n.elementType=ZR,n.lanes=t,n.stateNode={isHidden:!1},n}function Q0(n,e,t){return n=fi(6,n,null,e),n.lanes=t,n}function Z0(n,e,t){return e=fi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Hz(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M0(0),this.expirationTimes=M0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D1(n,e,t,r,i,s,o,a,c){return n=new Hz(n,e,t,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},p1(s),n}function Vz(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function HM(n){if(!n)return Ol;n=n._reactInternals;e:{if(Wu(n)!==n||n.tag!==1)throw Error(H(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(n.tag===1){var t=n.type;if(hr(t))return HD(n,t,e)}return e}function VM(n,e,t,r,i,s,o,a,c){return n=D1(t,r,!0,n,i,s,o,a,c),n.context=HM(null),t=n.current,r=Vn(),i=Ml(t),s=Ho(r,i),s.callback=e??null,Rl(t,s,i),n.current.lanes=i,Cv(n,i,r),fr(n,r),n}function Cb(n,e,t,r){var i=e.current,s=Vn(),o=Ml(i);return t=HM(t),e.context===null?e.context=t:e.pendingContext=t,e=Ho(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Rl(i,e,o),n!==null&&(Vi(n,i,o,s),qy(n,i,o)),o}function uw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dk(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function M1(n,e){dk(n,e),(n=n.alternate)&&dk(n,e)}function Wz(){return null}var WM=typeof reportError=="function"?reportError:function(n){console.error(n)};function N1(n){this._internalRoot=n}_b.prototype.render=N1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(H(409));Cb(n,e,null,null)};_b.prototype.unmount=N1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Fu(function(){Cb(null,n,null,null)}),e[Xo]=null}};function _b(n){this._internalRoot=n}_b.prototype.unstable_scheduleHydration=function(n){if(n){var e=SD();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xa.length&&e!==0&&e<xa[t].priority;t++);xa.splice(t,0,n),t===0&&AD(n)}};function I1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Tb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function hk(){}function Gz(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=uw(o);s.call(u)}}var o=VM(e,r,n,0,null,!1,!1,"",hk);return n._reactRootContainer=o,n[Xo]=o.current,um(n.nodeType===8?n.parentNode:n),Fu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=uw(c);a.call(u)}}var c=D1(n,0,!1,null,null,!1,!1,"",hk);return n._reactRootContainer=c,n[Xo]=c.current,um(n.nodeType===8?n.parentNode:n),Fu(function(){Cb(e,c,t,r)}),c}function kb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=uw(o);a.call(c)}}Cb(e,o,n,i)}else o=Gz(t,e,n,i,r);return uw(o)}wD=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=vp(e.pendingLanes);t!==0&&(JC(e,t|1),fr(e,Mt()),!(Ce&6)&&(If=Mt()+500,Gl()))}break;case 13:Fu(function(){var r=Yo(n,1);if(r!==null){var i=Vn();Vi(r,n,1,i)}}),M1(n,1)}};e1=function(n){if(n.tag===13){var e=Yo(n,134217728);if(e!==null){var t=Vn();Vi(e,n,134217728,t)}M1(n,134217728)}};bD=function(n){if(n.tag===13){var e=Ml(n),t=Yo(n,e);if(t!==null){var r=Vn();Vi(t,n,e,r)}M1(n,e)}};SD=function(){return Oe};ED=function(n,e){var t=Oe;try{return Oe=n,e()}finally{Oe=t}};GS=function(n,e,t){switch(e){case"input":if(BS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=yb(r);if(!i)throw Error(H(90));eD(r),BS(r,i)}}}break;case"textarea":nD(n,t);break;case"select":e=t.value,e!=null&&Rd(n,!!t.multiple,e,!1)}};cD=T1;uD=Fu;var qz={usingClientEntryPoint:!1,Events:[Tv,yd,yb,aD,lD,T1]},lp={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kz={bundleType:lp.bundleType,version:lp.version,rendererPackageName:lp.rendererPackageName,rendererConfig:lp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=fD(n),n===null?null:n.stateNode},findFiberByHostInstance:lp.findFiberByHostInstance||Wz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xy.isDisabled&&xy.supportsFiber)try{pb=xy.inject(Kz),Os=xy}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qz;qr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I1(e))throw Error(H(200));return Vz(n,e,null,t)};qr.createRoot=function(n,e){if(!I1(n))throw Error(H(299));var t=!1,r="",i=WM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=D1(n,1,!1,null,null,t,!1,r,i),n[Xo]=e.current,um(n.nodeType===8?n.parentNode:n),new N1(e)};qr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(H(188)):(n=Object.keys(n).join(","),Error(H(268,n)));return n=fD(e),n=n===null?null:n.stateNode,n};qr.flushSync=function(n){return Fu(n)};qr.hydrate=function(n,e,t){if(!Tb(e))throw Error(H(200));return kb(null,n,e,!0,t)};qr.hydrateRoot=function(n,e,t){if(!I1(n))throw Error(H(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=WM;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=VM(e,null,n,1,t??null,i,!1,s,o),n[Xo]=e.current,um(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new _b(e)};qr.render=function(n,e,t){if(!Tb(e))throw Error(H(200));return kb(null,n,e,!1,t)};qr.unmountComponentAtNode=function(n){if(!Tb(n))throw Error(H(40));return n._reactRootContainer?(Fu(function(){kb(null,null,n,!1,function(){n._reactRootContainer=null,n[Xo]=null})}),!0):!1};qr.unstable_batchedUpdates=T1;qr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Tb(t))throw Error(H(200));if(n==null||n._reactInternals===void 0)throw Error(H(38));return kb(n,e,t,!1,r)};qr.version="18.3.1-next-f1338f8080-20240426";function GM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GM)}catch(n){console.error(n)}}GM(),GR.exports=qr;var Pv=GR.exports;const Xz=db(Pv);var qM,fk=Pv;qM=fk.createRoot,fk.hydrateRoot;function Yz(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",c=n.split("/");for(c[0]||c.shift();i=c.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var KM={exports:{}},XM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=w;function Qz(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zz=typeof Object.is=="function"?Object.is:Qz,Jz=Lf.useState,e4=Lf.useEffect,t4=Lf.useLayoutEffect,n4=Lf.useDebugValue;function r4(n,e){var t=e(),r=Jz({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return t4(function(){i.value=t,i.getSnapshot=e,J0(i)&&s({inst:i})},[n,t,e]),e4(function(){return J0(i)&&s({inst:i}),n(function(){J0(i)&&s({inst:i})})},[n]),n4(t),t}function J0(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zz(n,t)}catch{return!0}}function i4(n,e){return e()}var s4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i4:r4;XM.useSyncExternalStore=Lf.useSyncExternalStore!==void 0?Lf.useSyncExternalStore:s4;KM.exports=XM;var o4=KM.exports;const a4=fb.useInsertionEffect,l4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",c4=l4?w.useLayoutEffect:w.useEffect,u4=a4||c4,YM=n=>{const e=w.useRef([n,(...t)=>e[0](...t)]).current;return u4(()=>{e[0]=n}),e[1]},d4="popstate",L1="pushState",O1="replaceState",h4="hashchange",pk=[d4,L1,O1,h4],f4=n=>{for(const e of pk)addEventListener(e,n);return()=>{for(const e of pk)removeEventListener(e,n)}},QM=(n,e)=>o4.useSyncExternalStore(f4,n,e),mk=()=>location.search,p4=({ssrSearch:n}={})=>QM(mk,n!=null?()=>n:mk),gk=()=>location.pathname,m4=({ssrPath:n}={})=>QM(gk,n!=null?()=>n:gk),g4=(n,{replace:e=!1,state:t=null}={})=>history[e?O1:L1](t,"",n),v4=(n={})=>[m4(n),g4],vk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vk]>"u"){for(const n of[L1,O1]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,vk,{value:!0})}const y4=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",ZM=(n="")=>n==="/"?"":n,x4=(n,e)=>n[0]==="~"?n.slice(1):ZM(e)+n,w4=(n="",e)=>y4(yk(ZM(n)),yk(e)),yk=n=>{try{return decodeURI(n)}catch{return n}},JM={hook:v4,searchHook:p4,parser:Yz,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:n=>n},eN=w.createContext(JM),Rv=()=>w.useContext(eN),tN={},nN=w.createContext(tN),Dv=()=>w.useContext(nN),Pb=n=>{const[e,t]=n.hook(n);return[w4(n.base,e),YM((r,i)=>t(x4(r,n.base),i))]},la=()=>Pb(Rv()),rN=(n,e,t,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),o=i.exec(t)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((h,f)=>[h,c[f]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},b4=({children:n,...e})=>{var d,h,f;const t=Rv(),r=e.hook?JM:t;let i=r;const[s,o=e.ssrSearch??""]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs),e.searchHook=e.searchHook??((f=e.hook)==null?void 0:f.searchHook);let a=w.useRef({}),c=a.current,u=c;for(let p in r){const y=p==="base"?r[p]+(e[p]??""):e[p]??r[p];c===u&&y!==u[p]&&(a.current=u={...u}),u[p]=y,(y!==r[p]||y!==i[p])&&(i=u)}return w.createElement(eN.Provider,{value:i,children:n})},xk=({children:n,component:e},t)=>e?w.createElement(e,{params:t}):typeof n=="function"?n(t):n,S4=n=>{let e=w.useRef(tN);const t=e.current;return e.current=Object.keys(n).length!==Object.keys(t).length||Object.entries(n).some(([r,i])=>i!==t[r])?n:t},Vs=({path:n,nest:e,match:t,...r})=>{const i=Rv(),[s]=Pb(i),[o,a,c]=t??rN(i.parser,n,s,e),u=S4({...Dv(),...a});if(!o)return null;const d=c?w.createElement(b4,{base:c},xk(r,u)):xk(r,u);return w.createElement(nN.Provider,{value:u,children:d})},wk=w.forwardRef((n,e)=>{const t=Rv(),[r,i]=Pb(t),{to:s="",href:o=s,onClick:a,asChild:c,children:u,className:d,replace:h,state:f,...p}=n,y=YM(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),i(o,n)))}),m=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:y,href:m}):w.createElement("a",{...p,onClick:y,href:m,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),iN=n=>Array.isArray(n)?n.flatMap(e=>iN(e&&e.type===w.Fragment?e.props.children:e)):[n],E4=({children:n,location:e})=>{const t=Rv(),[r]=Pb(t);for(const i of iN(n)){let s=0;if(w.isValidElement(i)&&(s=rN(t.parser,i.props.path,e||r,i.props.nest))[0])return w.cloneElement(i,{match:s})}return null};var qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},A4={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},ba,zC,SR,C4=(SR=class{constructor(){A(this,ba,A4);A(this,zC,!1)}setTimeoutProvider(n){x(this,ba,n)}setTimeout(n,e){return l(this,ba).setTimeout(n,e)}clearTimeout(n){l(this,ba).clearTimeout(n)}setInterval(n,e){return l(this,ba).setInterval(n,e)}clearInterval(n){l(this,ba).clearInterval(n)}},ba=new WeakMap,zC=new WeakMap,SR),lc=new C4;function _4(n){setTimeout(n,0)}var ju=typeof window>"u"||"Deno"in globalThis;function Un(){}function T4(n,e){return typeof n=="function"?n(e):n}function CE(n){return typeof n=="number"&&n>=0&&n!==1/0}function sN(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Il(n,e){return typeof n=="function"?n(e):n}function ci(n,e){return typeof n=="function"?n(e):n}function bk(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==F1(o,e.options))return!1}else if(!xm(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Sk(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Bu(e.options.mutationKey)!==Bu(s))return!1}else if(!xm(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function F1(n,e){return((e==null?void 0:e.queryKeyHashFn)||Bu)(n)}function Bu(n){return JSON.stringify(n,(e,t)=>_E(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function xm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>xm(n[t],e[t])):!1}var k4=Object.prototype.hasOwnProperty;function oN(n,e){if(n===e)return n;const t=Ek(n)&&Ek(e);if(!t&&!(_E(n)&&_E(e)))return e;const i=(t?n:Object.keys(n)).length,s=t?e:Object.keys(e),o=s.length,a=t?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=t?u:s[u],h=n[d],f=e[d];if(h===f){a[d]=h,(t?u<i:k4.call(n,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[d]=f;continue}const p=oN(h,f);a[d]=p,p===h&&c++}return i===o&&c===i?n:a}function dw(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Ek(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function _E(n){if(!Ak(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Ak(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Ak(n){return Object.prototype.toString.call(n)==="[object Object]"}function P4(n){return new Promise(e=>{lc.setTimeout(e,n)})}function TE(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?oN(n,e):e}function R4(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function D4(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var j1=Symbol();function aN(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===j1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function lN(n,e){return typeof n=="function"?n(...e):!!n}var cc,Sa,Hd,ER,M4=(ER=class extends qf{constructor(){super();A(this,cc);A(this,Sa);A(this,Hd);x(this,Hd,e=>{if(!ju&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){l(this,Sa)||this.setEventListener(l(this,Hd))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Sa))==null||e.call(this),x(this,Sa,void 0))}setEventListener(e){var t;x(this,Hd,e),(t=l(this,Sa))==null||t.call(this),x(this,Sa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){l(this,cc)!==e&&(x(this,cc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof l(this,cc)=="boolean"?l(this,cc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},cc=new WeakMap,Sa=new WeakMap,Hd=new WeakMap,ER),B1=new M4;function kE(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}var N4=_4;function I4(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=N4;const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{t(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ht=I4(),Vd,Ea,Wd,AR,L4=(AR=class extends qf{constructor(){super();A(this,Vd,!0);A(this,Ea);A(this,Wd);x(this,Wd,e=>{if(!ju&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){l(this,Ea)||this.setEventListener(l(this,Wd))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Ea))==null||e.call(this),x(this,Ea,void 0))}setEventListener(e){var t;x(this,Wd,e),(t=l(this,Ea))==null||t.call(this),x(this,Ea,e(this.setOnline.bind(this)))}setOnline(e){l(this,Vd)!==e&&(x(this,Vd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return l(this,Vd)}},Vd=new WeakMap,Ea=new WeakMap,Wd=new WeakMap,AR),hw=new L4;function O4(n){return Math.min(1e3*2**n,3e4)}function cN(n){return(n??"online")==="online"?hw.isOnline():!0}var PE=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function uN(n){let e=!1,t=0,r;const i=kE(),s=()=>i.status!=="pending",o=m=>{var S;if(!s()){const v=new PE(m);f(v),(S=n.onCancel)==null||S.call(n,v)}},a=()=>{e=!0},c=()=>{e=!1},u=()=>B1.isFocused()&&(n.networkMode==="always"||hw.isOnline())&&n.canRun(),d=()=>cN(n.networkMode)&&n.canRun(),h=m=>{s()||(r==null||r(),i.resolve(m))},f=m=>{s()||(r==null||r(),i.reject(m))},p=()=>new Promise(m=>{var S;r=v=>{(s()||u())&&m(v)},(S=n.onPause)==null||S.call(n)}).then(()=>{var m;r=void 0,s()||(m=n.onContinue)==null||m.call(n)}),y=()=>{if(s())return;let m;const S=t===0?n.initialPromise:void 0;try{m=S??n.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(h).catch(v=>{var k;if(s())return;const b=n.retry??(ju?0:3),E=n.retryDelay??O4,C=typeof E=="function"?E(t,v):E,T=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,v);if(e||!T){f(v);return}t++,(k=n.onFail)==null||k.call(n,t,v),P4(C).then(()=>u()?void 0:p()).then(()=>{e?f(v):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r==null||r(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var uc,CR,dN=(CR=class{constructor(){A(this,uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CE(this.gcTime)&&x(this,uc,lc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ju?1/0:5*60*1e3))}clearGcTimeout(){l(this,uc)&&(lc.clearTimeout(l(this,uc)),x(this,uc,void 0))}},uc=new WeakMap,CR),dc,Gd,Qr,hc,Gt,Bm,fc,Ci,Gs,_R,F4=(_R=class extends dN{constructor(e){super();A(this,Ci);A(this,dc);A(this,Gd);A(this,Qr);A(this,hc);A(this,Gt);A(this,Bm);A(this,fc);x(this,fc,!1),x(this,Bm,e.defaultOptions),this.setOptions(e.options),this.observers=[],x(this,hc,e.client),x(this,Qr,l(this,hc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,x(this,dc,_k(this.options)),this.state=e.state??l(this,dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...l(this,Bm),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=_k(this.options);t.data!==void 0&&(this.setState(Ck(t.data,t.dataUpdatedAt)),x(this,dc,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,Qr).remove(this)}setData(e,t){const r=TE(this.state.data,e,this.options);return _(this,Ci,Gs).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){_(this,Ci,Gs).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=l(this,Gt))==null?void 0:r.promise;return(i=l(this,Gt))==null||i.cancel(e),t?t.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,dc))}isActive(){return this.observers.some(e=>ci(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Il(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!sN(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,Gt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=l(this,Gt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,Qr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(l(this,Gt)&&(l(this,fc)?l(this,Gt).cancel({revert:!0}):l(this,Gt).cancelRetry()),this.scheduleGc()),l(this,Qr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_(this,Ci,Gs).call(this,{type:"invalidate"})}async fetch(e,t){var c,u,d,h,f,p,y,m,S,v,b,E;if(this.state.fetchStatus!=="idle"&&((c=l(this,Gt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(l(this,Gt))return l(this,Gt).continueRetry(),l(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(x(this,fc,!0),r.signal)})},s=()=>{const C=aN(this.options,t),k=(()=>{const P={client:l(this,hc),queryKey:this.queryKey,meta:this.meta};return i(P),P})();return x(this,fc,!1),this.options.persister?this.options.persister(C,k,this):C(k)},a=(()=>{const C={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:l(this,hc),state:this.state,fetchFn:s};return i(C),C})();(u=this.options.behavior)==null||u.onFetch(a,this),x(this,Gd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&_(this,Ci,Gs).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),x(this,Gt,uN({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof PE&&C.revert&&this.setState({...l(this,Gd),fetchStatus:"idle"}),r.abort()},onFail:(C,T)=>{_(this,Ci,Gs).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{_(this,Ci,Gs).call(this,{type:"pause"})},onContinue:()=>{_(this,Ci,Gs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await l(this,Gt).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(p=(f=l(this,Qr).config).onSuccess)==null||p.call(f,C,this),(m=(y=l(this,Qr).config).onSettled)==null||m.call(y,C,this.state.error,this),C}catch(C){if(C instanceof PE){if(C.silent)return l(this,Gt).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw _(this,Ci,Gs).call(this,{type:"error",error:C}),(v=(S=l(this,Qr).config).onError)==null||v.call(S,C,this),(E=(b=l(this,Qr).config).onSettled)==null||E.call(b,this.state.data,C,this),C}finally{this.scheduleGc()}}},dc=new WeakMap,Gd=new WeakMap,Qr=new WeakMap,hc=new WeakMap,Gt=new WeakMap,Bm=new WeakMap,fc=new WeakMap,Ci=new WeakSet,Gs=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...hN(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...Ck(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return x(this,Gd,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),l(this,Qr).notify({query:this,type:"updated",action:e})})},_R);function hN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Ck(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _k(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Jn,Se,zm,Ln,pc,qd,no,Aa,$m,Kd,Xd,mc,gc,Ca,Yd,Re,xp,RE,DE,ME,NE,IE,LE,OE,fN,TR,j4=(TR=class extends qf{constructor(e,t){super();A(this,Re);A(this,Jn);A(this,Se);A(this,zm);A(this,Ln);A(this,pc);A(this,qd);A(this,no);A(this,Aa);A(this,$m);A(this,Kd);A(this,Xd);A(this,mc);A(this,gc);A(this,Ca);A(this,Yd,new Set);this.options=t,x(this,Jn,e),x(this,Aa,null),x(this,no,kE()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,Se).addObserver(this),Tk(l(this,Se),this.options)?_(this,Re,xp).call(this):this.updateResult(),_(this,Re,NE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FE(l(this,Se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FE(l(this,Se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,Re,IE).call(this),_(this,Re,LE).call(this),l(this,Se).removeObserver(this)}setOptions(e){const t=this.options,r=l(this,Se);if(this.options=l(this,Jn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ci(this.options.enabled,l(this,Se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,Re,OE).call(this),l(this,Se).setOptions(this.options),t._defaulted&&!dw(this.options,t)&&l(this,Jn).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,Se),observer:this});const i=this.hasListeners();i&&kk(l(this,Se),r,this.options,t)&&_(this,Re,xp).call(this),this.updateResult(),i&&(l(this,Se)!==r||ci(this.options.enabled,l(this,Se))!==ci(t.enabled,l(this,Se))||Il(this.options.staleTime,l(this,Se))!==Il(t.staleTime,l(this,Se)))&&_(this,Re,RE).call(this);const s=_(this,Re,DE).call(this);i&&(l(this,Se)!==r||ci(this.options.enabled,l(this,Se))!==ci(t.enabled,l(this,Se))||s!==l(this,Ca))&&_(this,Re,ME).call(this,s)}getOptimisticResult(e){const t=l(this,Jn).getQueryCache().build(l(this,Jn),e),r=this.createResult(t,e);return z4(this,r)&&(x(this,Ln,r),x(this,qd,this.options),x(this,pc,l(this,Se).state)),r}getCurrentResult(){return l(this,Ln)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&l(this,no).status==="pending"&&l(this,no).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){l(this,Yd).add(e)}getCurrentQuery(){return l(this,Se)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=l(this,Jn).defaultQueryOptions(e),r=l(this,Jn).getQueryCache().build(l(this,Jn),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return _(this,Re,xp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,Ln)))}createResult(e,t){var M;const r=l(this,Se),i=this.options,s=l(this,Ln),o=l(this,pc),a=l(this,qd),u=e!==r?e.state:l(this,zm),{state:d}=e;let h={...d},f=!1,p;if(t._optimisticResults){const D=this.hasListeners(),N=!D&&Tk(e,t),F=D&&kk(e,r,t,i);(N||F)&&(h={...h,...hN(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:S}=h;p=h.data;let v=!1;if(t.placeholderData!==void 0&&p===void 0&&S==="pending"){let D;s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(D=s.data,v=!0):D=typeof t.placeholderData=="function"?t.placeholderData((M=l(this,Xd))==null?void 0:M.state.data,l(this,Xd)):t.placeholderData,D!==void 0&&(S="success",p=TE(s==null?void 0:s.data,D,t),f=!0)}if(t.select&&p!==void 0&&!v)if(s&&p===(o==null?void 0:o.data)&&t.select===l(this,$m))p=l(this,Kd);else try{x(this,$m,t.select),p=t.select(p),p=TE(s==null?void 0:s.data,p,t),x(this,Kd,p),x(this,Aa,null)}catch(D){x(this,Aa,D)}l(this,Aa)&&(y=l(this,Aa),p=l(this,Kd),m=Date.now(),S="error");const b=h.fetchStatus==="fetching",E=S==="pending",C=S==="error",T=E&&b,k=p!==void 0,R={status:S,fetchStatus:h.fetchStatus,isPending:E,isSuccess:S==="success",isError:C,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!E,isLoadingError:C&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&k,isStale:z1(e,t),refetch:this.refetch,promise:l(this,no),isEnabled:ci(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=z=>{R.status==="error"?z.reject(R.error):R.data!==void 0&&z.resolve(R.data)},N=()=>{const z=x(this,no,R.promise=kE());D(z)},F=l(this,no);switch(F.status){case"pending":e.queryHash===r.queryHash&&D(F);break;case"fulfilled":(R.status==="error"||R.data!==F.value)&&N();break;case"rejected":(R.status!=="error"||R.error!==F.reason)&&N();break}}return R}updateResult(){const e=l(this,Ln),t=this.createResult(l(this,Se),this.options);if(x(this,pc,l(this,Se).state),x(this,qd,this.options),l(this,pc).data!==void 0&&x(this,Xd,l(this,Se)),dw(t,e))return;x(this,Ln,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!l(this,Yd).size)return!0;const o=new Set(s??l(this,Yd));return this.options.throwOnError&&o.add("error"),Object.keys(l(this,Ln)).some(a=>{const c=a;return l(this,Ln)[c]!==e[c]&&o.has(c)})};_(this,Re,fN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,Re,NE).call(this)}},Jn=new WeakMap,Se=new WeakMap,zm=new WeakMap,Ln=new WeakMap,pc=new WeakMap,qd=new WeakMap,no=new WeakMap,Aa=new WeakMap,$m=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,mc=new WeakMap,gc=new WeakMap,Ca=new WeakMap,Yd=new WeakMap,Re=new WeakSet,xp=function(e){_(this,Re,OE).call(this);let t=l(this,Se).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Un)),t},RE=function(){_(this,Re,IE).call(this);const e=Il(this.options.staleTime,l(this,Se));if(ju||l(this,Ln).isStale||!CE(e))return;const r=sN(l(this,Ln).dataUpdatedAt,e)+1;x(this,mc,lc.setTimeout(()=>{l(this,Ln).isStale||this.updateResult()},r))},DE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,Se)):this.options.refetchInterval)??!1},ME=function(e){_(this,Re,LE).call(this),x(this,Ca,e),!(ju||ci(this.options.enabled,l(this,Se))===!1||!CE(l(this,Ca))||l(this,Ca)===0)&&x(this,gc,lc.setInterval(()=>{(this.options.refetchIntervalInBackground||B1.isFocused())&&_(this,Re,xp).call(this)},l(this,Ca)))},NE=function(){_(this,Re,RE).call(this),_(this,Re,ME).call(this,_(this,Re,DE).call(this))},IE=function(){l(this,mc)&&(lc.clearTimeout(l(this,mc)),x(this,mc,void 0))},LE=function(){l(this,gc)&&(lc.clearInterval(l(this,gc)),x(this,gc,void 0))},OE=function(){const e=l(this,Jn).getQueryCache().build(l(this,Jn),this.options);if(e===l(this,Se))return;const t=l(this,Se);x(this,Se,e),x(this,zm,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},fN=function(e){Ht.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(l(this,Ln))}),l(this,Jn).getQueryCache().notify({query:l(this,Se),type:"observerResultsUpdated"})})},TR);function B4(n,e){return ci(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Tk(n,e){return B4(n,e)||n.state.data!==void 0&&FE(n,e,e.refetchOnMount)}function FE(n,e,t){if(ci(e.enabled,n)!==!1&&Il(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&z1(n,e)}return!1}function kk(n,e,t,r){return(n!==e||ci(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&z1(n,t)}function z1(n,e){return ci(e.enabled,n)!==!1&&n.isStaleByTime(Il(e.staleTime,n))}function z4(n,e){return!dw(n.getCurrentResult(),e)}function Pk(n){return{onFetch:(e,t)=>{var d,h,f,p,y;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const S=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},v=aN(e.options,e.fetchOptions),b=async(E,C,T)=>{if(m)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const P=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:C,direction:T?"backward":"forward",meta:e.options.meta};return S(N),N})(),R=await v(P),{maxPages:M}=e.options,D=T?D4:R4;return{pages:D(E.pages,R,M),pageParams:D(E.pageParams,C,M)}};if(i&&s.length){const E=i==="backward",C=E?$4:Rk,T={pages:s,pageParams:o},k=C(r,T);a=await b(T,k,E)}else{const E=n??s.length;do{const C=c===0?o[0]??r.initialPageParam:Rk(r,a);if(c>0&&C==null)break;a=await b(a,C),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var m,S;return(S=(m=e.options).persister)==null?void 0:S.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function Rk(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function $4(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Um,ss,On,vc,os,pa,kR,U4=(kR=class extends dN{constructor(e){super();A(this,os);A(this,Um);A(this,ss);A(this,On);A(this,vc);x(this,Um,e.client),this.mutationId=e.mutationId,x(this,On,e.mutationCache),x(this,ss,[]),this.state=e.state||pN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,ss).includes(e)||(l(this,ss).push(e),this.clearGcTimeout(),l(this,On).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){x(this,ss,l(this,ss).filter(t=>t!==e)),this.scheduleGc(),l(this,On).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,ss).length||(this.state.status==="pending"?this.scheduleGc():l(this,On).remove(this))}continue(){var e;return((e=l(this,vc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,c,u,d,h,f,p,y,m,S,v,b,E,C,T,k,P,R,M;const t=()=>{_(this,os,pa).call(this,{type:"continue"})},r={client:l(this,Um),meta:this.options.meta,mutationKey:this.options.mutationKey};x(this,vc,uN({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(D,N)=>{_(this,os,pa).call(this,{type:"failed",failureCount:D,error:N})},onPause:()=>{_(this,os,pa).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,On).canRun(this)}));const i=this.state.status==="pending",s=!l(this,vc).canStart();try{if(i)t();else{_(this,os,pa).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=l(this,On).config).onMutate)==null?void 0:a.call(o,e,this,r));const N=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e,r));N!==this.state.context&&_(this,os,pa).call(this,{type:"pending",context:N,variables:e,isPaused:s})}const D=await l(this,vc).start();return await((h=(d=l(this,On).config).onSuccess)==null?void 0:h.call(d,D,e,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,D,e,this.state.context,r)),await((m=(y=l(this,On).config).onSettled)==null?void 0:m.call(y,D,null,this.state.variables,this.state.context,this,r)),await((v=(S=this.options).onSettled)==null?void 0:v.call(S,D,null,e,this.state.context,r)),_(this,os,pa).call(this,{type:"success",data:D}),D}catch(D){try{throw await((E=(b=l(this,On).config).onError)==null?void 0:E.call(b,D,e,this.state.context,this,r)),await((T=(C=this.options).onError)==null?void 0:T.call(C,D,e,this.state.context,r)),await((P=(k=l(this,On).config).onSettled)==null?void 0:P.call(k,void 0,D,this.state.variables,this.state.context,this,r)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,D,e,this.state.context,r)),D}finally{_(this,os,pa).call(this,{type:"error",error:D})}}finally{l(this,On).runNext(this)}}},Um=new WeakMap,ss=new WeakMap,On=new WeakMap,vc=new WeakMap,os=new WeakSet,pa=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ht.batch(()=>{l(this,ss).forEach(r=>{r.onMutationUpdate(e)}),l(this,On).notify({mutation:this,type:"updated",action:e})})},kR);function pN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ro,_i,Hm,PR,H4=(PR=class extends qf{constructor(e={}){super();A(this,ro);A(this,_i);A(this,Hm);this.config=e,x(this,ro,new Set),x(this,_i,new Map),x(this,Hm,0)}build(e,t,r){const i=new U4({client:e,mutationCache:this,mutationId:++wt(this,Hm)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){l(this,ro).add(e);const t=wy(e);if(typeof t=="string"){const r=l(this,_i).get(t);r?r.push(e):l(this,_i).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,ro).delete(e)){const t=wy(e);if(typeof t=="string"){const r=l(this,_i).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&l(this,_i).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=wy(e);if(typeof t=="string"){const r=l(this,_i).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=wy(e);if(typeof t=="string"){const i=(r=l(this,_i).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{l(this,ro).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,ro).clear(),l(this,_i).clear()})}getAll(){return Array.from(l(this,ro))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Sk(t,r))}findAll(e={}){return this.getAll().filter(t=>Sk(e,t))}notify(e){Ht.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ht.batch(()=>Promise.all(e.map(t=>t.continue().catch(Un))))}},ro=new WeakMap,_i=new WeakMap,Hm=new WeakMap,PR);function wy(n){var e;return(e=n.options.scope)==null?void 0:e.id}var io,_a,er,so,Wo,ex,jE,RR,V4=(RR=class extends qf{constructor(t,r){super();A(this,Wo);A(this,io);A(this,_a);A(this,er);A(this,so);x(this,io,t),this.setOptions(r),this.bindMethods(),_(this,Wo,ex).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=l(this,io).defaultMutationOptions(t),dw(this.options,r)||l(this,io).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,er),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bu(r.mutationKey)!==Bu(this.options.mutationKey)?this.reset():((i=l(this,er))==null?void 0:i.state.status)==="pending"&&l(this,er).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=l(this,er))==null||t.removeObserver(this)}onMutationUpdate(t){_(this,Wo,ex).call(this),_(this,Wo,jE).call(this,t)}getCurrentResult(){return l(this,_a)}reset(){var t;(t=l(this,er))==null||t.removeObserver(this),x(this,er,void 0),_(this,Wo,ex).call(this),_(this,Wo,jE).call(this)}mutate(t,r){var i;return x(this,so,r),(i=l(this,er))==null||i.removeObserver(this),x(this,er,l(this,io).getMutationCache().build(l(this,io),this.options)),l(this,er).addObserver(this),l(this,er).execute(t)}},io=new WeakMap,_a=new WeakMap,er=new WeakMap,so=new WeakMap,Wo=new WeakSet,ex=function(){var r;const t=((r=l(this,er))==null?void 0:r.state)??pN();x(this,_a,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},jE=function(t){Ht.batch(()=>{var r,i,s,o,a,c,u,d;if(l(this,so)&&this.hasListeners()){const h=l(this,_a).variables,f=l(this,_a).context,p={client:l(this,io),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(r=l(this,so)).onSuccess)==null||i.call(r,t.data,h,f,p),(o=(s=l(this,so)).onSettled)==null||o.call(s,t.data,null,h,f,p)):(t==null?void 0:t.type)==="error"&&((c=(a=l(this,so)).onError)==null||c.call(a,t.error,h,f,p),(d=(u=l(this,so)).onSettled)==null||d.call(u,void 0,t.error,h,f,p))}this.listeners.forEach(h=>{h(l(this,_a))})})},RR),as,DR,W4=(DR=class extends qf{constructor(e={}){super();A(this,as);this.config=e,x(this,as,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??F1(i,t);let o=this.get(s);return o||(o=new F4({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){l(this,as).has(e.queryHash)||(l(this,as).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=l(this,as).get(e.queryHash);t&&(e.destroy(),t===e&&l(this,as).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,as).get(e)}getAll(){return[...l(this,as).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>bk(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>bk(e,r)):t}notify(e){Ht.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},as=new WeakMap,DR),bt,Ta,ka,Qd,Zd,Pa,Jd,eh,MR,G4=(MR=class{constructor(n={}){A(this,bt);A(this,Ta);A(this,ka);A(this,Qd);A(this,Zd);A(this,Pa);A(this,Jd);A(this,eh);x(this,bt,n.queryCache||new W4),x(this,Ta,n.mutationCache||new H4),x(this,ka,n.defaultOptions||{}),x(this,Qd,new Map),x(this,Zd,new Map),x(this,Pa,0)}mount(){wt(this,Pa)._++,l(this,Pa)===1&&(x(this,Jd,B1.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,bt).onFocus())})),x(this,eh,hw.subscribe(async n=>{n&&(await this.resumePausedMutations(),l(this,bt).onOnline())})))}unmount(){var n,e;wt(this,Pa)._--,l(this,Pa)===0&&((n=l(this,Jd))==null||n.call(this),x(this,Jd,void 0),(e=l(this,eh))==null||e.call(this),x(this,eh,void 0))}isFetching(n){return l(this,bt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return l(this,Ta).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,bt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=l(this,bt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Il(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return l(this,bt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=l(this,bt).get(r.queryHash),s=i==null?void 0:i.state.data,o=T4(e,s);if(o!==void 0)return l(this,bt).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Ht.batch(()=>l(this,bt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=l(this,bt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=l(this,bt);Ht.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=l(this,bt);return Ht.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Ht.batch(()=>l(this,bt).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Un).catch(Un)}invalidateQueries(n,e={}){return Ht.batch(()=>(l(this,bt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>l(this,bt).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Un)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Un)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=l(this,bt).build(this,e);return t.isStaleByTime(Il(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Un).catch(Un)}fetchInfiniteQuery(n){return n.behavior=Pk(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Un).catch(Un)}ensureInfiniteQueryData(n){return n.behavior=Pk(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return hw.isOnline()?l(this,Ta).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,bt)}getMutationCache(){return l(this,Ta)}getDefaultOptions(){return l(this,ka)}setDefaultOptions(n){x(this,ka,n)}setQueryDefaults(n,e){l(this,Qd).set(Bu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...l(this,Qd).values()],t={};return e.forEach(r=>{xm(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){l(this,Zd).set(Bu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...l(this,Zd).values()],t={};return e.forEach(r=>{xm(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...l(this,ka).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=F1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===j1&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...l(this,ka).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){l(this,bt).clear(),l(this,Ta).clear()}},bt=new WeakMap,Ta=new WeakMap,ka=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,Pa=new WeakMap,Jd=new WeakMap,eh=new WeakMap,MR),mN=w.createContext(void 0),gN=n=>{const e=w.useContext(mN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},q4=({client:n,children:e})=>(w.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(mN.Provider,{value:n,children:e})),vN=w.createContext(!1),K4=()=>w.useContext(vN);vN.Provider;function X4(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Y4=w.createContext(X4()),Q4=()=>w.useContext(Y4),Z4=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},J4=n=>{w.useEffect(()=>{n.clearReset()},[n])},e$=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||lN(t,[n.error,r])),t$=n=>{if(n.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...i)=>t(r(...i)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},n$=(n,e)=>n.isLoading&&n.isFetching&&!e,r$=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,Dk=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function i$(n,e,t){var h,f,p,y,m;const r=K4(),i=Q4(),s=gN(),o=s.defaultQueryOptions(n);(f=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",t$(o),Z4(o,i),J4(i);const a=!s.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),d=!r&&n.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(S=>{const v=d?c.subscribe(Ht.batchCalls(S)):Un;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),r$(o,u))throw Dk(o,c,i);if(e$({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((y=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,u),o.experimental_prefetchInRender&&!ju&&n$(u,r)){const S=a?Dk(o,c,i):(m=s.getQueryCache().get(o.queryHash))==null?void 0:m.promise;S==null||S.catch(Un).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function fw(n,e){return i$(n,j4)}function pw(n,e){const t=gN(),[r]=w.useState(()=>new V4(t,n));w.useEffect(()=>{r.setOptions(n)},[r,n]);const i=w.useSyncExternalStore(w.useCallback(o=>r.subscribe(Ht.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=w.useCallback((o,a)=>{r.mutate(o,a).catch(Un)},[r]);if(i.error&&lN(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var yN={exports:{}},xN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=w;function s$(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var o$=typeof Object.is=="function"?Object.is:s$,a$=Mv.useSyncExternalStore,l$=Mv.useRef,c$=Mv.useEffect,u$=Mv.useMemo,d$=Mv.useDebugValue;xN.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=l$(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=u$(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return h=y}return h=p}if(y=h,o$(d,p))return y;var m=r(p);return i!==void 0&&i(y,m)?(d=p,y):(d=p,h=m)}var u=!1,d,h,f=t===void 0?null:t;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,t,r,i]);var a=a$(n,s[0],s[1]);return c$(function(){o.hasValue=!0,o.value=a},[a]),d$(a),a};yN.exports=xN;var h$=yN.exports;function f$(n){n()}function p$(){let n=null,e=null;return{clear(){n=null,e=null},notify(){f$(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var Mk={notify(){},get:()=>[]};function m$(n,e){let t,r=Mk,i=0,s=!1;function o(m){d();const S=r.subscribe(m);let v=!1;return()=>{v||(v=!0,S(),h())}}function a(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function d(){i++,t||(t=n.subscribe(c),r=p$())}function h(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=Mk)}function f(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return y}var g$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v$=g$(),y$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",x$=y$(),w$=()=>v$||x$?w.useLayoutEffect:w.useEffect,b$=w$(),eS=Symbol.for("react-redux-context"),tS=typeof globalThis<"u"?globalThis:{};function S$(){if(!w.createContext)return{};const n=tS[eS]??(tS[eS]=new Map);let e=n.get(w.createContext);return e||(e=w.createContext(null),n.set(w.createContext,e)),e}var Fl=S$();function E$(n){const{children:e,context:t,serverState:r,store:i}=n,s=w.useMemo(()=>{const c=m$(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);b$(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const a=t||Fl;return w.createElement(a.Provider,{value:s},e)}var A$=E$;function $1(n=Fl){return function(){return w.useContext(n)}}var wN=$1();function bN(n=Fl){const e=n===Fl?wN:$1(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var C$=bN();function _$(n=Fl){const e=n===Fl?C$:bN(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var T$=_$(),k$=(n,e)=>n===e;function P$(n=Fl){const e=n===Fl?wN:$1(n),t=(r,i={})=>{const{equalityFn:s=k$}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:c,getServerState:u}=o;w.useRef(!0);const d=w.useCallback({[r.name](f){return r(f)}}[r.name],[r]),h=h$.useSyncExternalStoreWithSelector(c.addNestedSub,a.getState,u||a.getState,d,s);return w.useDebugValue(h),h};return Object.assign(t,{withTypes:()=>t}),t}var R$=P$();async function SN(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}async function Zo(n,e,t){const r=await fetch(e,{method:n,headers:t?{"Content-Type":"application/json"}:{},body:t?JSON.stringify(t):void 0,credentials:"include"});return await SN(r),r}const D$=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return await SN(t),await t.json()},wm=new G4({defaultOptions:{queries:{queryFn:D$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function hn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var M$=typeof Symbol=="function"&&Symbol.observable||"@@observable",Nk=M$,nS=()=>Math.random().toString(36).substring(7).split("").join("."),N$={INIT:`@@redux/INIT${nS()}`,REPLACE:`@@redux/REPLACE${nS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nS()}`},mw=N$;function U1(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function EN(n,e,t){if(typeof n!="function")throw new Error(hn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(hn(1));return t(EN)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((S,v)=>{o.set(v,S)}))}function d(){if(c)throw new Error(hn(3));return i}function h(S){if(typeof S!="function")throw new Error(hn(4));if(c)throw new Error(hn(5));let v=!0;u();const b=a++;return o.set(b,S),function(){if(v){if(c)throw new Error(hn(6));v=!1,u(),o.delete(b),s=null}}}function f(S){if(!U1(S))throw new Error(hn(7));if(typeof S.type>"u")throw new Error(hn(8));if(typeof S.type!="string")throw new Error(hn(17));if(c)throw new Error(hn(9));try{c=!0,i=r(i,S)}finally{c=!1}return(s=o).forEach(b=>{b()}),S}function p(S){if(typeof S!="function")throw new Error(hn(10));r=S,f({type:mw.REPLACE})}function y(){const S=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(hn(11));function b(){const C=v;C.next&&C.next(d())}return b(),{unsubscribe:S(b)}},[Nk](){return this}}}return f({type:mw.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[Nk]:y}}function I$(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:mw.INIT})>"u")throw new Error(hn(12));if(typeof t(void 0,{type:mw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hn(13))})}function L$(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{I$(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],f=t[h],p=o[h],y=f(p,a);if(typeof y>"u")throw a&&a.type,new Error(hn(14));u[h]=y,c=c||y!==p}return c=c||r.length!==Object.keys(o).length,c?u:o}}function gw(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function O$(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(hn(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},a=n.map(c=>c(o));return s=gw(...a)(i.dispatch),{...i,dispatch:s}}}function F$(n){return U1(n)&&"type"in n&&typeof n.type=="string"}var AN=Symbol.for("immer-nothing"),Ik=Symbol.for("immer-draftable"),Gn=Symbol.for("immer-state");function $i(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var zr=Object,Of=zr.getPrototypeOf,vw="constructor",Rb="prototype",BE="configurable",yw="enumerable",tx="writable",bm="value",Jo=n=>!!n&&!!n[Gn];function Gi(n){var e;return n?CN(n)||Db(n)||!!n[Ik]||!!((e=n[vw])!=null&&e[Ik])||Mb(n)||Nb(n):!1}var j$=zr[Rb][vw].toString(),Lk=new WeakMap;function CN(n){if(!n||!H1(n))return!1;const e=Of(n);if(e===null||e===zr[Rb])return!0;const t=zr.hasOwnProperty.call(e,vw)&&e[vw];if(t===Object)return!0;if(!id(t))return!1;let r=Lk.get(t);return r===void 0&&(r=Function.toString.call(t),Lk.set(t,r)),r===j$}function Nv(n,e,t=!0){Iv(n)===0?(t?Reflect.ownKeys(n):zr.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function Iv(n){const e=n[Gn];return e?e.type_:Db(n)?1:Mb(n)?2:Nb(n)?3:0}var Ok=(n,e,t=Iv(n))=>t===2?n.has(e):zr[Rb].hasOwnProperty.call(n,e),zE=(n,e,t=Iv(n))=>t===2?n.get(e):n[e],xw=(n,e,t,r=Iv(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function B$(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Db=Array.isArray,Mb=n=>n instanceof Map,Nb=n=>n instanceof Set,H1=n=>typeof n=="object",id=n=>typeof n=="function",rS=n=>typeof n=="boolean",to=n=>n.copy_||n.base_,V1=n=>n.modified_?n.copy_:n.base_;function $E(n,e){if(Mb(n))return new Map(n);if(Nb(n))return new Set(n);if(Db(n))return Array[Rb].slice.call(n);const t=CN(n);if(e===!0||e==="class_only"&&!t){const r=zr.getOwnPropertyDescriptors(n);delete r[Gn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[tx]===!1&&(a[tx]=!0,a[BE]=!0),(a.get||a.set)&&(r[o]={[BE]:!0,[tx]:!0,[yw]:a[yw],[bm]:n[o]})}return zr.create(Of(n),r)}else{const r=Of(n);if(r!==null&&t)return{...n};const i=zr.create(r);return zr.assign(i,n)}}function W1(n,e=!1){return Ib(n)||Jo(n)||!Gi(n)||(Iv(n)>1&&zr.defineProperties(n,{set:by,add:by,clear:by,delete:by}),zr.freeze(n),e&&Nv(n,(t,r)=>{W1(r,!0)},!1)),n}function z$(){$i(2)}var by={[bm]:z$};function Ib(n){return n===null||!H1(n)?!0:zr.isFrozen(n)}var ww="MapSet",UE="Patches",_N={};function Ff(n){const e=_N[n];return e||$i(0,n),e}var $$=n=>!!_N[n],Sm,TN=()=>Sm,U$=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$$(ww)?Ff(ww):void 0});function Fk(n,e){e&&(n.patchPlugin_=Ff(UE),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function HE(n){VE(n),n.drafts_.forEach(H$),n.drafts_=null}function VE(n){n===Sm&&(Sm=n.parent_)}var jk=n=>Sm=U$(Sm,n);function H$(n){const e=n[Gn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Bk(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Gn].modified_&&(HE(e),$i(4)),Gi(n)&&(n=zk(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[Gn].base_,n,e)}else n=zk(e,t);return V$(e,n,!0),HE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==AN?n:void 0}function zk(n,e){if(Ib(e))return e;const t=e[Gn];if(!t)return G1(e,n.handledSet_,n);if(!Lb(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);RN(t,n)}return t.copy_}function V$(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&W1(e,t)}function kN(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Lb=(n,e)=>n.scope_===e,W$=[];function PN(n,e,t,r){const i=to(n),s=n.type_;if(r!==void 0&&zE(i,r,s)===e){xw(i,r,t,s);return}if(!n.draftLocations_){const a=n.draftLocations_=new Map;Nv(i,(c,u)=>{if(Jo(u)){const d=a.get(u)||[];d.push(c),a.set(u,d)}})}const o=n.draftLocations_.get(e)??W$;for(const a of o)xw(i,a,t,s)}function G$(n,e,t){n.callbacks_.push(function(i){var a;const s=e;if(!s||!Lb(s,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(s);const o=V1(s);PN(n,s.draft_??s,o,t),RN(s,i)})}function RN(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}kN(n)}}function q$(n,e,t){const{scope_:r}=n;if(Jo(t)){const i=t[Gn];Lb(i,r)&&i.callbacks_.push(function(){nx(n);const o=V1(i);PN(n,t,o,e)})}else Gi(t)&&n.callbacks_.push(function(){const s=to(n);zE(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&G1(zE(n.copy_,e,n.type_),r.handledSet_,r)})}function G1(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Jo(n)||e.has(n)||!Gi(n)||Ib(n)||(e.add(n),Nv(n,(r,i)=>{if(Jo(i)){const s=i[Gn];if(Lb(s,t)){const o=V1(s);xw(n,r,o,n.type_),kN(s)}}else Gi(i)&&G1(i,e,t)})),n}function K$(n,e){const t=Db(n),r={type_:t?1:0,scope_:e?e.scope_:TN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=q1;t&&(i=[r],s=Em);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var q1={get(n,e){if(e===Gn)return n;const t=to(n);if(!Ok(t,e,n.type_))return X$(n,t,e);const r=t[e];if(n.finalized_||!Gi(r))return r;if(r===iS(n.base_,e)){nx(n);const i=n.type_===1?+e:e,s=GE(n.scope_,r,n,i);return n.copy_[i]=s}return r},has(n,e){return e in to(n)},ownKeys(n){return Reflect.ownKeys(to(n))},set(n,e,t){const r=DN(to(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=iS(to(n),e),s=i==null?void 0:i[Gn];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(B$(t,i)&&(t!==void 0||Ok(n.base_,e,n.type_)))return!0;nx(n),WE(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),q$(n,e,t)),!0},deleteProperty(n,e){return nx(n),iS(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),WE(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=to(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[tx]:!0,[BE]:n.type_!==1||e!=="length",[yw]:r[yw],[bm]:t[e]}},defineProperty(){$i(11)},getPrototypeOf(n){return Of(n.base_)},setPrototypeOf(){$i(12)}},Em={};Nv(q1,(n,e)=>{Em[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Em.deleteProperty=function(n,e){return Em.set.call(this,n,e,void 0)};Em.set=function(n,e,t){return q1.set.call(this,n[0],e,t,n[0])};function iS(n,e){const t=n[Gn];return(t?to(t):n)[e]}function X$(n,e,t){var i;const r=DN(e,t);return r?bm in r?r[bm]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function DN(n,e){if(!(e in n))return;let t=Of(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Of(t)}}function WE(n){n.modified_||(n.modified_=!0,n.parent_&&WE(n.parent_))}function nx(n){n.copy_||(n.assigned_=new Map,n.copy_=$E(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Y$=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(id(e)&&!id(t)){const s=t;t=e;const o=this;return function(c=s,...u){return o.produce(c,d=>t.call(this,d,...u))}}id(t)||$i(6),r!==void 0&&!id(r)&&$i(7);let i;if(Gi(e)){const s=jk(this),o=GE(s,e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?HE(s):VE(s)}return Fk(s,r),Bk(i,s)}else if(!e||!H1(e)){if(i=t(e),i===void 0&&(i=e),i===AN&&(i=void 0),this.autoFreeze_&&W1(i,!0),r){const s=[],o=[];Ff(UE).generateReplacementPatches_(e,i,{patches_:s,inversePatches_:o}),r(s,o)}return i}else $i(1,e)},this.produceWithPatches=(e,t)=>{if(id(e))return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},rS(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),rS(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),rS(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Gi(n)||$i(8),Jo(n)&&(n=Q$(n));const e=jk(this),t=GE(e,n,void 0);return t[Gn].isManual_=!0,VE(e),t}finishDraft(n,e){const t=n&&n[Gn];(!t||!t.isManual_)&&$i(9);const{scope_:r}=t;return Fk(r,e),Bk(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Ff(UE).applyPatches_;return Jo(n)?r(n,e):this.produce(n,i=>r(i,e))}};function GE(n,e,t,r){const[i,s]=Mb(e)?Ff(ww).proxyMap_(e,t):Nb(e)?Ff(ww).proxySet_(e,t):K$(e,t);return((t==null?void 0:t.scope_)??TN()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?G$(t,s,r):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),i}function Q$(n){return Jo(n)||$i(10,n),MN(n)}function MN(n){if(!Gi(n)||Ib(n))return n;const e=n[Gn];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=$E(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=$E(n,!0);return Nv(t,(i,s)=>{xw(t,i,MN(s))},r),e&&(e.finalized_=!1),t}var Z$=new Y$,NN=Z$.produce;function IN(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var J$=IN(),eU=IN,tU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gw:gw.apply(null,arguments)},nU=n=>n&&typeof n.match=="function";function Zp(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(Vo(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>F$(r)&&r.type===n,t}var LN=class wp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wp.prototype)}static get[Symbol.species](){return wp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wp(...e[0].concat(this)):new wp(...e.concat(this))}};function $k(n){return Gi(n)?NN(n,()=>{}):n}function Sy(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function rU(n){return typeof n=="boolean"}var iU=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new LN;return t&&(rU(t)?o.push(J$):o.push(eU(t.extraArgument))),o},sU="RTK_autoBatch",Uk=n=>e=>{setTimeout(e,n)},oU=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,c=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Uk(10):n.type==="callback"?n.queueNotification:Uk(n.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[sU]),s=!i,s&&(o||(o=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},aU=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new LN(n);return r&&i.push(oU(typeof r=="object"?r:void 0)),i};function lU(n){const e=iU(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(U1(t))a=L$(t);else throw new Error(Vo(1));let c;typeof r=="function"?c=r(e):c=e();let u=gw;i&&(u=tU({trace:!1,...typeof i=="object"&&i}));const d=O$(...c),h=aU(d);let f=typeof o=="function"?o(h):h();const p=u(...f);return EN(a,s,p)}function ON(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Vo(28));if(a in e)throw new Error(Vo(29));return e[a]=o,i},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&t.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function cU(n){return typeof n=="function"}function uU(n,e){let[t,r,i]=ON(e),s;if(cU(n))s=()=>$k(n());else{const a=$k(n);s=()=>a}function o(a=s(),c){let u=[t[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Jo(d)){const p=h(d,c);return p===void 0?d:p}else{if(Gi(d))return NN(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},a)}return o.getInitialState=s,o}var dU=(n,e)=>nU(n)?n.match(e):n(e);function hU(...n){return e=>n.some(t=>dU(t,e))}var fU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pU=(n=21)=>{let e="",t=n;for(;t--;)e+=fU[Math.random()*64|0];return e},mU=["name","message","stack","code"],sS=class{constructor(n,e){$(this,"_type");this.payload=n,this.meta=e}},Hk=class{constructor(n,e){$(this,"_type");this.payload=n,this.meta=e}},gU=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of mU)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Vk="External signal was aborted",xi=(()=>{function n(e,t,r){const i=Zp(e+"/fulfilled",(c,u,d,h)=>({payload:c,meta:{...h||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Zp(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),o=Zp(e+"/rejected",(c,u,d,h,f)=>({payload:h,error:(r&&r.serializeError||gU)(c||"Rejected"),meta:{...f||{},arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c,{signal:u}={}){return(d,h,f)=>{const p=r!=null&&r.idGenerator?r.idGenerator(c):pU(),y=new AbortController;let m,S;function v(E){S=E,y.abort()}u&&(u.aborted?v(Vk):u.addEventListener("abort",()=>v(Vk),{once:!0}));const b=async function(){var T,k;let E;try{let P=(T=r==null?void 0:r.condition)==null?void 0:T.call(r,c,{getState:h,extra:f});if(yU(P)&&(P=await P),P===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((M,D)=>{m=()=>{D({name:"AbortError",message:S||"Aborted"})},y.signal.addEventListener("abort",m,{once:!0})});d(s(p,c,(k=r==null?void 0:r.getPendingMeta)==null?void 0:k.call(r,{requestId:p,arg:c},{getState:h,extra:f}))),E=await Promise.race([R,Promise.resolve(t(c,{dispatch:d,getState:h,extra:f,requestId:p,signal:y.signal,abort:v,rejectWithValue:(M,D)=>new sS(M,D),fulfillWithValue:(M,D)=>new Hk(M,D)})).then(M=>{if(M instanceof sS)throw M;return M instanceof Hk?i(M.payload,p,c,M.meta):i(M,p,c)})])}catch(P){E=P instanceof sS?o(null,p,c,P.payload,P.meta):o(P,p,c)}finally{m&&y.signal.removeEventListener("abort",m)}return r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition||d(E),E}();return Object.assign(b,{abort:v,requestId:p,arg:c,unwrap(){return b.then(vU)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:hU(o,i),typePrefix:e})}return n.withTypes=()=>n,n})();function vU(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function yU(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var xU=Symbol.for("rtk-slice-createasyncthunk");function wU(n,e){return`${n}/${e}`}function bU({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[xU];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Vo(11));const a=(typeof i.reducers=="function"?i.reducers(EU()):i.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,T){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(Vo(12));if(k in u.sliceCaseReducersByType)throw new Error(Vo(13));return u.sliceCaseReducersByType[k]=T,d},addMatcher(C,T){return u.sliceMatchers.push({matcher:C,reducer:T}),d},exposeAction(C,T){return u.actionCreators[C]=T,d},exposeCaseReducer(C,T){return u.sliceCaseReducersByName[C]=T,d}};c.forEach(C=>{const T=a[C],k={reducerName:C,type:wU(s,C),createNotation:typeof i.reducers=="function"};CU(T)?TU(k,T,d,e):AU(k,T,d)});function h(){const[C={},T=[],k=void 0]=typeof i.extraReducers=="function"?ON(i.extraReducers):[i.extraReducers],P={...C,...u.sliceCaseReducersByType};return uU(i.initialState,R=>{for(let M in P)R.addCase(M,P[M]);for(let M of u.sliceMatchers)R.addMatcher(M.matcher,M.reducer);for(let M of T)R.addMatcher(M.matcher,M.reducer);k&&R.addDefaultCase(k)})}const f=C=>C,p=new Map,y=new WeakMap;let m;function S(C,T){return m||(m=h()),m(C,T)}function v(){return m||(m=h()),m.getInitialState()}function b(C,T=!1){function k(R){let M=R[C];return typeof M>"u"&&T&&(M=Sy(y,k,v)),M}function P(R=f){const M=Sy(p,T,()=>new WeakMap);return Sy(M,R,()=>{const D={};for(const[N,F]of Object.entries(i.selectors??{}))D[N]=SU(F,R,()=>Sy(y,R,v),T);return D})}return{reducerPath:C,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const E={name:s,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(C,{reducerPath:T,...k}={}){const P=T??o;return C.inject({reducerPath:P,reducer:S},k),{...E,...b(P,!0)}}};return E}}function SU(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var Ob=bU();function EU(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function AU({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!_U(r))throw new Error(Vo(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?Zp(n,o):Zp(n))}function CU(n){return n._reducerDefinitionType==="asyncThunk"}function _U(n){return n._reducerDefinitionType==="reducerWithPrepare"}function TU({type:n,reducerName:e},t,r,i){if(!i)throw new Error(Vo(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:c,settled:u,options:d}=t,h=i(n,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Ey,pending:a||Ey,rejected:c||Ey,settled:u||Ey})}function Ey(){}function Vo(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const kU={user:null,loading:!1,error:null},Jp=xi("auth/verify",async()=>{const n=await fetch("/api/auth/me");if(!n.ok)throw new Error("Not authenticated");return(await n.json()).user}),FN=xi("auth/logout",async()=>{if(!(await fetch("/api/auth/logout",{method:"POST"})).ok)throw new Error("Logout failed");return null}),jN=Ob({name:"auth",initialState:kU,reducers:{setUser:(n,e)=>{n.user=e.payload},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(Jp.pending,e=>{e.loading=!0,e.error=null}).addCase(Jp.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}).addCase(Jp.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Authentication failed",e.user=null}).addCase(FN.fulfilled,e=>{e.user=null})}}),{setUser:bY,clearError:SY}=jN.actions,PU=jN.reducer,RU={folders:[],currentFolder:null,loading:!1,error:null},rx=xi("folders/fetchAll",async()=>{const n=await fetch("/api/folders");if(!n.ok)throw new Error("Failed to fetch folders");return n.json()}),bw=xi("folders/fetchById",async n=>{const e=await fetch(`/api/folders/${n}`);if(!e.ok)throw new Error("Failed to fetch folder");return e.json()}),BN=xi("folders/create",async n=>await(await Zo("POST","/api/folders",{name:n})).json()),DU=xi("folders/delete",async n=>(await Zo("DELETE",`/api/folders/${n}`,void 0),n)),zN=Ob({name:"folders",initialState:RU,reducers:{setCurrentFolder:(n,e)=>{n.currentFolder=e.payload},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(rx.pending,e=>{e.loading=!0,e.error=null}).addCase(rx.fulfilled,(e,t)=>{e.loading=!1,e.folders=t.payload}).addCase(rx.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch folders"}).addCase(bw.fulfilled,(e,t)=>{e.currentFolder=t.payload}).addCase(BN.fulfilled,(e,t)=>{e.folders.push(t.payload)}).addCase(DU.fulfilled,(e,t)=>{e.folders=e.folders.filter(r=>r.id!==t.payload)})}}),{setCurrentFolder:EY,clearError:AY}=zN.actions,MU=zN.reducer,NU={files:[],currentFile:null,loading:!1,error:null},oS=xi("files/fetchByFolder",async n=>{const e=await fetch(`/api/folders/${n}/files`);if(!e.ok)throw new Error("Failed to fetch files");return e.json()}),IU=xi("files/fetchById",async n=>{const e=await fetch(`/api/files/${n}`);if(!e.ok)throw new Error("Failed to fetch file");return e.json()}),$N=xi("files/delete",async n=>(await Zo("DELETE",`/api/files/${n}`,void 0),n)),UN=Ob({name:"files",initialState:NU,reducers:{setCurrentFile:(n,e)=>{n.currentFile=e.payload},addFile:(n,e)=>{const t=n.files.findIndex(r=>r.id===e.payload.id);t>=0?n.files[t]=e.payload:n.files.push(e.payload)},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(oS.pending,e=>{e.loading=!0,e.error=null}).addCase(oS.fulfilled,(e,t)=>{e.loading=!1,e.files=t.payload}).addCase(oS.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch files"}).addCase(IU.fulfilled,(e,t)=>{e.currentFile=t.payload}).addCase($N.fulfilled,(e,t)=>{e.files=e.files.filter(r=>r.id!==t.payload)})}}),{setCurrentFile:CY,addFile:_Y,clearError:TY}=UN.actions,LU=UN.reducer,OU={subscriptions:[],loading:!1,error:null},aS=xi("subscriptions/fetchAll",async()=>{const n=await fetch("/api/subscriptions");if(!n.ok)throw new Error("Failed to fetch subscriptions");return n.json()}),FU=xi("subscriptions/subscribe",async n=>await Zo("POST","/api/subscriptions",n)),jU=xi("subscriptions/unsubscribe",async n=>(await Zo("DELETE",`/api/subscriptions/${n}`,void 0),n)),HN=Ob({name:"subscriptions",initialState:OU,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(aS.pending,e=>{e.loading=!0,e.error=null}).addCase(aS.fulfilled,(e,t)=>{e.loading=!1,e.subscriptions=t.payload}).addCase(aS.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch subscriptions"}).addCase(FU.fulfilled,(e,t)=>{e.subscriptions.push(t.payload)}).addCase(jU.fulfilled,(e,t)=>{e.subscriptions=e.subscriptions.filter(r=>r.id!==t.payload)})}}),{clearError:kY}=HN.actions,BU=HN.reducer,zU=lU({reducer:{auth:PU,folders:MU,files:LU,subscriptions:BU}}),$U=1,UU=1e6;let lS=0;function HU(){return lS=(lS+1)%Number.MAX_SAFE_INTEGER,lS.toString()}const cS=new Map,Wk=n=>{if(cS.has(n))return;const e=setTimeout(()=>{cS.delete(n),em({type:"REMOVE_TOAST",toastId:n})},UU);cS.set(n,e)},VU=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,$U)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Wk(t):n.toasts.forEach(r=>{Wk(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ix=[];let sx={toasts:[]};function em(n){sx=VU(sx,n),ix.forEach(e=>{e(sx)})}function WU({...n}){const e=HU(),t=i=>em({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>em({type:"DISMISS_TOAST",toastId:e});return em({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function ql(){const[n,e]=w.useState(sx);return w.useEffect(()=>(ix.push(e),()=>{const t=ix.indexOf(e);t>-1&&ix.splice(t,1)}),[n]),{...n,toast:WU,dismiss:t=>em({type:"DISMISS_TOAST",toastId:t})}}function ne(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gk(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Kl(...n){return e=>{let t=!1;const r=n.map(i=>{const s=Gk(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Gk(n[i],null)}}}}function yt(...n){return w.useCallback(Kl(...n),n)}function GU(n,e){const t=w.createContext(e),r=s=>{const{children:o,...a}=s,c=w.useMemo(()=>a,Object.values(a));return g.jsx(t.Provider,{value:c,children:o})};r.displayName=n+"Provider";function i(s){const o=w.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function ca(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o),c=t.length;t=[...t,o];const u=h=>{var v;const{scope:f,children:p,...y}=h,m=((v=f==null?void 0:f[n])==null?void 0:v[c])||a,S=w.useMemo(()=>y,Object.values(y));return g.jsx(m.Provider,{value:S,children:p})};u.displayName=s+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[c])||a,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,qU(i,...e)]}function qU(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function qk(n){const e=KU(n),t=w.forwardRef((r,i)=>{const{children:s,...o}=r,a=w.Children.toArray(s),c=a.find(YU);if(c){const u=c.props.children,d=a.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}function KU(n){const e=w.forwardRef((t,r)=>{const{children:i,...s}=t;if(w.isValidElement(i)){const o=ZU(i),a=QU(s,i.props);return i.type!==w.Fragment&&(a.ref=r?Kl(r,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var XU=Symbol("radix.slottable");function YU(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===XU}function QU(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function ZU(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function K1(n){const e=n+"CollectionProvider",[t,r]=ca(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:S,children:v}=m,b=Ys.useRef(null),E=Ys.useRef(new Map).current;return g.jsx(i,{scope:S,itemMap:E,collectionRef:b,children:v})};o.displayName=e;const a=n+"CollectionSlot",c=qk(a),u=Ys.forwardRef((m,S)=>{const{scope:v,children:b}=m,E=s(a,v),C=yt(S,E.collectionRef);return g.jsx(c,{ref:C,children:b})});u.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=qk(d),p=Ys.forwardRef((m,S)=>{const{scope:v,children:b,...E}=m,C=Ys.useRef(null),T=yt(S,C),k=s(d,v);return Ys.useEffect(()=>(k.itemMap.set(C,{ref:C,...E}),()=>void k.itemMap.delete(C))),g.jsx(f,{[h]:"",ref:T,children:b})});p.displayName=d;function y(m){const S=s(n+"CollectionConsumer",m);return Ys.useCallback(()=>{const b=S.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((k,P)=>E.indexOf(k.ref.current)-E.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,r]}function JU(n){const e=eH(n),t=w.forwardRef((r,i)=>{const{children:s,...o}=r,a=w.Children.toArray(s),c=a.find(nH);if(c){const u=c.props.children,d=a.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}function eH(n){const e=w.forwardRef((t,r)=>{const{children:i,...s}=t;if(w.isValidElement(i)){const o=iH(i),a=rH(s,i.props);return i.type!==w.Fragment&&(a.ref=r?Kl(r,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var tH=Symbol("radix.slottable");function nH(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===tH}function rH(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function iH(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var sH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=sH.reduce((n,e)=>{const t=JU(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function X1(n,e){n&&Pv.flushSync(()=>n.dispatchEvent(e))}function Wr(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function oH(n,e=globalThis==null?void 0:globalThis.document){const t=Wr(n);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var aH="DismissableLayer",qE="dismissableLayer.update",lH="dismissableLayer.pointerDownOutside",cH="dismissableLayer.focusOutside",Kk,VN=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lv=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=n,u=w.useContext(VN),[d,h]=w.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),y=yt(e,P=>h(P)),m=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(S),b=d?m.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=v,T=dH(P=>{const R=P.target,M=[...u.branches].some(D=>D.contains(R));!C||M||(i==null||i(P),o==null||o(P),P.defaultPrevented||a==null||a())},f),k=hH(P=>{const R=P.target;[...u.branches].some(D=>D.contains(R))||(s==null||s(P),o==null||o(P),P.defaultPrevented||a==null||a())},f);return oH(P=>{b===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},f),w.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Kk=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Xk(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Kk)}},[d,f,t,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Xk())},[d,u]),w.useEffect(()=>{const P=()=>p({});return document.addEventListener(qE,P),()=>document.removeEventListener(qE,P)},[]),g.jsx(Ue.div,{...c,ref:y,style:{pointerEvents:E?C?"auto":"none":void 0,...n.style},onFocusCapture:ne(n.onFocusCapture,k.onFocusCapture),onBlurCapture:ne(n.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ne(n.onPointerDownCapture,T.onPointerDownCapture)})});Lv.displayName=aH;var uH="DismissableLayerBranch",WN=w.forwardRef((n,e)=>{const t=w.useContext(VN),r=w.useRef(null),i=yt(e,r);return w.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),g.jsx(Ue.div,{...n,ref:i})});WN.displayName=uH;function dH(n,e=globalThis==null?void 0:globalThis.document){const t=Wr(n),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){GN(lH,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function hH(n,e=globalThis==null?void 0:globalThis.document){const t=Wr(n),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&GN(cH,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xk(){const n=new CustomEvent(qE);document.dispatchEvent(n)}function GN(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?X1(i,s):i.dispatchEvent(s)}var fH=Lv,pH=WN,ea=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},mH="Portal",Fb=w.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=w.useState(!1);ea(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Xz.createPortal(g.jsx(Ue.div,{...r,ref:e}),o):null});Fb.displayName=mH;function gH(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var Us=n=>{const{present:e,children:t}=n,r=vH(e),i=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),s=yt(r.ref,yH(i));return typeof t=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Us.displayName="Presence";function vH(n){const[e,t]=w.useState(),r=w.useRef(null),i=w.useRef(n),s=w.useRef("none"),o=n?"mounted":"unmounted",[a,c]=gH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Ay(r.current);s.current=a==="mounted"?u:"none"},[a]),ea(()=>{const u=r.current,d=i.current;if(d!==n){const f=s.current,p=Ay(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),ea(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=Ay(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(c("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},f=p=>{p.target===e&&(s.current=Ay(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function Ay(n){return(n==null?void 0:n.animationName)||"none"}function yH(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var xH=fb[" useInsertionEffect ".trim().toString()]||ea;function Ov({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,o]=wH({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:i;{const d=w.useRef(n!==void 0);w.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=w.useCallback(d=>{var h;if(a){const f=bH(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,n,s,o]);return[c,u]}function wH({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),i=w.useRef(t),s=w.useRef(e);return xH(()=>{s.current=e},[e]),w.useEffect(()=>{var o;i.current!==t&&((o=s.current)==null||o.call(s,t),i.current=t)},[t,i]),[t,r,s]}function bH(n){return typeof n=="function"}var SH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EH="VisuallyHidden",jb=w.forwardRef((n,e)=>g.jsx(Ue.span,{...n,ref:e,style:{...SH,...n.style}}));jb.displayName=EH;var AH=jb,Y1="ToastProvider",[Q1,CH,_H]=K1("Toast"),[qN]=ca("Toast",[_H]),[TH,Bb]=qN(Y1),KN=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,c]=w.useState(null),[u,d]=w.useState(0),h=w.useRef(!1),f=w.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Y1}\`. Expected non-empty \`string\`.`),g.jsx(Q1.Provider,{scope:e,children:g.jsx(TH,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};KN.displayName=Y1;var XN="ToastViewport",kH=["F8"],KE="toast.viewportPause",XE="toast.viewportResume",YN=w.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=kH,label:i="Notifications ({hotkey})",...s}=n,o=Bb(XN,t),a=CH(t),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=yt(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const S=v=>{var E;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),w.useEffect(()=>{const S=c.current,v=h.current;if(y&&S&&v){const b=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(KE);v.dispatchEvent(k),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(XE);v.dispatchEvent(k),o.isClosePausedRef.current=!1}},C=k=>{!S.contains(k.relatedTarget)&&E()},T=()=>{S.contains(document.activeElement)||E()};return S.addEventListener("focusin",b),S.addEventListener("focusout",C),S.addEventListener("pointermove",b),S.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",E),()=>{S.removeEventListener("focusin",b),S.removeEventListener("focusout",C),S.removeEventListener("pointermove",b),S.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",E)}}},[y,o.isClosePausedRef]);const m=w.useCallback(({tabbingDirection:S})=>{const b=a().map(E=>{const C=E.ref.current,T=[C,...$H(C)];return S==="forwards"?T:T.reverse()});return(S==="forwards"?b.reverse():b).flat()},[a]);return w.useEffect(()=>{const S=h.current;if(S){const v=b=>{var T,k,P;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const R=document.activeElement,M=b.shiftKey;if(b.target===S&&M){(T=u.current)==null||T.focus();return}const F=m({tabbingDirection:M?"backwards":"forwards"}),z=F.findIndex(L=>L===R);uS(F.slice(z+1))?b.preventDefault():M?(k=u.current)==null||k.focus():(P=d.current)==null||P.focus()}};return S.addEventListener("keydown",v),()=>S.removeEventListener("keydown",v)}},[a,m]),g.jsxs(pH,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&g.jsx(YE,{ref:u,onFocusFromOutsideViewport:()=>{const S=m({tabbingDirection:"forwards"});uS(S)}}),g.jsx(Q1.Slot,{scope:t,children:g.jsx(Ue.ol,{tabIndex:-1,...s,ref:f})}),y&&g.jsx(YE,{ref:d,onFocusFromOutsideViewport:()=>{const S=m({tabbingDirection:"backwards"});uS(S)}})]})});YN.displayName=XN;var QN="ToastFocusProxy",YE=w.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=Bb(QN,t);return g.jsx(jb,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});YE.displayName=QN;var Fv="Toast",PH="toast.swipeStart",RH="toast.swipeMove",DH="toast.swipeCancel",MH="toast.swipeEnd",ZN=w.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a,c]=Ov({prop:r,defaultProp:i??!0,onChange:s,caller:Fv});return g.jsx(Us,{present:t||a,children:g.jsx(LH,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Wr(n.onPause),onResume:Wr(n.onResume),onSwipeStart:ne(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ne(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});ZN.displayName=Fv;var[NH,IH]=qN(Fv,{onClose(){}}),LH=w.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...y}=n,m=Bb(Fv,t),[S,v]=w.useState(null),b=yt(e,L=>v(L)),E=w.useRef(null),C=w.useRef(null),T=i||m.duration,k=w.useRef(0),P=w.useRef(T),R=w.useRef(0),{onToastAdd:M,onToastRemove:D}=m,N=Wr(()=>{var U;(S==null?void 0:S.contains(document.activeElement))&&((U=m.viewport)==null||U.focus()),o()}),F=w.useCallback(L=>{!L||L===1/0||(window.clearTimeout(R.current),k.current=new Date().getTime(),R.current=window.setTimeout(N,L))},[N]);w.useEffect(()=>{const L=m.viewport;if(L){const U=()=>{F(P.current),u==null||u()},j=()=>{const B=new Date().getTime()-k.current;P.current=P.current-B,window.clearTimeout(R.current),c==null||c()};return L.addEventListener(KE,j),L.addEventListener(XE,U),()=>{L.removeEventListener(KE,j),L.removeEventListener(XE,U)}}},[m.viewport,T,c,u,F]),w.useEffect(()=>{s&&!m.isClosePausedRef.current&&F(T)},[s,T,m.isClosePausedRef,F]),w.useEffect(()=>(M(),()=>D()),[M,D]);const z=w.useMemo(()=>S?s2(S):null,[S]);return m.viewport?g.jsxs(g.Fragment,{children:[z&&g.jsx(OH,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:z}),g.jsx(NH,{scope:t,onClose:N,children:Pv.createPortal(g.jsx(Q1.ItemSlot,{scope:t,children:g.jsx(fH,{asChild:!0,onEscapeKeyDown:ne(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ue.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:ne(n.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ne(n.onPointerDown,L=>{L.button===0&&(E.current={x:L.clientX,y:L.clientY})}),onPointerMove:ne(n.onPointerMove,L=>{if(!E.current)return;const U=L.clientX-E.current.x,j=L.clientY-E.current.y,B=!!C.current,I=["left","right"].includes(m.swipeDirection),O=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,V=I?O(0,U):0,Q=I?0:O(0,j),G=L.pointerType==="touch"?10:2,re={x:V,y:Q},ce={originalEvent:L,delta:re};B?(C.current=re,Cy(RH,h,ce,{discrete:!1})):Yk(re,m.swipeDirection,G)?(C.current=re,Cy(PH,d,ce,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(U)>G||Math.abs(j)>G)&&(E.current=null)}),onPointerUp:ne(n.onPointerUp,L=>{const U=C.current,j=L.target;if(j.hasPointerCapture(L.pointerId)&&j.releasePointerCapture(L.pointerId),C.current=null,E.current=null,U){const B=L.currentTarget,I={originalEvent:L,delta:U};Yk(U,m.swipeDirection,m.swipeThreshold)?Cy(MH,p,I,{discrete:!0}):Cy(DH,f,I,{discrete:!0}),B.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),OH=n=>{const{__scopeToast:e,children:t,...r}=n,i=Bb(Fv,e),[s,o]=w.useState(!1),[a,c]=w.useState(!1);return BH(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(Fb,{asChild:!0,children:g.jsx(jb,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",t]})})})},FH="ToastTitle",JN=w.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return g.jsx(Ue.div,{...r,ref:e})});JN.displayName=FH;var jH="ToastDescription",e2=w.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return g.jsx(Ue.div,{...r,ref:e})});e2.displayName=jH;var t2="ToastAction",n2=w.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?g.jsx(i2,{altText:t,asChild:!0,children:g.jsx(Z1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${t2}\`. Expected non-empty \`string\`.`),null)});n2.displayName=t2;var r2="ToastClose",Z1=w.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=IH(r2,t);return g.jsx(i2,{asChild:!0,children:g.jsx(Ue.button,{type:"button",...r,ref:e,onClick:ne(n.onClick,i.onClose)})})});Z1.displayName=r2;var i2=w.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return g.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function s2(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),zH(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...s2(r))}}),e}function Cy(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?X1(i,s):i.dispatchEvent(s)}var Yk=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function BH(n=()=>{}){const e=Wr(n);ea(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function zH(n){return n.nodeType===n.ELEMENT_NODE}function $H(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function uS(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var UH=KN,o2=YN,a2=ZN,l2=JN,c2=e2,u2=n2,d2=Z1;function h2(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=h2(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Kf(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=h2(n))&&(r&&(r+=" "),r+=e);return r}const Qk=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Zk=Kf,jv=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Zk(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=t==null?void 0:t[u],h=s==null?void 0:s[u];if(d===null)return null;const f=Qk(d)||Qk(h);return i[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(y=>{let[m,S]=y;return Array.isArray(S)?S.includes({...s,...a}[m]):{...s,...a}[m]===S})?[...u,h,f]:u},[]);return Zk(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f2=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>w.createElement("svg",{ref:c,...VH,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:f2("lucide",i),...a},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(n,e)=>{const t=w.forwardRef(({className:r,...i},s)=>w.createElement(WH,{ref:s,iconNode:e,className:f2(`lucide-${HH(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Ye("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=Ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ye("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=Ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=Ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=Ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),r_="-",sV=n=>{const e=aV(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(r_);return a[0]===""&&a.length!==1&&a.shift(),x2(a,e)||oV(o)},getConflictingClassGroupIds:(o,a)=>{const c=t[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},x2=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?x2(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(r_);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Jk=/^\[(.+)\]$/,oV=n=>{if(Jk.test(n)){const e=Jk.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},aV=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return cV(Object.entries(n.classGroups),t).forEach(([s,o])=>{ZE(o,r,s,e)}),r},ZE=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:eP(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(lV(i)){ZE(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{ZE(o,eP(e,s),t,r)})})},eP=(n,e)=>{let t=n;return e.split(r_).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},lV=n=>n.isThemeGetter,cV=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,uV=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},w2="!",dV=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let S=0;S<a.length;S++){let v=a[S];if(u===0){if(v===i&&(r||a.slice(S,S+s)===e)){c.push(a.slice(d,S)),d=S+s;continue}if(v==="/"){h=S;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?a:a.substring(d),p=f.startsWith(w2),y=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return t?a=>t({className:a,parseClassName:o}):o},hV=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},fV=n=>({cache:uV(n.cacheSize),parseClassName:dV(n),...sV(n)}),pV=/\s+/,mV=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(pV);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let y=!!p,m=r(y?f.substring(0,p):f);if(!m){if(!y){a=u+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=u+(a.length>0?" "+a:a);continue}y=!1}const S=hV(d).join(":"),v=h?S+w2:S,b=v+m;if(s.includes(b))continue;s.push(b);const E=i(m,y);for(let C=0;C<E.length;++C){const T=E[C];s.push(v+T)}a=u+(a.length>0?" "+a:a)}return a};function gV(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=b2(e))&&(r&&(r+=" "),r+=t);return r}const b2=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=b2(n[r]))&&(t&&(t+=" "),t+=e);return t};function vV(n,...e){let t,r,i,s=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=fV(u),r=t.cache.get,i=t.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=mV(c,t);return i(c,d),d}return function(){return s(gV.apply(null,arguments))}}const et=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},S2=/^\[(?:([a-z-]+):)?(.+)\]$/i,yV=/^\d+\/\d+$/,xV=new Set(["px","full","screen"]),wV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ws=n=>Od(n)||xV.has(n)||yV.test(n),ha=n=>Yf(n,"length",MV),Od=n=>!!n&&!Number.isNaN(Number(n)),dS=n=>Yf(n,"number",Od),cp=n=>!!n&&Number.isInteger(Number(n)),CV=n=>n.endsWith("%")&&Od(n.slice(0,-1)),he=n=>S2.test(n),fa=n=>wV.test(n),_V=new Set(["length","size","percentage"]),TV=n=>Yf(n,_V,E2),kV=n=>Yf(n,"position",E2),PV=new Set(["image","url"]),RV=n=>Yf(n,PV,IV),DV=n=>Yf(n,"",NV),up=()=>!0,Yf=(n,e,t)=>{const r=S2.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},MV=n=>bV.test(n)&&!SV.test(n),E2=()=>!1,NV=n=>EV.test(n),IV=n=>AV.test(n),LV=()=>{const n=et("colors"),e=et("spacing"),t=et("blur"),r=et("brightness"),i=et("borderColor"),s=et("borderRadius"),o=et("borderSpacing"),a=et("borderWidth"),c=et("contrast"),u=et("grayscale"),d=et("hueRotate"),h=et("invert"),f=et("gap"),p=et("gradientColorStops"),y=et("gradientColorStopPositions"),m=et("inset"),S=et("margin"),v=et("opacity"),b=et("padding"),E=et("saturate"),C=et("scale"),T=et("sepia"),k=et("skew"),P=et("space"),R=et("translate"),M=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",he,e],F=()=>[he,e],z=()=>["",Ws,ha],L=()=>["auto",Od,he],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",he],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Od,he];return{cacheSize:500,separator:":",theme:{colors:[up],spacing:[Ws,ha],blur:["none","",fa,he],brightness:Q(),borderColor:[n],borderRadius:["none","","full",fa,he],borderSpacing:F(),borderWidth:z(),contrast:Q(),grayscale:O(),hueRotate:Q(),invert:O(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[CV,ha],inset:N(),margin:N(),opacity:Q(),padding:F(),saturate:Q(),scale:Q(),sepia:O(),skew:Q(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[fa]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),he]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cp,he]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",cp,he]}],"grid-cols":[{"grid-cols":[up]}],"col-start-end":[{col:["auto",{span:["full",cp,he]},he]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[up]}],"row-start-end":[{row:["auto",{span:[cp,he]},he]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[fa]},fa]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fa,ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dS]}],"font-family":[{font:[up]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Od,dS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ws,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ws,ha]}],"underline-offset":[{"underline-offset":["auto",Ws,he]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),kV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RV]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Ws,he]}],"outline-w":[{outline:[Ws,ha]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ws,ha]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",fa,DV]}],"shadow-color":[{shadow:[up]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fa,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[cp,he]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ws,ha,dS]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OV=vV(LV);function te(...n){return OV(Kf(n))}const FV=UH,A2=w.forwardRef(({className:n,...e},t)=>g.jsx(o2,{ref:t,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));A2.displayName=o2.displayName;const jV=jv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),C2=w.forwardRef(({className:n,variant:e,...t},r)=>g.jsx(a2,{ref:r,className:te(jV({variant:e}),n),...t}));C2.displayName=a2.displayName;const BV=w.forwardRef(({className:n,...e},t)=>g.jsx(u2,{ref:t,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));BV.displayName=u2.displayName;const _2=w.forwardRef(({className:n,...e},t)=>g.jsx(d2,{ref:t,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:g.jsx(Xf,{className:"h-4 w-4"})}));_2.displayName=d2.displayName;const T2=w.forwardRef(({className:n,...e},t)=>g.jsx(l2,{ref:t,className:te("text-sm font-semibold",n),...e}));T2.displayName=l2.displayName;const k2=w.forwardRef(({className:n,...e},t)=>g.jsx(c2,{ref:t,className:te("text-sm opacity-90",n),...e}));k2.displayName=c2.displayName;function zV(){const{toasts:n}=ql();return g.jsxs(FV,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return g.jsxs(C2,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[t&&g.jsx(T2,{children:t}),r&&g.jsx(k2,{children:r})]}),i,g.jsx(_2,{})]},e)}),g.jsx(A2,{})]})}var $V=fb[" useId ".trim().toString()]||(()=>{}),UV=0;function Mu(n){const[e,t]=w.useState($V());return ea(()=>{t(r=>r??String(UV++))},[n]),e?`radix-${e}`:""}const HV=["top","right","bottom","left"],jl=Math.min,Or=Math.max,Sw=Math.round,_y=Math.floor,js=n=>({x:n,y:n}),VV={left:"right",right:"left",bottom:"top",top:"bottom"},WV={start:"end",end:"start"};function JE(n,e,t){return Or(n,jl(e,t))}function ta(n,e){return typeof n=="function"?n(e):n}function na(n){return n.split("-")[0]}function Qf(n){return n.split("-")[1]}function i_(n){return n==="x"?"y":"x"}function s_(n){return n==="y"?"height":"width"}const GV=new Set(["top","bottom"]);function Ls(n){return GV.has(na(n))?"y":"x"}function o_(n){return i_(Ls(n))}function qV(n,e,t){t===void 0&&(t=!1);const r=Qf(n),i=o_(n),s=s_(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ew(o)),[o,Ew(o)]}function KV(n){const e=Ew(n);return[eA(n),e,eA(e)]}function eA(n){return n.replace(/start|end/g,e=>WV[e])}const tP=["left","right"],nP=["right","left"],XV=["top","bottom"],YV=["bottom","top"];function QV(n,e,t){switch(n){case"top":case"bottom":return t?e?nP:tP:e?tP:nP;case"left":case"right":return e?XV:YV;default:return[]}}function ZV(n,e,t,r){const i=Qf(n);let s=QV(na(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(eA)))),s}function Ew(n){return n.replace(/left|right|bottom|top/g,e=>VV[e])}function JV(n){return{top:0,right:0,bottom:0,left:0,...n}}function P2(n){return typeof n!="number"?JV(n):{top:n,right:n,bottom:n,left:n}}function Aw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function rP(n,e,t){let{reference:r,floating:i}=n;const s=Ls(e),o=o_(e),a=s_(o),c=na(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Qf(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const e6=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:d,y:h}=rP(u,r,c),f=r,p={},y=0;for(let m=0;m<a.length;m++){const{name:S,fn:v}=a[m],{x:b,y:E,data:C,reset:T}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=b??d,h=E??h,p={...p,[S]:{...p[S],...C}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:d,y:h}=rP(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function Cm(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=ta(e,n),y=P2(p),S=a[f?h==="floating"?"reference":"floating":h],v=Aw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(S)))==null||t?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},T=Aw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:c}):b);return{top:(v.top-T.top+y.top)/C.y,bottom:(T.bottom-v.bottom+y.bottom)/C.y,left:(v.left-T.left+y.left)/C.x,right:(T.right-v.right+y.right)/C.x}}const t6=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=ta(n,e)||{};if(u==null)return{};const h=P2(d),f={x:t,y:r},p=o_(i),y=s_(p),m=await o.getDimensions(u),S=p==="y",v=S?"top":"left",b=S?"bottom":"right",E=S?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[p]-f[p]-s.floating[y],T=f[p]-s.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=k?k[E]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=a.floating[E]||s.floating[y]);const R=C/2-T/2,M=P/2-m[y]/2-1,D=jl(h[v],M),N=jl(h[b],M),F=D,z=P-m[y]-N,L=P/2-m[y]/2+R,U=JE(F,L,z),j=!c.arrow&&Qf(i)!=null&&L!==U&&s.reference[y]/2-(L<F?D:N)-m[y]/2<0,B=j?L<F?L-F:L-z:0;return{[p]:f[p]+B,data:{[p]:U,centerOffset:L-U-B,...j&&{alignmentOffset:B}},reset:j}}}),n6=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...S}=ta(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=na(i),b=Ls(a),E=na(a)===a,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(E||!m?[Ew(a)]:KV(a)),k=y!=="none";!f&&k&&T.push(...ZV(a,m,y,C));const P=[a,...T],R=await Cm(e,S),M=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&M.push(R[v]),h){const L=qV(i,o,C);M.push(R[L[0]],R[L[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(L=>L<=0)){var N,F;const L=(((N=s.flip)==null?void 0:N.index)||0)+1,U=P[L];if(U&&(!(h==="alignment"?b!==Ls(U):!1)||D.every(I=>Ls(I.placement)===b?I.overflows[0]>0:!0)))return{data:{index:L,overflows:D},reset:{placement:U}};let j=(F=D.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:F.placement;if(!j)switch(p){case"bestFit":{var z;const B=(z=D.filter(I=>{if(k){const O=Ls(I.placement);return O===b||O==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(O=>O>0).reduce((O,V)=>O+V,0)]).sort((I,O)=>I[1]-O[1])[0])==null?void 0:z[0];B&&(j=B);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function iP(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function sP(n){return HV.some(e=>n[e]>=0)}const r6=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=ta(n,e);switch(r){case"referenceHidden":{const s=await Cm(e,{...i,elementContext:"reference"}),o=iP(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sP(o)}}}case"escaped":{const s=await Cm(e,{...i,altBoundary:!0}),o=iP(s,t.floating);return{data:{escapedOffsets:o,escaped:sP(o)}}}default:return{}}}}},R2=new Set(["left","top"]);async function i6(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=na(t),a=Qf(t),c=Ls(t)==="y",u=R2.has(o)?-1:1,d=s&&c?-1:1,h=ta(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const s6=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await i6(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},o6=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:v,y:b}=S;return{x:v,y:b}}},...c}=ta(n,e),u={x:t,y:r},d=await Cm(e,c),h=Ls(na(i)),f=i_(h);let p=u[f],y=u[h];if(s){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=p+d[S],E=p-d[v];p=JE(b,p,E)}if(o){const S=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=y+d[S],E=y-d[v];y=JE(b,y,E)}const m=a.fn({...e,[f]:p,[h]:y});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[f]:s,[h]:o}}}}}},a6=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=ta(n,e),d={x:t,y:r},h=Ls(i),f=i_(h);let p=d[f],y=d[h];const m=ta(a,e),S=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const E=f==="y"?"height":"width",C=s.reference[f]-s.floating[E]+S.mainAxis,T=s.reference[f]+s.reference[E]-S.mainAxis;p<C?p=C:p>T&&(p=T)}if(u){var v,b;const E=f==="y"?"width":"height",C=R2.has(na(i)),T=s.reference[h]-s.floating[E]+(C&&((v=o.offset)==null?void 0:v[h])||0)+(C?0:S.crossAxis),k=s.reference[h]+s.reference[E]+(C?0:((b=o.offset)==null?void 0:b[h])||0)-(C?S.crossAxis:0);y<T?y=T:y>k&&(y=k)}return{[f]:p,[h]:y}}}},l6=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=ta(n,e),d=await Cm(e,u),h=na(i),f=Qf(i),p=Ls(i)==="y",{width:y,height:m}=s.floating;let S,v;h==="top"||h==="bottom"?(S=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,S=f==="end"?"top":"bottom");const b=m-d.top-d.bottom,E=y-d.left-d.right,C=jl(m-d[S],b),T=jl(y-d[v],E),k=!e.middlewareData.shift;let P=C,R=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=b),k&&!f){const D=Or(d.left,0),N=Or(d.right,0),F=Or(d.top,0),z=Or(d.bottom,0);p?R=y-2*(D!==0||N!==0?D+N:Or(d.left,d.right)):P=m-2*(F!==0||z!==0?F+z:Or(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:P});const M=await o.getDimensions(a.floating);return y!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function $b(){return typeof window<"u"}function Zf(n){return D2(n)?(n.nodeName||"").toLowerCase():"#document"}function Ur(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Hs(n){var e;return(e=(D2(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function D2(n){return $b()?n instanceof Node||n instanceof Ur(n).Node:!1}function qi(n){return $b()?n instanceof Element||n instanceof Ur(n).Element:!1}function zs(n){return $b()?n instanceof HTMLElement||n instanceof Ur(n).HTMLElement:!1}function oP(n){return!$b()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ur(n).ShadowRoot}const c6=new Set(["inline","contents"]);function zv(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Ki(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!c6.has(i)}const u6=new Set(["table","td","th"]);function d6(n){return u6.has(Zf(n))}const h6=[":popover-open",":modal"];function Ub(n){return h6.some(e=>{try{return n.matches(e)}catch{return!1}})}const f6=["transform","translate","scale","rotate","perspective"],p6=["transform","translate","scale","rotate","perspective","filter"],m6=["paint","layout","strict","content"];function a_(n){const e=l_(),t=qi(n)?Ki(n):n;return f6.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||p6.some(r=>(t.willChange||"").includes(r))||m6.some(r=>(t.contain||"").includes(r))}function g6(n){let e=Bl(n);for(;zs(e)&&!jf(e);){if(a_(e))return e;if(Ub(e))return null;e=Bl(e)}return null}function l_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const v6=new Set(["html","body","#document"]);function jf(n){return v6.has(Zf(n))}function Ki(n){return Ur(n).getComputedStyle(n)}function Hb(n){return qi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Bl(n){if(Zf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||oP(n)&&n.host||Hs(n);return oP(e)?e.host:e}function M2(n){const e=Bl(n);return jf(e)?n.ownerDocument?n.ownerDocument.body:n.body:zs(e)&&zv(e)?e:M2(e)}function _m(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=M2(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ur(i);if(s){const a=tA(o);return e.concat(o,o.visualViewport||[],zv(i)?i:[],a&&t?_m(a):[])}return e.concat(i,_m(i,[],t))}function tA(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function N2(n){const e=Ki(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=zs(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Sw(t)!==s||Sw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function c_(n){return qi(n)?n:n.contextElement}function Fd(n){const e=c_(n);if(!zs(e))return js(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=N2(e);let o=(s?Sw(t.width):t.width)/r,a=(s?Sw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const y6=js(0);function I2(n){const e=Ur(n);return!l_()||!e.visualViewport?y6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function x6(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ur(n)?!1:e}function zu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=c_(n);let o=js(1);e&&(r?qi(r)&&(o=Fd(r)):o=Fd(n));const a=x6(s,t,r)?I2(s):js(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Ur(s),p=r&&qi(r)?Ur(r):r;let y=f,m=tA(y);for(;m&&r&&p!==y;){const S=Fd(m),v=m.getBoundingClientRect(),b=Ki(m),E=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*S.x,C=v.top+(m.clientTop+parseFloat(b.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,h*=S.y,c+=E,u+=C,y=Ur(m),m=tA(y)}}return Aw({width:d,height:h,x:c,y:u})}function Vb(n,e){const t=Hb(n).scrollLeft;return e?e.left+t:zu(Hs(n)).left+t}function L2(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Vb(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function w6(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Hs(r),a=e?Ub(e.floating):!1;if(r===o||a&&s)return t;let c={scrollLeft:0,scrollTop:0},u=js(1);const d=js(0),h=zs(r);if((h||!h&&!s)&&((Zf(r)!=="body"||zv(o))&&(c=Hb(r)),zs(r))){const p=zu(r);u=Fd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!s?L2(o,c):js(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function b6(n){return Array.from(n.getClientRects())}function S6(n){const e=Hs(n),t=Hb(n),r=n.ownerDocument.body,i=Or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Vb(n);const a=-t.scrollTop;return Ki(r).direction==="rtl"&&(o+=Or(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const aP=25;function E6(n,e){const t=Ur(n),r=Hs(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const d=l_();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}const u=Vb(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,y=Math.abs(r.clientWidth-h.clientWidth-p);y<=aP&&(s-=y)}else u<=aP&&(s+=u);return{width:s,height:o,x:a,y:c}}const A6=new Set(["absolute","fixed"]);function C6(n,e){const t=zu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=zs(n)?Fd(n):js(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function lP(n,e,t){let r;if(e==="viewport")r=E6(n,t);else if(e==="document")r=S6(Hs(n));else if(qi(e))r=C6(e,t);else{const i=I2(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Aw(r)}function O2(n,e){const t=Bl(n);return t===e||!qi(t)||jf(t)?!1:Ki(t).position==="fixed"||O2(t,e)}function _6(n,e){const t=e.get(n);if(t)return t;let r=_m(n,[],!1).filter(a=>qi(a)&&Zf(a)!=="body"),i=null;const s=Ki(n).position==="fixed";let o=s?Bl(n):n;for(;qi(o)&&!jf(o);){const a=Ki(o),c=a_(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&A6.has(i.position)||zv(o)&&!c&&O2(n,o))?r=r.filter(d=>d!==o):i=a,o=Bl(o)}return e.set(n,r),r}function T6(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Ub(e)?[]:_6(e,this._c):[].concat(t),r],a=o[0],c=o.reduce((u,d)=>{const h=lP(e,d,i);return u.top=Or(h.top,u.top),u.right=jl(h.right,u.right),u.bottom=jl(h.bottom,u.bottom),u.left=Or(h.left,u.left),u},lP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function k6(n){const{width:e,height:t}=N2(n);return{width:e,height:t}}function P6(n,e,t){const r=zs(e),i=Hs(e),s=t==="fixed",o=zu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=js(0);function u(){c.x=Vb(i)}if(r||!r&&!s)if((Zf(e)!=="body"||zv(i))&&(a=Hb(e)),r){const p=zu(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?L2(i,a):js(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function hS(n){return Ki(n).position==="static"}function cP(n,e){if(!zs(n)||Ki(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Hs(n)===t&&(t=t.ownerDocument.body),t}function F2(n,e){const t=Ur(n);if(Ub(n))return t;if(!zs(n)){let i=Bl(n);for(;i&&!jf(i);){if(qi(i)&&!hS(i))return i;i=Bl(i)}return t}let r=cP(n,e);for(;r&&d6(r)&&hS(r);)r=cP(r,e);return r&&jf(r)&&hS(r)&&!a_(r)?t:r||g6(n)||t}const R6=async function(n){const e=this.getOffsetParent||F2,t=this.getDimensions,r=await t(n.floating);return{reference:P6(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function D6(n){return Ki(n).direction==="rtl"}const M6={convertOffsetParentRelativeRectToViewportRelativeRect:w6,getDocumentElement:Hs,getClippingRect:T6,getOffsetParent:F2,getElementRects:R6,getClientRects:b6,getDimensions:k6,getScale:Fd,isElement:qi,isRTL:D6};function j2(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function N6(n,e){let t=null,r;const i=Hs(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const y=_y(h),m=_y(i.clientWidth-(d+f)),S=_y(i.clientHeight-(h+p)),v=_y(d),E={rootMargin:-y+"px "+-m+"px "+-S+"px "+-v+"px",threshold:Or(0,jl(1,c))||1};let C=!0;function T(k){const P=k[0].intersectionRatio;if(P!==c){if(!C)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!j2(u,n.getBoundingClientRect())&&o(),C=!1}try{t=new IntersectionObserver(T,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,E)}t.observe(n)}return o(!0),s}function I6(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=c_(n),d=i||s?[...u?_m(u):[],..._m(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const h=u&&a?N6(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let y,m=c?zu(n):null;c&&S();function S(){const v=zu(n);m&&!j2(m,v)&&t(),m=v,y=requestAnimationFrame(S)}return t(),()=>{var v;d.forEach(b=>{i&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const L6=s6,O6=o6,F6=n6,j6=l6,B6=r6,uP=t6,z6=a6,$6=(n,e,t)=>{const r=new Map,i={platform:M6,...t},s={...i.platform,_c:r};return e6(n,e,{...i,platform:s})};var U6=typeof document<"u",H6=function(){},ox=U6?w.useLayoutEffect:H6;function Cw(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Cw(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Cw(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function B2(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function dP(n,e){const t=B2(n);return Math.round(e*t)/t}function fS(n){const e=w.useRef(n);return ox(()=>{e.current=n}),e}function V6(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=n,[d,h]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=w.useState(r);Cw(f,r)||p(r);const[y,m]=w.useState(null),[S,v]=w.useState(null),b=w.useCallback(I=>{I!==k.current&&(k.current=I,m(I))},[]),E=w.useCallback(I=>{I!==P.current&&(P.current=I,v(I))},[]),C=s||y,T=o||S,k=w.useRef(null),P=w.useRef(null),R=w.useRef(d),M=c!=null,D=fS(c),N=fS(i),F=fS(u),z=w.useCallback(()=>{if(!k.current||!P.current)return;const I={placement:e,strategy:t,middleware:f};N.current&&(I.platform=N.current),$6(k.current,P.current,I).then(O=>{const V={...O,isPositioned:F.current!==!1};L.current&&!Cw(R.current,V)&&(R.current=V,Pv.flushSync(()=>{h(V)}))})},[f,e,t,N,F]);ox(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const L=w.useRef(!1);ox(()=>(L.current=!0,()=>{L.current=!1}),[]),ox(()=>{if(C&&(k.current=C),T&&(P.current=T),C&&T){if(D.current)return D.current(C,T,z);z()}},[C,T,z,D,M]);const U=w.useMemo(()=>({reference:k,floating:P,setReference:b,setFloating:E}),[b,E]),j=w.useMemo(()=>({reference:C,floating:T}),[C,T]),B=w.useMemo(()=>{const I={position:t,left:0,top:0};if(!j.floating)return I;const O=dP(j.floating,d.x),V=dP(j.floating,d.y);return a?{...I,transform:"translate("+O+"px, "+V+"px)",...B2(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:O,top:V}},[t,a,j.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:z,refs:U,elements:j,floatingStyles:B}),[d,z,U,j,B])}const W6=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?uP({element:r.current,padding:i}).fn(t):{}:r?uP({element:r,padding:i}).fn(t):{}}}},G6=(n,e)=>({...L6(n),options:[n,e]}),q6=(n,e)=>({...O6(n),options:[n,e]}),K6=(n,e)=>({...z6(n),options:[n,e]}),X6=(n,e)=>({...F6(n),options:[n,e]}),Y6=(n,e)=>({...j6(n),options:[n,e]}),Q6=(n,e)=>({...B6(n),options:[n,e]}),Z6=(n,e)=>({...W6(n),options:[n,e]});var J6="Arrow",z2=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return g.jsx(Ue.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});z2.displayName=J6;var e5=z2;function t5(n){const[e,t]=w.useState(void 0);return ea(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var u_="Popper",[$2,Wb]=ca(u_),[n5,U2]=$2(u_),H2=n=>{const{__scopePopper:e,children:t}=n,[r,i]=w.useState(null);return g.jsx(n5,{scope:e,anchor:r,onAnchorChange:i,children:t})};H2.displayName=u_;var V2="PopperAnchor",W2=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=U2(V2,t),o=w.useRef(null),a=yt(e,o),c=w.useRef(null);return w.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:g.jsx(Ue.div,{...i,ref:a})});W2.displayName=V2;var d_="PopperContent",[r5,i5]=$2(d_),G2=w.forwardRef((n,e)=>{var oe,sn,Ne,ye,kt,jt;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=n,S=U2(d_,t),[v,b]=w.useState(null),E=yt(e,ve=>b(ve)),[C,T]=w.useState(null),k=t5(C),P=(k==null?void 0:k.width)??0,R=(k==null?void 0:k.height)??0,M=r+(s!=="center"?"-"+s:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],F=N.length>0,z={padding:D,boundary:N.filter(o5),altBoundary:F},{refs:L,floatingStyles:U,placement:j,isPositioned:B,middlewareData:I}=V6({strategy:"fixed",placement:M,whileElementsMounted:(...ve)=>I6(...ve,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[G6({mainAxis:i+R,alignmentAxis:o}),c&&q6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?K6():void 0,...z}),c&&X6({...z}),Y6({...z,apply:({elements:ve,rects:Pe,availableWidth:it,availableHeight:ct})=>{const{width:Mn,height:wi}=Pe.reference,pr=ve.floating.style;pr.setProperty("--radix-popper-available-width",`${it}px`),pr.setProperty("--radix-popper-available-height",`${ct}px`),pr.setProperty("--radix-popper-anchor-width",`${Mn}px`),pr.setProperty("--radix-popper-anchor-height",`${wi}px`)}}),C&&Z6({element:C,padding:a}),a5({arrowWidth:P,arrowHeight:R}),f&&Q6({strategy:"referenceHidden",...z})]}),[O,V]=X2(j),Q=Wr(y);ea(()=>{B&&(Q==null||Q())},[B,Q]);const G=(oe=I.arrow)==null?void 0:oe.x,re=(sn=I.arrow)==null?void 0:sn.y,ce=((Ne=I.arrow)==null?void 0:Ne.centerOffset)!==0,[Me,ge]=w.useState();return ea(()=>{v&&ge(window.getComputedStyle(v).zIndex)},[v]),g.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:B?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(ye=I.transformOrigin)==null?void 0:ye.x,(kt=I.transformOrigin)==null?void 0:kt.y].join(" "),...((jt=I.hide)==null?void 0:jt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:g.jsx(r5,{scope:t,placedSide:O,onArrowChange:T,arrowX:G,arrowY:re,shouldHideArrow:ce,children:g.jsx(Ue.div,{"data-side":O,"data-align":V,...m,ref:E,style:{...m.style,animation:B?void 0:"none"}})})})});G2.displayName=d_;var q2="PopperArrow",s5={top:"bottom",right:"left",bottom:"top",left:"right"},K2=w.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=i5(q2,r),o=s5[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(e5,{...i,ref:t,style:{...i.style,display:"block"}})})});K2.displayName=q2;function o5(n){return n!==null}var a5=n=>({name:"transformOrigin",options:n,fn(e){var S,v,b;const{placement:t,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=X2(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?h:`${f}px`,m=`${-c}px`):u==="top"?(y=o?h:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:y,y:m}}}});function X2(n){const[e,t="center"]=n.split("-");return[e,t]}var Y2=H2,Q2=W2,Z2=G2,J2=K2,l5=Symbol("radix.slottable");function c5(n){const e=({children:t})=>g.jsx(g.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=l5,e}var[Gb]=ca("Tooltip",[Wb]),qb=Wb(),eI="TooltipProvider",u5=700,nA="tooltip.open",[d5,h_]=Gb(eI),tI=n=>{const{__scopeTooltip:e,delayDuration:t=u5,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,o=w.useRef(!0),a=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(d5,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};tI.displayName=eI;var Tm="Tooltip",[h5,Kb]=Gb(Tm),nI=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,c=h_(Tm,n.__scopeTooltip),u=qb(e),[d,h]=w.useState(null),f=Mu(),p=w.useRef(0),y=o??c.disableHoverableContent,m=a??c.delayDuration,S=w.useRef(!1),[v,b]=Ov({prop:r,defaultProp:i??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(nA))):c.onClose(),s==null||s(P)},caller:Tm}),E=w.useMemo(()=>v?S.current?"delayed-open":"instant-open":"closed",[v]),C=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S.current=!1,b(!0)},[b]),T=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),k=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{S.current=!0,b(!0),p.current=0},m)},[m,b]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),g.jsx(Y2,{...u,children:g.jsx(h5,{scope:e,contentId:f,open:v,stateAttribute:E,trigger:d,onTriggerChange:h,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?k():C()},[c.isOpenDelayedRef,k,C]),onTriggerLeave:w.useCallback(()=>{y?T():(window.clearTimeout(p.current),p.current=0)},[T,y]),onOpen:C,onClose:T,disableHoverableContent:y,children:t})})};nI.displayName=Tm;var rA="TooltipTrigger",rI=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Kb(rA,t),s=h_(rA,t),o=qb(t),a=w.useRef(null),c=yt(e,a,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),g.jsx(Q2,{asChild:!0,...o,children:g.jsx(Ue.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ne(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(n.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ne(n.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ne(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:ne(n.onBlur,i.onClose),onClick:ne(n.onClick,i.onClose)})})});rI.displayName=rA;var f5="TooltipPortal",[PY,p5]=Gb(f5,{forceMount:void 0}),Bf="TooltipContent",iI=w.forwardRef((n,e)=>{const t=p5(Bf,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=Kb(Bf,n.__scopeTooltip);return g.jsx(Us,{present:r||o.open,children:o.disableHoverableContent?g.jsx(sI,{side:i,...s,ref:e}):g.jsx(m5,{side:i,...s,ref:e})})}),m5=w.forwardRef((n,e)=>{const t=Kb(Bf,n.__scopeTooltip),r=h_(Bf,n.__scopeTooltip),i=w.useRef(null),s=yt(e,i),[o,a]=w.useState(null),{trigger:c,onClose:u}=t,d=i.current,{onPointerInTransitChange:h}=r,f=w.useCallback(()=>{a(null),h(!1)},[h]),p=w.useCallback((y,m)=>{const S=y.currentTarget,v={x:y.clientX,y:y.clientY},b=w5(v,S.getBoundingClientRect()),E=b5(v,b),C=S5(m.getBoundingClientRect()),T=A5([...E,...C]);a(T),h(!0)},[h]);return w.useEffect(()=>()=>f(),[f]),w.useEffect(()=>{if(c&&d){const y=S=>p(S,d),m=S=>p(S,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),w.useEffect(()=>{if(o){const y=m=>{const S=m.target,v={x:m.clientX,y:m.clientY},b=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),E=!E5(v,o);b?f():E&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,f]),g.jsx(sI,{...n,ref:s})}),[g5,v5]=Gb(Tm,{isInside:!1}),y5=c5("TooltipContent"),sI=w.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,c=Kb(Bf,t),u=qb(t),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(nA,d),()=>document.removeEventListener(nA,d)),[d]),w.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),g.jsx(Lv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:g.jsxs(Z2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(y5,{children:r}),g.jsx(g5,{scope:t,isInside:!0,children:g.jsx(AH,{id:c.contentId,role:"tooltip",children:i||r})})]})})});iI.displayName=Bf;var oI="TooltipArrow",x5=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=qb(t);return v5(oI,t).isInside?null:g.jsx(J2,{...i,...r,ref:e})});x5.displayName=oI;function w5(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b5(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function S5(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function E5(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],u=a.x,d=a.y,h=c.x,f=c.y;d>r!=f>r&&t<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function A5(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),C5(e)}function C5(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var _5=tI,T5=nI,k5=rI,aI=iI;const lI=_5,P5=T5,R5=k5,cI=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>g.jsx(aI,{ref:r,sideOffset:e,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));cI.displayName=aI.displayName;var D5=Symbol.for("react.lazy"),_w=fb[" use ".trim().toString()];function M5(n){return typeof n=="object"&&n!==null&&"then"in n}function uI(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===D5&&"_payload"in n&&M5(n._payload)}function Xb(n){const e=N5(n),t=w.forwardRef((r,i)=>{let{children:s,...o}=r;uI(s)&&typeof _w=="function"&&(s=_w(s._payload));const a=w.Children.toArray(s),c=a.find(L5);if(c){const u=c.props.children,d=a.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var f_=Xb("Slot");function N5(n){const e=w.forwardRef((t,r)=>{let{children:i,...s}=t;if(uI(i)&&typeof _w=="function"&&(i=_w(i._payload)),w.isValidElement(i)){const o=F5(i),a=O5(s,i.props);return i.type!==w.Fragment&&(a.ref=r?Kl(r,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var I5=Symbol("radix.slottable");function L5(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===I5}function O5(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function F5(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const p_=jv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ae=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?f_:"button";return g.jsx(o,{className:te(p_({variant:e,size:t,className:n})),ref:s,...i})});Ae.displayName="Button";const tn=w.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:te("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",n),...e}));tn.displayName="Card";const dI=w.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:te("flex flex-col space-y-1.5 p-6",n),...e}));dI.displayName="CardHeader";const hI=w.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:te("text-2xl font-semibold leading-none tracking-tight",n),...e}));hI.displayName="CardTitle";const fI=w.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:te("text-sm text-muted-foreground",n),...e}));fI.displayName="CardDescription";const m_=w.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:te("p-6 pt-0",n),...e}));m_.displayName="CardContent";const j5=w.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:te("flex items-center p-6 pt-0",n),...e}));j5.displayName="CardFooter";const Yb=()=>T$(),iA=R$;function B5(){const[n,e]=la(),t=Yb(),{user:r,loading:i}=iA(o=>o.auth);w.useEffect(()=>{t(Jp())},[t]),w.useEffect(()=>{!i&&r&&e("/explorer")},[r,i,e]);const s=()=>{window.location.href="https://telegram.me/pdfshareauth_bot?start=auth"};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("section",{className:"relative flex items-center justify-center min-h-[70vh] px-4 py-12",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-semibold text-foreground tracking-tight",children:"PDFShare"}),g.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-2xl mx-auto",children:"  "})]}),g.jsx("p",{className:"text-base md:text-lg text-muted-foreground max-w-xl mx-auto",children:",    PDF-    .      Telegram."}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:g.jsxs(Ae,{size:"lg",onClick:s,className:"gap-2 min-h-12 px-8","data-testid":"button-telegram-login",children:[g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"})}),"  Telegram"]})}),g.jsx("p",{className:"text-sm text-muted-foreground",children:" ?     "})]})}),g.jsx("section",{className:"px-4 py-16 bg-card/30",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-center mb-12",children:" PDFShare"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs(tn,{className:"p-6 space-y-4 hover-elevate","data-testid":"card-feature-upload",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(n_,{className:"w-6 h-6 text-primary"})}),g.jsx("h3",{className:"text-lg font-medium",children:" "}),g.jsx("p",{className:"text-muted-foreground text-sm",children:" PDF-   .    ."})]}),g.jsxs(tn,{className:"p-6 space-y-4 hover-elevate","data-testid":"card-feature-folders",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(t_,{className:"w-6 h-6 text-primary"})}),g.jsx("h3",{className:"text-lg font-medium",children:""}),g.jsx("p",{className:"text-muted-foreground text-sm",children:'    .  ""   .'})]}),g.jsxs(tn,{className:"p-6 space-y-4 hover-elevate","data-testid":"card-feature-share",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(Am,{className:"w-6 h-6 text-primary"})}),g.jsx("h3",{className:"text-lg font-medium",children:" "}),g.jsx("p",{className:"text-muted-foreground text-sm",children:"     .     ."})]}),g.jsxs(tn,{className:"p-6 space-y-4 hover-elevate","data-testid":"card-feature-viewer",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(Bv,{className:"w-6 h-6 text-primary"})}),g.jsx("h3",{className:"text-lg font-medium",children:"PDF Viewer"}),g.jsx("p",{className:"text-muted-foreground text-sm",children:"      ."})]}),g.jsxs(tn,{className:"p-6 space-y-4 hover-elevate","data-testid":"card-feature-notifications",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(zb,{className:"w-6 h-6 text-primary"})}),g.jsx("h3",{className:"text-lg font-medium",children:""}),g.jsx("p",{className:"text-muted-foreground text-sm",children:"    .    Telegram  ."})]}),g.jsxs(tn,{className:"p-6 space-y-4 hover-elevate","data-testid":"card-feature-recent",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",children:g.jsx(YH,{className:"w-6 h-6 text-primary"})}),g.jsx("h3",{className:"text-lg font-medium",children:""}),g.jsx("p",{className:"text-muted-foreground text-sm",children:"        ."})]})]})]})}),g.jsx("footer",{className:"border-t py-8 px-4",children:g.jsx("div",{className:"max-w-6xl mx-auto text-center text-sm text-muted-foreground",children:g.jsx("p",{children:" 2025 PDFShare.   ."})})})]})}const pS=768;function z5(){const[n,e]=w.useState(void 0);return w.useEffect(()=>{const t=window.matchMedia(`(max-width: ${pS-1}px)`),r=()=>{e(window.innerWidth<pS)};return t.addEventListener("change",r),e(window.innerWidth<pS),()=>t.removeEventListener("change",r)},[]),!!n}const g_=w.forwardRef(({className:n,type:e,...t},r)=>g.jsx("input",{type:e,className:te("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));g_.displayName="Input";var $5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U5=$5.reduce((n,e)=>{const t=Xb(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),H5="Separator",hP="horizontal",V5=["horizontal","vertical"],pI=w.forwardRef((n,e)=>{const{decorative:t,orientation:r=hP,...i}=n,s=W5(r)?r:hP,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(U5.div,{"data-orientation":s,...a,...i,ref:e})});pI.displayName=H5;function W5(n){return V5.includes(n)}var mI=pI;const G5=w.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>g.jsx(mI,{ref:i,decorative:t,orientation:e,className:te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));G5.displayName=mI.displayName;var mS="focusScope.autoFocusOnMount",gS="focusScope.autoFocusOnUnmount",fP={bubbles:!1,cancelable:!0},q5="FocusScope",v_=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,c]=w.useState(null),u=Wr(i),d=Wr(s),h=w.useRef(null),f=yt(e,m=>c(m)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let m=function(E){if(p.paused||!a)return;const C=E.target;a.contains(C)?h.current=C:ma(h.current,{select:!0})},S=function(E){if(p.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||ma(h.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const T of E)T.removedNodes.length>0&&ma(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",S);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",S),b.disconnect()}}},[r,a,p.paused]),w.useEffect(()=>{if(a){mP.add(p);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(mS,fP);a.addEventListener(mS,u),a.dispatchEvent(v),v.defaultPrevented||(K5(J5(gI(a)),{select:!0}),document.activeElement===m&&ma(a))}return()=>{a.removeEventListener(mS,u),setTimeout(()=>{const v=new CustomEvent(gS,fP);a.addEventListener(gS,d),a.dispatchEvent(v),v.defaultPrevented||ma(m??document.body,{select:!0}),a.removeEventListener(gS,d),mP.remove(p)},0)}}},[a,u,d,p]);const y=w.useCallback(m=>{if(!t&&!r||p.paused)return;const S=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(S&&v){const b=m.currentTarget,[E,C]=X5(b);E&&C?!m.shiftKey&&v===C?(m.preventDefault(),t&&ma(E,{select:!0})):m.shiftKey&&v===E&&(m.preventDefault(),t&&ma(C,{select:!0})):v===b&&m.preventDefault()}},[t,r,p.paused]);return g.jsx(Ue.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});v_.displayName=q5;function K5(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(ma(r,{select:e}),document.activeElement!==t)return}function X5(n){const e=gI(n),t=pP(e,n),r=pP(e.reverse(),n);return[t,r]}function gI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function pP(n,e){for(const t of n)if(!Y5(t,{upTo:e}))return t}function Y5(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Q5(n){return n instanceof HTMLInputElement&&"select"in n}function ma(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Q5(n)&&e&&n.select()}}var mP=Z5();function Z5(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=gP(n,e),n.unshift(e)},remove(e){var t;n=gP(n,e),(t=n[0])==null||t.resume()}}}function gP(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function J5(n){return n.filter(e=>e.tagName!=="A")}var vS=0;function vI(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??vP()),document.body.insertAdjacentElement("beforeend",n[1]??vP()),vS++,()=>{vS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vS--}},[])}function vP(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ms=function(){return Ms=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ms.apply(this,arguments)};function yI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Gu(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function eW(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var ax="right-scroll-bar-position",lx="width-before-scroll-bar",tW="with-scroll-bars-hidden",nW="--removed-body-scroll-bar-size";function yS(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function rW(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var iW=typeof window<"u"?w.useLayoutEffect:w.useEffect,yP=new WeakMap;function sW(n,e){var t=rW(null,function(r){return n.forEach(function(i){return yS(i,r)})});return iW(function(){var r=yP.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||yS(a,null)}),s.forEach(function(a){i.has(a)||yS(a,o)})}yP.set(t,n)},[n]),t}function oW(n){return n}function aW(n,e){e===void 0&&(e=oW);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return i}function lW(n){n===void 0&&(n={});var e=aW(null);return e.options=Ms({async:!0,ssr:!1},n),e}var xI=function(n){var e=n.sideCar,t=yI(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Ms({},t))};xI.isSideCarExport=!0;function cW(n,e){return n.useMedium(e),xI}var wI=lW(),xS=function(){},Qb=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:xS,onWheelCapture:xS,onTouchMoveCapture:xS}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,p=n.noRelative,y=n.noIsolation,m=n.inert,S=n.allowPinchZoom,v=n.as,b=v===void 0?"div":v,E=n.gapMode,C=yI(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,k=sW([t,e]),P=Ms(Ms({},C),i);return w.createElement(w.Fragment,null,d&&w.createElement(T,{sideCar:wI,removeScrollBar:u,shards:h,noRelative:p,noIsolation:y,inert:m,setCallbacks:s,allowPinchZoom:!!S,lockRef:t,gapMode:E}),o?w.cloneElement(w.Children.only(a),Ms(Ms({},P),{ref:k})):w.createElement(b,Ms({},P,{className:c,ref:k}),a))});Qb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qb.classNames={fullWidth:lx,zeroRight:ax};var uW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dW(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=uW();return e&&n.setAttribute("nonce",e),n}function hW(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function fW(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var pW=function(){var n=0,e=null;return{add:function(t){n==0&&(e=dW())&&(hW(e,t),fW(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mW=function(){var n=pW();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},bI=function(){var n=mW(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},gW={left:0,top:0,right:0,gap:0},wS=function(n){return parseInt(n||"",10)||0},vW=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[wS(t),wS(r),wS(i)]},yW=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return gW;var e=vW(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},xW=bI(),jd="data-scroll-locked",wW=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(tW,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ax,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lx,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ax," .").concat(ax,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lx," .").concat(lx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jd,`] {
    `).concat(nW,": ").concat(a,`px;
  }
`)},xP=function(){var n=parseInt(document.body.getAttribute(jd)||"0",10);return isFinite(n)?n:0},bW=function(){w.useEffect(function(){return document.body.setAttribute(jd,(xP()+1).toString()),function(){var n=xP()-1;n<=0?document.body.removeAttribute(jd):document.body.setAttribute(jd,n.toString())}},[])},SW=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;bW();var s=w.useMemo(function(){return yW(i)},[i]);return w.createElement(xW,{styles:wW(s,!e,i,t?"":"!important")})},sA=!1;if(typeof window<"u")try{var Ty=Object.defineProperty({},"passive",{get:function(){return sA=!0,!0}});window.addEventListener("test",Ty,Ty),window.removeEventListener("test",Ty,Ty)}catch{sA=!1}var ed=sA?{passive:!1}:!1,EW=function(n){return n.tagName==="TEXTAREA"},SI=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!EW(n)&&t[e]==="visible")},AW=function(n){return SI(n,"overflowY")},CW=function(n){return SI(n,"overflowX")},wP=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=EI(n,r);if(i){var s=AI(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},_W=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},TW=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},EI=function(n,e){return n==="v"?AW(e):CW(e)},AI=function(n,e){return n==="v"?_W(e):TW(e)},kW=function(n,e){return n==="h"&&e==="rtl"?-1:1},PW=function(n,e,t,r,i){var s=kW(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,c=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=AI(n,a),y=p[0],m=p[1],S=p[2],v=m-S-s*y;(y||v)&&EI(n,a)&&(h+=v,f+=y);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},ky=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},bP=function(n){return[n.deltaX,n.deltaY]},SP=function(n){return n&&"current"in n?n.current:n},RW=function(n,e){return n[0]===e[0]&&n[1]===e[1]},DW=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},MW=0,td=[];function NW(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),i=w.useState(MW++)[0],s=w.useState(bI)[0],o=w.useRef(n);w.useEffect(function(){o.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var m=eW([n.lockRef.current],(n.shards||[]).map(SP),!0).filter(Boolean);return m.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=w.useCallback(function(m,S){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=ky(m),b=t.current,E="deltaX"in m?m.deltaX:b[0]-v[0],C="deltaY"in m?m.deltaY:b[1]-v[1],T,k=m.target,P=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in m&&P==="h"&&k.type==="range")return!1;var R=window.getSelection(),M=R&&R.anchorNode,D=M?M===k||M.contains(k):!1;if(D)return!1;var N=wP(P,k);if(!N)return!0;if(N?T=P:(T=P==="v"?"h":"v",N=wP(P,k)),!N)return!1;if(!r.current&&"changedTouches"in m&&(E||C)&&(r.current=T),!T)return!0;var F=r.current||T;return PW(F,S,m,F==="h"?E:C)},[]),c=w.useCallback(function(m){var S=m;if(!(!td.length||td[td.length-1]!==s)){var v="deltaY"in S?bP(S):ky(S),b=e.current.filter(function(T){return T.name===S.type&&(T.target===S.target||S.target===T.shadowParent)&&RW(T.delta,v)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var E=(o.current.shards||[]).map(SP).filter(Boolean).filter(function(T){return T.contains(S.target)}),C=E.length>0?a(S,E[0]):!o.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),u=w.useCallback(function(m,S,v,b){var E={name:m,delta:S,target:v,should:b,shadowParent:IW(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),d=w.useCallback(function(m){t.current=ky(m),r.current=void 0},[]),h=w.useCallback(function(m){u(m.type,bP(m),m.target,a(m,n.lockRef.current))},[]),f=w.useCallback(function(m){u(m.type,ky(m),m.target,a(m,n.lockRef.current))},[]);w.useEffect(function(){return td.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ed),document.addEventListener("touchmove",c,ed),document.addEventListener("touchstart",d,ed),function(){td=td.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,ed),document.removeEventListener("touchmove",c,ed),document.removeEventListener("touchstart",d,ed)}},[]);var p=n.removeScrollBar,y=n.inert;return w.createElement(w.Fragment,null,y?w.createElement(s,{styles:DW(i)}):null,p?w.createElement(SW,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function IW(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const LW=cW(wI,NW);var y_=w.forwardRef(function(n,e){return w.createElement(Qb,Ms({},n,{ref:e,sideCar:LW}))});y_.classNames=Qb.classNames;var OW=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},nd=new WeakMap,Py=new WeakMap,Ry={},bS=0,CI=function(n){return n&&(n.host||CI(n.parentNode))},FW=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=CI(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},jW=function(n,e,t,r){var i=FW(e,Array.isArray(n)?n:[n]);Ry[t]||(Ry[t]=new WeakMap);var s=Ry[t],o=[],a=new Set,c=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),y=p!==null&&p!=="false",m=(nd.get(f)||0)+1,S=(s.get(f)||0)+1;nd.set(f,m),s.set(f,S),o.push(f),m===1&&y&&Py.set(f,!0),S===1&&f.setAttribute(t,"true"),y||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(e),a.clear(),bS++,function(){o.forEach(function(h){var f=nd.get(h)-1,p=s.get(h)-1;nd.set(h,f),s.set(h,p),f||(Py.has(h)||h.removeAttribute(r),Py.delete(h)),p||h.removeAttribute(t)}),bS--,bS||(nd=new WeakMap,nd=new WeakMap,Py=new WeakMap,Ry={})}},_I=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=OW(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),jW(r,i,t,"aria-hidden")):function(){return null}};function BW(n){const e=zW(n),t=w.forwardRef((r,i)=>{const{children:s,...o}=r,a=w.Children.toArray(s),c=a.find(UW);if(c){const u=c.props.children,d=a.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}function zW(n){const e=w.forwardRef((t,r)=>{const{children:i,...s}=t;if(w.isValidElement(i)){const o=VW(i),a=HW(s,i.props);return i.type!==w.Fragment&&(a.ref=r?Kl(r,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $W=Symbol("radix.slottable");function UW(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$W}function HW(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function VW(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zb="Dialog",[TI,kI]=ca(Zb),[WW,Qi]=TI(Zb),PI=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=w.useRef(null),c=w.useRef(null),[u,d]=Ov({prop:r,defaultProp:i??!1,onChange:s,caller:Zb});return g.jsx(WW,{scope:e,triggerRef:a,contentRef:c,contentId:Mu(),titleId:Mu(),descriptionId:Mu(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(h=>!h),[d]),modal:o,children:t})};PI.displayName=Zb;var RI="DialogTrigger",DI=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qi(RI,t),s=yt(e,i.triggerRef);return g.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":b_(i.open),...r,ref:s,onClick:ne(n.onClick,i.onOpenToggle)})});DI.displayName=RI;var x_="DialogPortal",[GW,MI]=TI(x_,{forceMount:void 0}),NI=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=Qi(x_,e);return g.jsx(GW,{scope:e,forceMount:t,children:w.Children.map(r,o=>g.jsx(Us,{present:t||s.open,children:g.jsx(Fb,{asChild:!0,container:i,children:o})}))})};NI.displayName=x_;var Tw="DialogOverlay",II=w.forwardRef((n,e)=>{const t=MI(Tw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Qi(Tw,n.__scopeDialog);return s.modal?g.jsx(Us,{present:r||s.open,children:g.jsx(KW,{...i,ref:e})}):null});II.displayName=Tw;var qW=BW("DialogOverlay.RemoveScroll"),KW=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qi(Tw,t);return g.jsx(y_,{as:qW,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ue.div,{"data-state":b_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$u="DialogContent",LI=w.forwardRef((n,e)=>{const t=MI($u,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Qi($u,n.__scopeDialog);return g.jsx(Us,{present:r||s.open,children:s.modal?g.jsx(XW,{...i,ref:e}):g.jsx(YW,{...i,ref:e})})});LI.displayName=$u;var XW=w.forwardRef((n,e)=>{const t=Qi($u,n.__scopeDialog),r=w.useRef(null),i=yt(e,t.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return _I(s)},[]),g.jsx(OI,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ne(n.onFocusOutside,s=>s.preventDefault())})}),YW=w.forwardRef((n,e)=>{const t=Qi($u,n.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return g.jsx(OI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),OI=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=Qi($u,t),c=w.useRef(null),u=yt(e,c);return vI(),g.jsxs(g.Fragment,{children:[g.jsx(v_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Lv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":b_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(ZW,{titleId:a.titleId}),g.jsx(e8,{contentRef:c,descriptionId:a.descriptionId})]})]})}),w_="DialogTitle",FI=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qi(w_,t);return g.jsx(Ue.h2,{id:i.titleId,...r,ref:e})});FI.displayName=w_;var jI="DialogDescription",BI=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qi(jI,t);return g.jsx(Ue.p,{id:i.descriptionId,...r,ref:e})});BI.displayName=jI;var zI="DialogClose",$I=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Qi(zI,t);return g.jsx(Ue.button,{type:"button",...r,ref:e,onClick:ne(n.onClick,()=>i.onOpenChange(!1))})});$I.displayName=zI;function b_(n){return n?"open":"closed"}var UI="DialogTitleWarning",[QW,HI]=GU(UI,{contentName:$u,titleName:w_,docsSlug:"dialog"}),ZW=({titleId:n})=>{const e=HI(UI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},JW="DialogDescriptionWarning",e8=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HI(JW).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},S_=PI,t8=DI,E_=NI,$v=II,Uv=LI,Hv=FI,Vv=BI,Jb=$I;const n8=S_,r8=E_,VI=w.forwardRef(({className:n,...e},t)=>g.jsx($v,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));VI.displayName=$v.displayName;const i8=jv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),WI=w.forwardRef(({side:n="right",className:e,children:t,...r},i)=>g.jsxs(r8,{children:[g.jsx(VI,{}),g.jsxs(Uv,{ref:i,className:te(i8({side:n}),e),...r,children:[t,g.jsxs(Jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[g.jsx(Xf,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WI.displayName=Uv.displayName;const GI=({className:n,...e})=>g.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",n),...e});GI.displayName="SheetHeader";const qI=w.forwardRef(({className:n,...e},t)=>g.jsx(Hv,{ref:t,className:te("text-lg font-semibold text-foreground",n),...e}));qI.displayName=Hv.displayName;const KI=w.forwardRef(({className:n,...e},t)=>g.jsx(Vv,{ref:t,className:te("text-sm text-muted-foreground",n),...e}));KI.displayName=Vv.displayName;function Bs({className:n,...e}){return g.jsx("div",{className:te("animate-pulse rounded-md bg-muted",n),...e})}const s8="sidebar_state",o8=60*60*24*7,a8="16rem",l8="18rem",c8="3rem",u8="b",XI=w.createContext(null);function A_(){const n=w.useContext(XI);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function d8({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:i,children:s,...o}){const a=z5(),[c,u]=w.useState(!1),[d,h]=w.useState(n),f=e??d,p=w.useCallback(v=>{const b=typeof v=="function"?v(f):v;t?t(b):h(b),document.cookie=`${s8}=${b}; path=/; max-age=${o8}`},[t,f]),y=w.useCallback(()=>a?u(v=>!v):p(v=>!v),[a,p,u]);w.useEffect(()=>{const v=b=>{b.key===u8&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),y())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[y]);const m=f?"expanded":"collapsed",S=w.useMemo(()=>({state:m,open:f,setOpen:p,isMobile:a,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[m,f,p,a,c,u,y]);return g.jsx(XI.Provider,{value:S,children:g.jsx(lI,{delayDuration:0,children:g.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":a8,"--sidebar-width-icon":c8,...i},className:te("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function h8({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:a,openMobile:c,setOpenMobile:u}=A_();return t==="none"?g.jsx("div",{"data-slot":"sidebar",className:te("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):o?g.jsx(n8,{open:c,onOpenChange:u,...s,children:g.jsxs(WI,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":l8},side:n,children:[g.jsxs(GI,{className:"sr-only",children:[g.jsx(qI,{children:"Sidebar"}),g.jsx(KI,{children:"Displays the mobile sidebar."})]}),g.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):g.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[g.jsx("div",{"data-slot":"sidebar-gap",className:te("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),g.jsx("div",{"data-slot":"sidebar-container",className:te("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:g.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function f8({className:n,onClick:e,...t}){const{toggleSidebar:r}=A_();return g.jsxs(Ae,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:te("h-7 w-7",n),onClick:i=>{e==null||e(i),r()},...t,children:[g.jsx(nV,{}),g.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function p8({className:n,...e}){return g.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:te("flex flex-col gap-2 p-2",n),...e})}function m8({className:n,...e}){return g.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function g8({className:n,...e}){return g.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:te("relative flex w-full min-w-0 flex-col p-2",n),...e})}function v8({className:n,asChild:e=!1,...t}){const r=e?f_:"div";return g.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:te("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function y8({className:n,...e}){return g.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:te("w-full text-sm",n),...e})}function EP({className:n,...e}){return g.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:te("flex w-full min-w-0 flex-col gap-1",n),...e})}function AP({className:n,...e}){return g.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:te("group/menu-item relative",n),...e})}const x8=jv("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function CP({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:i,className:s,...o}){const a=n?f_:"button",{isMobile:c,state:u}=A_(),d=g.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:te(x8({variant:t,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),g.jsxs(P5,{children:[g.jsx(R5,{asChild:!0,children:d}),g.jsx(cI,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d}const C_=S_,w8=E_,YI=w.forwardRef(({className:n,...e},t)=>g.jsx($v,{ref:t,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));YI.displayName=$v.displayName;const e0=w.forwardRef(({className:n,children:e,...t},r)=>g.jsxs(w8,{children:[g.jsx(YI,{}),g.jsxs(Uv,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,g.jsxs(Jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(Xf,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));e0.displayName=Uv.displayName;const t0=({className:n,...e})=>g.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});t0.displayName="DialogHeader";const QI=({className:n,...e})=>g.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});QI.displayName="DialogFooter";const n0=w.forwardRef(({className:n,...e},t)=>g.jsx(Hv,{ref:t,className:te("text-lg font-semibold leading-none tracking-tight",n),...e}));n0.displayName=Hv.displayName;const r0=w.forwardRef(({className:n,...e},t)=>g.jsx(Vv,{ref:t,className:te("text-sm text-muted-foreground",n),...e}));r0.displayName=Vv.displayName;var b8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],S8=b8.reduce((n,e)=>{const t=Xb(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),E8="Label",ZI=w.forwardRef((n,e)=>g.jsx(S8.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ZI.displayName=E8;var JI=ZI;const A8=jv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),__=w.forwardRef(({className:n,...e},t)=>g.jsx(JI,{ref:t,className:te(A8(),n),...e}));__.displayName=JI.displayName;function C8({open:n,onOpenChange:e}){const[t,r]=w.useState(""),[i,s]=w.useState(!1),o=Yb(),{toast:a}=ql(),c=async u=>{if(u.preventDefault(),!!t.trim()){s(!0);try{await o(BN(t)).unwrap(),a({title:"",description:" "}),r(""),e(!1)}catch{a({title:"",description:"   ",variant:"destructive"})}finally{s(!1)}}};return g.jsx(C_,{open:n,onOpenChange:e,children:g.jsxs(e0,{children:[g.jsxs(t0,{children:[g.jsx(n0,{children:" "}),g.jsx(r0,{children:"    "})]}),g.jsxs("form",{onSubmit:c,children:[g.jsx("div",{className:"space-y-4 py-4",children:g.jsxs("div",{className:"space-y-2",children:[g.jsx(__,{htmlFor:"folder-name",children:""}),g.jsx(g_,{id:"folder-name",value:t,onChange:u=>r(u.target.value),placeholder:" ","data-testid":"input-folder-name",autoFocus:!0})]})}),g.jsxs(QI,{children:[g.jsx(Ae,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:""}),g.jsx(Ae,{type:"submit",disabled:!t.trim()||i,"data-testid":"button-submit-folder",children:i?"...":""})]})]})]})})}function _8({folders:n}){const[e]=la(),[t,r]=w.useState(!1),i=n.filter(s=>!s.isRecent);return g.jsxs(g.Fragment,{children:[g.jsxs(h8,{children:[g.jsx(m8,{children:g.jsxs(g8,{children:[g.jsxs("div",{className:"flex items-center justify-between px-2",children:[g.jsx(v8,{children:" "}),g.jsx(Ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>r(!0),"data-testid":"button-create-folder",children:g.jsx(rV,{className:"h-4 w-4"})})]}),g.jsx(y8,{children:g.jsx(EP,{children:i.length===0?g.jsx("div",{className:"px-2 py-4 text-sm text-muted-foreground text-center",children:" "}):i.map(s=>g.jsx(AP,{children:g.jsx(CP,{asChild:!0,isActive:e===`/explorer/${s.id}`,"data-testid":`folder-${s.id}`,children:g.jsxs(wk,{href:`/explorer/${s.id}`,children:[g.jsx(t_,{className:"h-4 w-4"}),g.jsx("span",{children:s.name})]})})},s.id))})})]})}),g.jsx(p8,{children:g.jsx(EP,{children:g.jsx(AP,{children:g.jsx(CP,{asChild:!0,"data-testid":"link-about",children:g.jsxs(wk,{href:"/about",children:[g.jsx(JH,{className:"h-4 w-4"}),g.jsx("span",{children:" "})]})})})})})]}),g.jsx(C8,{open:t,onOpenChange:r})]})}var T8=w.createContext(void 0);function eL(n){const e=w.useContext(T8);return n||e||"ltr"}var SS="rovingFocusGroup.onEntryFocus",k8={bubbles:!1,cancelable:!0},Wv="RovingFocusGroup",[oA,tL,P8]=K1(Wv),[R8,nL]=ca(Wv,[P8]),[D8,M8]=R8(Wv),rL=w.forwardRef((n,e)=>g.jsx(oA.Provider,{scope:n.__scopeRovingFocusGroup,children:g.jsx(oA.Slot,{scope:n.__scopeRovingFocusGroup,children:g.jsx(N8,{...n,ref:e})})}));rL.displayName=Wv;var N8=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=n,f=w.useRef(null),p=yt(e,f),y=eL(s),[m,S]=Ov({prop:o,defaultProp:a??null,onChange:c,caller:Wv}),[v,b]=w.useState(!1),E=Wr(u),C=tL(t),T=w.useRef(!1),[k,P]=w.useState(0);return w.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(SS,E),()=>R.removeEventListener(SS,E)},[E]),g.jsx(D8,{scope:t,orientation:r,dir:y,loop:i,currentTabStopId:m,onItemFocus:w.useCallback(R=>S(R),[S]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>P(R=>R-1),[]),children:g.jsx(Ue.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...n.style},onMouseDown:ne(n.onMouseDown,()=>{T.current=!0}),onFocus:ne(n.onFocus,R=>{const M=!T.current;if(R.target===R.currentTarget&&M&&!v){const D=new CustomEvent(SS,k8);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const N=C().filter(j=>j.focusable),F=N.find(j=>j.active),z=N.find(j=>j.id===m),U=[F,z,...N].filter(Boolean).map(j=>j.ref.current);oL(U,d)}}T.current=!1}),onBlur:ne(n.onBlur,()=>b(!1))})})}),iL="RovingFocusGroupItem",sL=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=n,c=Mu(),u=s||c,d=M8(iL,t),h=d.currentTabStopId===u,f=tL(t),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:m}=d;return w.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),g.jsx(oA.ItemSlot,{scope:t,id:u,focusable:r,active:i,children:g.jsx(Ue.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:ne(n.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:ne(n.onFocus,()=>d.onItemFocus(u)),onKeyDown:ne(n.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const v=O8(S,d.orientation,d.dir);if(v!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=f().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const C=E.indexOf(S.currentTarget);E=d.loop?F8(E,C+1):E.slice(C+1)}setTimeout(()=>oL(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});sL.displayName=iL;var I8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L8(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function O8(n,e,t){const r=L8(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return I8[r]}function oL(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function F8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var j8=rL,B8=sL;function z8(n){const e=$8(n),t=w.forwardRef((r,i)=>{const{children:s,...o}=r,a=w.Children.toArray(s),c=a.find(H8);if(c){const u=c.props.children,d=a.map(h=>h===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}function $8(n){const e=w.forwardRef((t,r)=>{const{children:i,...s}=t;if(w.isValidElement(i)){const o=W8(i),a=V8(s,i.props);return i.type!==w.Fragment&&(a.ref=r?Kl(r,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var U8=Symbol("radix.slottable");function H8(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===U8}function V8(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function W8(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var aA=["Enter"," "],G8=["ArrowDown","PageUp","Home"],aL=["ArrowUp","PageDown","End"],q8=[...G8,...aL],K8={ltr:[...aA,"ArrowRight"],rtl:[...aA,"ArrowLeft"]},X8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gv="Menu",[km,Y8,Q8]=K1(Gv),[qu,lL]=ca(Gv,[Q8,Wb,nL]),i0=Wb(),cL=nL(),[Z8,Ku]=qu(Gv),[J8,qv]=qu(Gv),uL=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=i0(e),[c,u]=w.useState(null),d=w.useRef(!1),h=Wr(s),f=eL(i);return w.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),g.jsx(Y2,{...a,children:g.jsx(Z8,{scope:e,open:t,onOpenChange:h,content:c,onContentChange:u,children:g.jsx(J8,{scope:e,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};uL.displayName=Gv;var eG="MenuAnchor",T_=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=i0(t);return g.jsx(Q2,{...i,...r,ref:e})});T_.displayName=eG;var k_="MenuPortal",[tG,dL]=qu(k_,{forceMount:void 0}),hL=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=Ku(k_,e);return g.jsx(tG,{scope:e,forceMount:t,children:g.jsx(Us,{present:t||s.open,children:g.jsx(Fb,{asChild:!0,container:i,children:r})})})};hL.displayName=k_;var mi="MenuContent",[nG,P_]=qu(mi),fL=w.forwardRef((n,e)=>{const t=dL(mi,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ku(mi,n.__scopeMenu),o=qv(mi,n.__scopeMenu);return g.jsx(km.Provider,{scope:n.__scopeMenu,children:g.jsx(Us,{present:r||s.open,children:g.jsx(km.Slot,{scope:n.__scopeMenu,children:o.modal?g.jsx(rG,{...i,ref:e}):g.jsx(iG,{...i,ref:e})})})})}),rG=w.forwardRef((n,e)=>{const t=Ku(mi,n.__scopeMenu),r=w.useRef(null),i=yt(e,r);return w.useEffect(()=>{const s=r.current;if(s)return _I(s)},[]),g.jsx(R_,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ne(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),iG=w.forwardRef((n,e)=>{const t=Ku(mi,n.__scopeMenu);return g.jsx(R_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),sG=z8("MenuContent.ScrollLock"),R_=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:y,...m}=n,S=Ku(mi,t),v=qv(mi,t),b=i0(t),E=cL(t),C=Y8(t),[T,k]=w.useState(null),P=w.useRef(null),R=yt(e,P,S.onContentChange),M=w.useRef(0),D=w.useRef(""),N=w.useRef(0),F=w.useRef(null),z=w.useRef("right"),L=w.useRef(0),U=y?y_:w.Fragment,j=y?{as:sG,allowPinchZoom:!0}:void 0,B=O=>{var oe,sn;const V=D.current+O,Q=C().filter(Ne=>!Ne.disabled),G=document.activeElement,re=(oe=Q.find(Ne=>Ne.ref.current===G))==null?void 0:oe.textValue,ce=Q.map(Ne=>Ne.textValue),Me=vG(ce,V,re),ge=(sn=Q.find(Ne=>Ne.textValue===Me))==null?void 0:sn.ref.current;(function Ne(ye){D.current=ye,window.clearTimeout(M.current),ye!==""&&(M.current=window.setTimeout(()=>Ne(""),1e3))})(V),ge&&setTimeout(()=>ge.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),vI();const I=w.useCallback(O=>{var Q,G;return z.current===((Q=F.current)==null?void 0:Q.side)&&xG(O,(G=F.current)==null?void 0:G.area)},[]);return g.jsx(nG,{scope:t,searchRef:D,onItemEnter:w.useCallback(O=>{I(O)&&O.preventDefault()},[I]),onItemLeave:w.useCallback(O=>{var V;I(O)||((V=P.current)==null||V.focus(),k(null))},[I]),onTriggerLeave:w.useCallback(O=>{I(O)&&O.preventDefault()},[I]),pointerGraceTimerRef:N,onPointerGraceIntentChange:w.useCallback(O=>{F.current=O},[]),children:g.jsx(U,{...j,children:g.jsx(v_,{asChild:!0,trapped:i,onMountAutoFocus:ne(s,O=>{var V;O.preventDefault(),(V=P.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Lv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:g.jsx(j8,{asChild:!0,...E,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:k,onEntryFocus:ne(c,O=>{v.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(Z2,{role:"menu","aria-orientation":"vertical","data-state":PL(S.open),"data-radix-menu-content":"",dir:v.dir,...b,...m,ref:R,style:{outline:"none",...m.style},onKeyDown:ne(m.onKeyDown,O=>{const Q=O.target.closest("[data-radix-menu-content]")===O.currentTarget,G=O.ctrlKey||O.altKey||O.metaKey,re=O.key.length===1;Q&&(O.key==="Tab"&&O.preventDefault(),!G&&re&&B(O.key));const ce=P.current;if(O.target!==ce||!q8.includes(O.key))return;O.preventDefault();const ge=C().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);aL.includes(O.key)&&ge.reverse(),mG(ge)}),onBlur:ne(n.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(M.current),D.current="")}),onPointerMove:ne(n.onPointerMove,Pm(O=>{const V=O.target,Q=L.current!==O.clientX;if(O.currentTarget.contains(V)&&Q){const G=O.clientX>L.current?"right":"left";z.current=G,L.current=O.clientX}}))})})})})})})});fL.displayName=mi;var oG="MenuGroup",D_=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return g.jsx(Ue.div,{role:"group",...r,ref:e})});D_.displayName=oG;var aG="MenuLabel",pL=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return g.jsx(Ue.div,{...r,ref:e})});pL.displayName=aG;var kw="MenuItem",_P="menu.itemSelect",s0=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=w.useRef(null),o=qv(kw,n.__scopeMenu),a=P_(kw,n.__scopeMenu),c=yt(e,s),u=w.useRef(!1),d=()=>{const h=s.current;if(!t&&h){const f=new CustomEvent(_P,{bubbles:!0,cancelable:!0});h.addEventListener(_P,p=>r==null?void 0:r(p),{once:!0}),X1(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return g.jsx(mL,{...i,ref:c,disabled:t,onClick:ne(n.onClick,d),onPointerDown:h=>{var f;(f=n.onPointerDown)==null||f.call(n,h),u.current=!0},onPointerUp:ne(n.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ne(n.onKeyDown,h=>{const f=a.searchRef.current!=="";t||f&&h.key===" "||aA.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});s0.displayName=kw;var mL=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=P_(kw,t),a=cL(t),c=w.useRef(null),u=yt(e,c),[d,h]=w.useState(!1),[f,p]=w.useState("");return w.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[s.children]),g.jsx(km.ItemSlot,{scope:t,disabled:r,textValue:i??f,children:g.jsx(B8,{asChild:!0,...a,focusable:!r,children:g.jsx(Ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ne(n.onPointerMove,Pm(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(n.onPointerLeave,Pm(y=>o.onItemLeave(y))),onFocus:ne(n.onFocus,()=>h(!0)),onBlur:ne(n.onBlur,()=>h(!1))})})})}),lG="MenuCheckboxItem",gL=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return g.jsx(bL,{scope:n.__scopeMenu,checked:t,children:g.jsx(s0,{role:"menuitemcheckbox","aria-checked":Pw(t)?"mixed":t,...i,ref:e,"data-state":N_(t),onSelect:ne(i.onSelect,()=>r==null?void 0:r(Pw(t)?!0:!t),{checkForDefaultPrevented:!1})})})});gL.displayName=lG;var vL="MenuRadioGroup",[cG,uG]=qu(vL,{value:void 0,onValueChange:()=>{}}),yL=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Wr(r);return g.jsx(cG,{scope:n.__scopeMenu,value:t,onValueChange:s,children:g.jsx(D_,{...i,ref:e})})});yL.displayName=vL;var xL="MenuRadioItem",wL=w.forwardRef((n,e)=>{const{value:t,...r}=n,i=uG(xL,n.__scopeMenu),s=t===i.value;return g.jsx(bL,{scope:n.__scopeMenu,checked:s,children:g.jsx(s0,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":N_(s),onSelect:ne(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});wL.displayName=xL;var M_="MenuItemIndicator",[bL,dG]=qu(M_,{checked:!1}),SL=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=dG(M_,t);return g.jsx(Us,{present:r||Pw(s.checked)||s.checked===!0,children:g.jsx(Ue.span,{...i,ref:e,"data-state":N_(s.checked)})})});SL.displayName=M_;var hG="MenuSeparator",EL=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return g.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});EL.displayName=hG;var fG="MenuArrow",AL=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=i0(t);return g.jsx(J2,{...i,...r,ref:e})});AL.displayName=fG;var pG="MenuSub",[RY,CL]=qu(pG),bp="MenuSubTrigger",_L=w.forwardRef((n,e)=>{const t=Ku(bp,n.__scopeMenu),r=qv(bp,n.__scopeMenu),i=CL(bp,n.__scopeMenu),s=P_(bp,n.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=s,u={__scopeMenu:n.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),g.jsx(T_,{asChild:!0,...u,children:g.jsx(mL,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":PL(t.open),...n,ref:Kl(e,i.onTriggerChange),onClick:h=>{var f;(f=n.onClick)==null||f.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ne(n.onPointerMove,Pm(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),d()},100))})),onPointerLeave:ne(n.onPointerLeave,Pm(h=>{var p,y;d();const f=(p=t.content)==null?void 0:p.getBoundingClientRect();if(f){const m=(y=t.content)==null?void 0:y.dataset.side,S=m==="right",v=S?-5:5,b=f[S?"left":"right"],E=f[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:b,y:f.top},{x:E,y:f.top},{x:E,y:f.bottom},{x:b,y:f.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ne(n.onKeyDown,h=>{var p;const f=s.searchRef.current!=="";n.disabled||f&&h.key===" "||K8[r.dir].includes(h.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),h.preventDefault())})})})});_L.displayName=bp;var TL="MenuSubContent",kL=w.forwardRef((n,e)=>{const t=dL(mi,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Ku(mi,n.__scopeMenu),o=qv(mi,n.__scopeMenu),a=CL(TL,n.__scopeMenu),c=w.useRef(null),u=yt(e,c);return g.jsx(km.Provider,{scope:n.__scopeMenu,children:g.jsx(Us,{present:r||s.open,children:g.jsx(km.Slot,{scope:n.__scopeMenu,children:g.jsx(R_,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(n.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ne(n.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ne(n.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=X8[o.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});kL.displayName=TL;function PL(n){return n?"open":"closed"}function Pw(n){return n==="indeterminate"}function N_(n){return Pw(n)?"indeterminate":n?"checked":"unchecked"}function mG(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function gG(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function vG(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=gG(n,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==t));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==t?c:void 0}function yG(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],c=e[o],u=a.x,d=a.y,h=c.x,f=c.y;d>r!=f>r&&t<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function xG(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return yG(t,e)}function Pm(n){return e=>e.pointerType==="mouse"?n(e):void 0}var wG=uL,bG=T_,SG=hL,EG=fL,AG=D_,CG=pL,_G=s0,TG=gL,kG=yL,PG=wL,RG=SL,DG=EL,MG=AL,NG=_L,IG=kL,o0="DropdownMenu",[LG]=ca(o0,[lL]),Xn=lL(),[OG,RL]=LG(o0),DL=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,c=Xn(e),u=w.useRef(null),[d,h]=Ov({prop:i,defaultProp:s??!1,onChange:o,caller:o0});return g.jsx(OG,{scope:e,triggerId:Mu(),triggerRef:u,contentId:Mu(),open:d,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(f=>!f),[h]),modal:a,children:g.jsx(wG,{...c,open:d,onOpenChange:h,dir:r,modal:a,children:t})})};DL.displayName=o0;var ML="DropdownMenuTrigger",NL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=RL(ML,t),o=Xn(t);return g.jsx(bG,{asChild:!0,...o,children:g.jsx(Ue.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Kl(e,s.triggerRef),onPointerDown:ne(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ne(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});NL.displayName=ML;var FG="DropdownMenuPortal",IL=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Xn(e);return g.jsx(SG,{...r,...t})};IL.displayName=FG;var LL="DropdownMenuContent",OL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=RL(LL,t),s=Xn(t),o=w.useRef(!1);return g.jsx(EG,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ne(n.onCloseAutoFocus,a=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ne(n.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OL.displayName=LL;var jG="DropdownMenuGroup",BG=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(AG,{...i,...r,ref:e})});BG.displayName=jG;var zG="DropdownMenuLabel",FL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(CG,{...i,...r,ref:e})});FL.displayName=zG;var $G="DropdownMenuItem",jL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(_G,{...i,...r,ref:e})});jL.displayName=$G;var UG="DropdownMenuCheckboxItem",BL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(TG,{...i,...r,ref:e})});BL.displayName=UG;var HG="DropdownMenuRadioGroup",VG=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(kG,{...i,...r,ref:e})});VG.displayName=HG;var WG="DropdownMenuRadioItem",zL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(PG,{...i,...r,ref:e})});zL.displayName=WG;var GG="DropdownMenuItemIndicator",$L=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(RG,{...i,...r,ref:e})});$L.displayName=GG;var qG="DropdownMenuSeparator",UL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(DG,{...i,...r,ref:e})});UL.displayName=qG;var KG="DropdownMenuArrow",XG=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(MG,{...i,...r,ref:e})});XG.displayName=KG;var YG="DropdownMenuSubTrigger",HL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(NG,{...i,...r,ref:e})});HL.displayName=YG;var QG="DropdownMenuSubContent",VL=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Xn(t);return g.jsx(IG,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VL.displayName=QG;var ZG=DL,JG=NL,eq=IL,WL=OL,GL=FL,qL=jL,KL=BL,XL=zL,YL=$L,QL=UL,ZL=HL,JL=VL;const tq=ZG,nq=JG,rq=w.forwardRef(({className:n,inset:e,children:t,...r},i)=>g.jsxs(ZL,{ref:i,className:te("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,g.jsx(J1,{className:"ml-auto"})]}));rq.displayName=ZL.displayName;const iq=w.forwardRef(({className:n,...e},t)=>g.jsx(JL,{ref:t,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...e}));iq.displayName=JL.displayName;const eO=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>g.jsx(eq,{children:g.jsx(WL,{ref:r,sideOffset:e,className:te("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...t})}));eO.displayName=WL.displayName;const lA=w.forwardRef(({className:n,inset:e,...t},r)=>g.jsx(qL,{ref:r,className:te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...t}));lA.displayName=qL.displayName;const sq=w.forwardRef(({className:n,children:e,checked:t,...r},i)=>g.jsxs(KL,{ref:i,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(YL,{children:g.jsx(m2,{className:"h-4 w-4"})})}),e]}));sq.displayName=KL.displayName;const oq=w.forwardRef(({className:n,children:e,...t},r)=>g.jsxs(XL,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(YL,{children:g.jsx(XH,{className:"h-2 w-2 fill-current"})})}),e]}));oq.displayName=XL.displayName;const aq=w.forwardRef(({className:n,inset:e,...t},r)=>g.jsx(GL,{ref:r,className:te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));aq.displayName=GL.displayName;const lq=w.forwardRef(({className:n,...e},t)=>g.jsx(QL,{ref:t,className:te("-mx-1 my-1 h-px bg-muted",n),...e}));lq.displayName=QL.displayName;var tO={exports:{}},cq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uq=cq,dq=uq;function nO(){}function rO(){}rO.resetWarningCache=nO;var hq=function(){function n(r,i,s,o,a,c){if(c!==dq){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rO,resetWarningCache:nO};return t.PropTypes=t,t};tO.exports=hq();var fq=tO.exports;const Ve=db(fq),pq=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function zf(n,e,t){const r=mq(n),{webkitRelativePath:i}=n,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${n.name}`;return typeof r.path!="string"&&TP(r,"path",s),TP(r,"relativePath",s),r}function mq(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const r=e.split(".").pop().toLowerCase(),i=pq.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}function TP(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const gq=[".DS_Store","Thumbs.db"];function vq(n){return Gu(this,void 0,void 0,function*(){return Rw(n)&&yq(n.dataTransfer)?Sq(n.dataTransfer,n.type):xq(n)?wq(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?bq(n):[]})}function yq(n){return Rw(n)}function xq(n){return Rw(n)&&Rw(n.target)}function Rw(n){return typeof n=="object"&&n!==null}function wq(n){return cA(n.target.files).map(e=>zf(e))}function bq(n){return Gu(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>zf(t))})}function Sq(n,e){return Gu(this,void 0,void 0,function*(){if(n.items){const t=cA(n.items).filter(i=>i.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(Eq));return kP(iO(r))}return kP(cA(n.files).map(t=>zf(t)))})}function kP(n){return n.filter(e=>gq.indexOf(e.name)===-1)}function cA(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const r=n[t];e.push(r)}return e}function Eq(n){if(typeof n.webkitGetAsEntry!="function")return PP(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?sO(e):PP(n,e)}function iO(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?iO(t):[t]],[])}function PP(n,e){return Gu(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const s=yield n.getAsFileSystemHandle();if(s===null)throw new Error(`${n} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,zf(o)}}const r=n.getAsFile();if(!r)throw new Error(`${n} is not a File`);return zf(r,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function Aq(n){return Gu(this,void 0,void 0,function*(){return n.isDirectory?sO(n):Cq(n)})}function sO(n){const e=n.createReader();return new Promise((t,r)=>{const i=[];function s(){e.readEntries(o=>Gu(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(Aq));i.push(a),s()}else try{const a=yield Promise.all(i);t(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function Cq(n){return Gu(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(r=>{const i=zf(r,n.fullPath);e(i)},r=>{t(r)})})})}var ES=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function RP(n){return kq(n)||Tq(n)||aO(n)||_q()}function _q(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tq(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kq(n){if(Array.isArray(n))return uA(n)}function DP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function MP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(t),!0).forEach(function(r){oO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oO(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rm(n,e){return Dq(n)||Rq(n,e)||aO(n,e)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aO(n,e){if(n){if(typeof n=="string")return uA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return uA(n,e)}}function uA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Rq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Dq(n){if(Array.isArray(n))return n}var Mq=typeof ES=="function"?ES:ES.default,Nq="file-invalid-type",Iq="file-too-large",Lq="file-too-small",Oq="too-many-files",Fq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Nq,message:"File type must be ".concat(r)}},NP=function(e){return{code:Iq,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},IP=function(e){return{code:Lq,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},jq={code:Oq,message:"Too many files"};function lO(n,e){var t=n.type==="application/x-moz-file"||Mq(n,e);return[t,t?null:Fq(e)]}function cO(n,e,t){if(tc(n.size))if(tc(e)&&tc(t)){if(n.size>t)return[!1,NP(t)];if(n.size<e)return[!1,IP(e)]}else{if(tc(e)&&n.size<e)return[!1,IP(e)];if(tc(t)&&n.size>t)return[!1,NP(t)]}return[!0,null]}function tc(n){return n!=null}function Bq(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles,a=n.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var u=lO(c,t),d=Rm(u,1),h=d[0],f=cO(c,r,i),p=Rm(f,1),y=p[0],m=a?a(c):null;return h&&y&&!m})}function Dw(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Dy(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function LP(n){n.preventDefault()}function zq(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function $q(n){return n.indexOf("Edge/")!==-1}function Uq(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zq(n)||$q(n)}function es(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Dw(r)&&a&&a.apply(void 0,[r].concat(s)),Dw(r)})}}function Hq(){return"showOpenFilePicker"in window}function Vq(n){if(tc(n)){var e=Object.entries(n).filter(function(t){var r=Rm(t,2),i=r[0],s=r[1],o=!0;return uO(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(dO))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,r){var i=Rm(r,2),s=i[0],o=i[1];return MP(MP({},t),{},oO({},s,o))},{});return[{description:"Files",accept:e}]}return n}function Wq(n){if(tc(n))return Object.entries(n).reduce(function(e,t){var r=Rm(t,2),i=r[0],s=r[1];return[].concat(RP(e),[i],RP(s))},[]).filter(function(e){return uO(e)||dO(e)}).join(",")}function Gq(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function qq(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function uO(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function dO(n){return/^.*\.[\w]+$/.test(n)}var Kq=["children"],Xq=["open"],Yq=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Qq=["refKey","onChange","onClick"];function Zq(n){return tK(n)||eK(n)||hO(n)||Jq()}function Jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tK(n){if(Array.isArray(n))return dA(n)}function AS(n,e){return iK(n)||rK(n,e)||hO(n,e)||nK()}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hO(n,e){if(n){if(typeof n=="string")return dA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dA(n,e)}}function dA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function rK(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,a=c}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function iK(n){if(Array.isArray(n))return n}function OP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ht(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(t),!0).forEach(function(r){hA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OP(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hA(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mw(n,e){if(n==null)return{};var t=sK(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var I_=w.forwardRef(function(n,e){var t=n.children,r=Mw(n,Kq),i=pO(r),s=i.open,o=Mw(i,Xq);return w.useImperativeHandle(e,function(){return{open:s}},[s]),Ys.createElement(w.Fragment,null,t(ht(ht({},o),{},{open:s})))});I_.displayName="Dropzone";var fO={disabled:!1,getFilesFromEvent:vq,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};I_.defaultProps=fO;I_.propTypes={children:Ve.func,accept:Ve.objectOf(Ve.arrayOf(Ve.string)),multiple:Ve.bool,preventDropOnDocument:Ve.bool,noClick:Ve.bool,noKeyboard:Ve.bool,noDrag:Ve.bool,noDragEventsBubbling:Ve.bool,minSize:Ve.number,maxSize:Ve.number,maxFiles:Ve.number,disabled:Ve.bool,getFilesFromEvent:Ve.func,onFileDialogCancel:Ve.func,onFileDialogOpen:Ve.func,useFsAccessApi:Ve.bool,autoFocus:Ve.bool,onDragEnter:Ve.func,onDragLeave:Ve.func,onDragOver:Ve.func,onDrop:Ve.func,onDropAccepted:Ve.func,onDropRejected:Ve.func,onError:Ve.func,validator:Ve.func};var fA={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pO(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=ht(ht({},fO),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,y=e.onDropRejected,m=e.onFileDialogCancel,S=e.onFileDialogOpen,v=e.useFsAccessApi,b=e.autoFocus,E=e.preventDropOnDocument,C=e.noClick,T=e.noKeyboard,k=e.noDrag,P=e.noDragEventsBubbling,R=e.onError,M=e.validator,D=w.useMemo(function(){return Wq(t)},[t]),N=w.useMemo(function(){return Vq(t)},[t]),F=w.useMemo(function(){return typeof S=="function"?S:FP},[S]),z=w.useMemo(function(){return typeof m=="function"?m:FP},[m]),L=w.useRef(null),U=w.useRef(null),j=w.useReducer(oK,fA),B=AS(j,2),I=B[0],O=B[1],V=I.isFocused,Q=I.isFileDialogActive,G=w.useRef(typeof window<"u"&&window.isSecureContext&&v&&Hq()),re=function(){!G.current&&Q&&setTimeout(function(){if(U.current){var se=U.current.files;se.length||(O({type:"closeDialog"}),z())}},300)};w.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[U,Q,z,G]);var ce=w.useRef([]),Me=function(se){L.current&&L.current.contains(se.target)||(se.preventDefault(),ce.current=[])};w.useEffect(function(){return E&&(document.addEventListener("dragover",LP,!1),document.addEventListener("drop",Me,!1)),function(){E&&(document.removeEventListener("dragover",LP),document.removeEventListener("drop",Me))}},[L,E]),w.useEffect(function(){return!r&&b&&L.current&&L.current.focus(),function(){}},[L,b,r]);var ge=w.useCallback(function(q){R?R(q):console.error(q)},[R]),oe=w.useCallback(function(q){q.preventDefault(),q.persist(),Qu(q),ce.current=[].concat(Zq(ce.current),[q.target]),Dy(q)&&Promise.resolve(i(q)).then(function(se){if(!(Dw(q)&&!P)){var xt=se.length,He=xt>0&&Bq({files:se,accept:D,minSize:o,maxSize:s,multiple:a,maxFiles:c,validator:M}),Nt=xt>0&&!He;O({isDragAccept:He,isDragReject:Nt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(q)}}).catch(function(se){return ge(se)})},[i,u,ge,P,D,o,s,a,c,M]),sn=w.useCallback(function(q){q.preventDefault(),q.persist(),Qu(q);var se=Dy(q);if(se&&q.dataTransfer)try{q.dataTransfer.dropEffect="copy"}catch{}return se&&h&&h(q),!1},[h,P]),Ne=w.useCallback(function(q){q.preventDefault(),q.persist(),Qu(q);var se=ce.current.filter(function(He){return L.current&&L.current.contains(He)}),xt=se.indexOf(q.target);xt!==-1&&se.splice(xt,1),ce.current=se,!(se.length>0)&&(O({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Dy(q)&&d&&d(q))},[L,d,P]),ye=w.useCallback(function(q,se){var xt=[],He=[];q.forEach(function(Nt){var Yn=lO(Nt,D),Zi=AS(Yn,2),x0=Zi[0],w0=Zi[1],b0=cO(Nt,o,s),ny=AS(b0,2),S0=ny[0],E0=ny[1],A0=M?M(Nt):null;if(x0&&S0&&!A0)xt.push(Nt);else{var C0=[w0,E0];A0&&(C0=C0.concat(A0)),He.push({file:Nt,errors:C0.filter(function(wB){return wB})})}}),(!a&&xt.length>1||a&&c>=1&&xt.length>c)&&(xt.forEach(function(Nt){He.push({file:Nt,errors:[jq]})}),xt.splice(0)),O({acceptedFiles:xt,fileRejections:He,isDragReject:He.length>0,type:"setFiles"}),f&&f(xt,He,se),He.length>0&&y&&y(He,se),xt.length>0&&p&&p(xt,se)},[O,a,D,o,s,c,f,p,y,M]),kt=w.useCallback(function(q){q.preventDefault(),q.persist(),Qu(q),ce.current=[],Dy(q)&&Promise.resolve(i(q)).then(function(se){Dw(q)&&!P||ye(se,q)}).catch(function(se){return ge(se)}),O({type:"reset"})},[i,ye,ge,P]),jt=w.useCallback(function(){if(G.current){O({type:"openDialog"}),F();var q={multiple:a,types:N};window.showOpenFilePicker(q).then(function(se){return i(se)}).then(function(se){ye(se,null),O({type:"closeDialog"})}).catch(function(se){Gq(se)?(z(se),O({type:"closeDialog"})):qq(se)?(G.current=!1,U.current?(U.current.value=null,U.current.click()):ge(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ge(se)});return}U.current&&(O({type:"openDialog"}),F(),U.current.value=null,U.current.click())},[O,F,z,v,ye,ge,N,a]),ve=w.useCallback(function(q){!L.current||!L.current.isEqualNode(q.target)||(q.key===" "||q.key==="Enter"||q.keyCode===32||q.keyCode===13)&&(q.preventDefault(),jt())},[L,jt]),Pe=w.useCallback(function(){O({type:"focus"})},[]),it=w.useCallback(function(){O({type:"blur"})},[]),ct=w.useCallback(function(){C||(Uq()?setTimeout(jt,0):jt())},[C,jt]),Mn=function(se){return r?null:se},wi=function(se){return T?null:Mn(se)},pr=function(se){return k?null:Mn(se)},Qu=function(se){P&&se.stopPropagation()},Zu=w.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=q.refKey,xt=se===void 0?"ref":se,He=q.role,Nt=q.onKeyDown,Yn=q.onFocus,Zi=q.onBlur,x0=q.onClick,w0=q.onDragEnter,b0=q.onDragOver,ny=q.onDragLeave,S0=q.onDrop,E0=Mw(q,Yq);return ht(ht(hA({onKeyDown:wi(es(Nt,ve)),onFocus:wi(es(Yn,Pe)),onBlur:wi(es(Zi,it)),onClick:Mn(es(x0,ct)),onDragEnter:pr(es(w0,oe)),onDragOver:pr(es(b0,sn)),onDragLeave:pr(es(ny,Ne)),onDrop:pr(es(S0,kt)),role:typeof He=="string"&&He!==""?He:"presentation"},xt,L),!r&&!T?{tabIndex:0}:{}),E0)}},[L,ve,Pe,it,ct,oe,sn,Ne,kt,T,k,r]),v0=w.useCallback(function(q){q.stopPropagation()},[]),y0=w.useMemo(function(){return function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=q.refKey,xt=se===void 0?"ref":se,He=q.onChange,Nt=q.onClick,Yn=Mw(q,Qq),Zi=hA({accept:D,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Mn(es(He,kt)),onClick:Mn(es(Nt,v0)),tabIndex:-1},xt,U);return ht(ht({},Zi),Yn)}},[U,t,a,kt,r]);return ht(ht({},I),{},{isFocused:V&&!r,getRootProps:Zu,getInputProps:y0,rootRef:L,inputRef:U,open:Mn(jt)})}function oK(n,e){switch(e.type){case"focus":return ht(ht({},n),{},{isFocused:!0});case"blur":return ht(ht({},n),{},{isFocused:!1});case"openDialog":return ht(ht({},fA),{},{isFileDialogActive:!0});case"closeDialog":return ht(ht({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return ht(ht({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return ht(ht({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return ht({},fA);default:return n}}function FP(){}var aK=Symbol("radix.slottable");function lK(n){const e=({children:t})=>g.jsx(g.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=aK,e}var mO="AlertDialog",[cK]=ca(mO,[kI]),ua=kI(),gO=n=>{const{__scopeAlertDialog:e,...t}=n,r=ua(e);return g.jsx(S_,{...r,...t,modal:!0})};gO.displayName=mO;var uK="AlertDialogTrigger",dK=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ua(t);return g.jsx(t8,{...i,...r,ref:e})});dK.displayName=uK;var hK="AlertDialogPortal",vO=n=>{const{__scopeAlertDialog:e,...t}=n,r=ua(e);return g.jsx(E_,{...r,...t})};vO.displayName=hK;var fK="AlertDialogOverlay",yO=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ua(t);return g.jsx($v,{...i,...r,ref:e})});yO.displayName=fK;var Bd="AlertDialogContent",[pK,mK]=cK(Bd),gK=lK("AlertDialogContent"),xO=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,s=ua(t),o=w.useRef(null),a=yt(e,o),c=w.useRef(null);return g.jsx(QW,{contentName:Bd,titleName:wO,docsSlug:"alert-dialog",children:g.jsx(pK,{scope:t,cancelRef:c,children:g.jsxs(Uv,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ne(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[g.jsx(gK,{children:r}),g.jsx(yK,{contentRef:o})]})})})});xO.displayName=Bd;var wO="AlertDialogTitle",bO=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ua(t);return g.jsx(Hv,{...i,...r,ref:e})});bO.displayName=wO;var SO="AlertDialogDescription",EO=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ua(t);return g.jsx(Vv,{...i,...r,ref:e})});EO.displayName=SO;var vK="AlertDialogAction",AO=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ua(t);return g.jsx(Jb,{...i,...r,ref:e})});AO.displayName=vK;var CO="AlertDialogCancel",_O=w.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=mK(CO,t),s=ua(t),o=yt(e,i);return g.jsx(Jb,{...s,...r,ref:o})});_O.displayName=CO;var yK=({contentRef:n})=>{const e=`\`${Bd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bd}\` by passing a \`${SO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},xK=gO,wK=vO,TO=yO,kO=xO,PO=AO,RO=_O,DO=bO,MO=EO;const bK=xK,SK=wK,NO=w.forwardRef(({className:n,...e},t)=>g.jsx(TO,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));NO.displayName=TO.displayName;const IO=w.forwardRef(({className:n,...e},t)=>g.jsxs(SK,{children:[g.jsx(NO,{}),g.jsx(kO,{ref:t,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));IO.displayName=kO.displayName;const LO=({className:n,...e})=>g.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",n),...e});LO.displayName="AlertDialogHeader";const OO=({className:n,...e})=>g.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});OO.displayName="AlertDialogFooter";const FO=w.forwardRef(({className:n,...e},t)=>g.jsx(DO,{ref:t,className:te("text-lg font-semibold",n),...e}));FO.displayName=DO.displayName;const jO=w.forwardRef(({className:n,...e},t)=>g.jsx(MO,{ref:t,className:te("text-sm text-muted-foreground",n),...e}));jO.displayName=MO.displayName;const BO=w.forwardRef(({className:n,...e},t)=>g.jsx(PO,{ref:t,className:te(p_(),n),...e}));BO.displayName=PO.displayName;const zO=w.forwardRef(({className:n,...e},t)=>g.jsx(RO,{ref:t,className:te(p_({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));zO.displayName=RO.displayName;function EK(n,e=[]){let t=[];function r(s,o){const a=w.createContext(o);a.displayName=s+"Context";const c=t.length;t=[...t,o];const u=h=>{var v;const{scope:f,children:p,...y}=h,m=((v=f==null?void 0:f[n])==null?void 0:v[c])||a,S=w.useMemo(()=>y,Object.values(y));return g.jsx(m.Provider,{value:S,children:p})};u.displayName=s+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[c])||a,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=t.map(o=>w.createContext(o));return function(a){const c=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return i.scopeName=n,[r,AK(i,...e)]}function AK(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var CK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$O=CK.reduce((n,e)=>{const t=Xb(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),L_="Progress",O_=100,[_K]=EK(L_),[TK,kK]=_K(L_),UO=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:s=PK,...o}=n;(i||i===0)&&!jP(i)&&console.error(RK(`${i}`,"Progress"));const a=jP(i)?i:O_;r!==null&&!BP(r,a)&&console.error(DK(`${r}`,"Progress"));const c=BP(r,a)?r:null,u=Nw(c)?s(c,a):void 0;return g.jsx(TK,{scope:t,value:c,max:a,children:g.jsx($O.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Nw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":WO(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});UO.displayName=L_;var HO="ProgressIndicator",VO=w.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,i=kK(HO,t);return g.jsx($O.div,{"data-state":WO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});VO.displayName=HO;function PK(n,e){return`${Math.round(n/e*100)}%`}function WO(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Nw(n){return typeof n=="number"}function jP(n){return Nw(n)&&!isNaN(n)&&n>0}function BP(n,e){return Nw(n)&&!isNaN(n)&&n<=e&&n>=0}function RK(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${O_}\`.`}function DK(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${O_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var GO=UO,MK=VO;const qO=w.forwardRef(({className:n,value:e,...t},r)=>g.jsx(GO,{ref:r,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...t,children:g.jsx(MK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));qO.displayName=GO.displayName;function NK({folderId:n,onUploadComplete:e}){const[t,r]=w.useState(!1),[i,s]=w.useState(!1),[o,a]=w.useState([]),[c,u]=w.useState(null),[d,h]=w.useState(!1),[f,p]=w.useState(0),{toast:y}=ql(),{getRootProps:m,getInputProps:S,isDragActive:v}=pO({accept:{"application/pdf":[".pdf"]},onDrop:C=>{a(C),r(!0)}}),b=async(C=!1)=>{if(o.length!==0){h(!0),p(0);try{for(let T=0;T<o.length;T++){const k=o[T],P=await fetch(`/api/folders/${n}/files/check?name=${encodeURIComponent(k.name)}`);if(!P.ok){const N=await P.json().catch(()=>({}));throw new Error(N.error||"   ")}const{exists:R}=await P.json();if(R&&!C){u({file:k,existingName:k.name}),s(!0),h(!1);return}const M=new FormData;if(M.append("file",k),M.append("name",k.name),!(await fetch(`/api/folders/${n}/files`,{method:"POST",body:M,credentials:"include"})).ok)throw new Error("     ");p((T+1)/o.length*100)}y({title:"",description:` : ${o.length}`}),a([]),r(!1),e&&e()}catch(T){const k=T instanceof Error?T.message:"   ";y({title:"",description:k,variant:"destructive"})}finally{h(!1),p(0)}}},E=()=>{s(!1),b(!0)};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{...m(),children:[g.jsx("input",{...S(),"data-testid":"input-file-upload"}),g.jsxs(Ae,{"data-testid":"button-upload-file",children:[g.jsx(n_,{className:"h-4 w-4 mr-2"})," "]})]}),g.jsx(C_,{open:t,onOpenChange:r,children:g.jsxs(e0,{children:[g.jsxs(t0,{children:[g.jsx(n0,{children:" "}),g.jsx(r0,{children:d?"...":` : ${o.length}`})]}),g.jsxs("div",{className:"space-y-4 py-4",children:[d&&g.jsx(qO,{value:f}),g.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map((C,T)=>g.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-md",children:[g.jsx(Bv,{className:"w-5 h-5 text-primary flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium truncate",children:C.name}),g.jsxs("p",{className:"text-xs text-muted-foreground",children:[(C.size/1024).toFixed(1)," KB"]})]}),!d&&g.jsx(Ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>a(k=>k.filter((P,R)=>R!==T)),children:g.jsx(Xf,{className:"h-4 w-4"})})]},T))})]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Ae,{variant:"outline",onClick:()=>r(!1),disabled:d,children:""}),g.jsx(Ae,{onClick:()=>b(),disabled:o.length===0||d,"data-testid":"button-confirm-upload",children:d?"...":""})]})]})}),g.jsx(bK,{open:i,onOpenChange:s,children:g.jsxs(IO,{children:[g.jsxs(LO,{children:[g.jsx(FO,{children:"  "}),g.jsxs(jO,{children:['   "',c==null?void 0:c.existingName,'"     .   ?']})]}),g.jsxs(OO,{children:[g.jsx(zO,{children:""}),g.jsx(BO,{onClick:E,"data-testid":"button-replace-file",children:" "})]})]})})]})}function KO({open:n,onOpenChange:e,shareUrl:t,title:r,type:i}){const[s,o]=w.useState(!1),{toast:a}=ql(),c=async()=>{try{await navigator.clipboard.writeText(t),o(!0),a({title:"",description:"    "}),setTimeout(()=>o(!1),2e3)}catch{a({title:"",description:"   ",variant:"destructive"})}};return g.jsx(C_,{open:n,onOpenChange:e,children:g.jsxs(e0,{children:[g.jsxs(t0,{children:[g.jsxs(n0,{children:[" ",i==="file"?"":""]}),g.jsx(r0,{children:r})]}),g.jsx("div",{className:"space-y-4 py-4",children:g.jsxs("div",{className:"space-y-2",children:[g.jsx(__,{children:" "}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(g_,{value:t,readOnly:!0,"data-testid":"input-share-url"}),g.jsx(Ae,{variant:"outline",size:"icon",onClick:c,"data-testid":"button-copy-link",children:s?g.jsx(m2,{className:"h-4 w-4 text-green-600"}):g.jsx(QH,{className:"h-4 w-4"})})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["       ",i==="file"?"":""]})]})})]})})}function IK({folderId:n,folder:e,loading:t}){const[r,i]=la(),s=Yb(),[o,a]=w.useState(null),{toast:c}=ql(),u=async p=>{if(confirm(" ,     ?"))try{await s($N(p)).unwrap(),n&&await s(bw(n)),c({title:"",description:" "})}catch{c({title:"",description:"   ",variant:"destructive"})}},d=async p=>{try{const y=`${window.location.origin}/file/${p.id}`;a({url:y,title:p.name,type:"file"})}catch{c({title:"",description:"    ",variant:"destructive"})}},h=async()=>{if(e)try{const p=await fetch(`/api/folders/${e.id}/share`,{method:"POST"});if(!p.ok)throw new Error("Failed to generate share link");const{shareToken:y}=await p.json(),m=`${window.location.origin}/shared/folder/${y}`;a({url:m,title:e.name,type:"folder"})}catch{c({title:"",description:"    ",variant:"destructive"})}};if(t)return g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsx(Bs,{className:"h-10 w-48"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(p=>g.jsx(Bs,{className:"h-48"},p))})]});if(!e)return g.jsx("div",{className:"flex items-center justify-center h-full",children:g.jsx("div",{className:"text-center space-y-4",children:g.jsx("p",{className:"text-muted-foreground",children:"   "})})});const f=(e==null?void 0:e.files)||[];return g.jsxs("div",{className:"h-full flex flex-col",children:[g.jsx("div",{className:"flex items-center justify-end gap-2 p-4 border-b",children:e&&g.jsxs(g.Fragment,{children:[g.jsxs(Ae,{variant:"outline",size:"sm",onClick:h,"data-testid":"button-share-folder",children:[g.jsx(Am,{className:"h-4 w-4 mr-2"})," "]}),g.jsx(NK,{folderId:e.id,onUploadComplete:()=>n&&s(bw(n))})]})}),g.jsx("div",{className:"flex-1 overflow-auto p-6",children:f.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:g.jsx(n_,{className:"w-8 h-8 text-muted-foreground"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-medium",children:"  "}),g.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:'  " "'})]})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(p=>g.jsx(tn,{className:"p-4 space-y-3 hover-elevate cursor-pointer",onClick:()=>i(`/pdf/${p.id}`),"data-testid":`card-file-${p.id}`,children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx(Bv,{className:"w-5 h-5 text-primary"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-medium truncate",title:p.name,children:p.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[(p.size/1024).toFixed(1)," KB"]})]}),g.jsxs(tq,{children:[g.jsx(nq,{asChild:!0,onClick:y=>y.stopPropagation(),children:g.jsx(Ae,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":`button-file-menu-${p.id}`,children:g.jsx(ZH,{className:"h-4 w-4"})})}),g.jsxs(eO,{align:"end",children:[g.jsxs(lA,{onClick:y=>{y.stopPropagation(),d(p)},"data-testid":`menu-share-file-${p.id}`,children:[g.jsx(Am,{className:"h-4 w-4 mr-2"}),""]}),g.jsxs(lA,{onClick:y=>{y.stopPropagation(),u(p.id)},className:"text-destructive","data-testid":`menu-delete-file-${p.id}`,children:[g.jsx(iV,{className:"h-4 w-4 mr-2"}),""]})]})]})]})},p.id))})}),o&&g.jsx(KO,{open:!!o,onOpenChange:p=>!p&&a(null),shareUrl:o.url,title:o.title,type:o.type})]})}function zP(){const{folderId:n}=Dv(),[e,t]=la(),r=Yb(),{user:i,loading:s}=iA(h=>h.auth),{folders:o,currentFolder:a,loading:c}=iA(h=>h.folders);w.useEffect(()=>{r(Jp())},[r]),w.useEffect(()=>{i&&r(rx())},[r,i,s,t]),w.useEffect(()=>{n&&r(bw(n))},[n,r]);const u=async()=>{await r(FN()),t("/")},d={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return s?g.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:g.jsx("div",{className:"text-muted-foreground",children:"..."})}):i?g.jsx(d8,{style:d,children:g.jsxs("div",{className:"flex h-screen w-full",children:[g.jsx(_8,{folders:o}),g.jsxs("div",{className:"flex flex-col flex-1",children:[g.jsxs("header",{className:"flex items-center justify-between gap-4 p-4 border-b",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(f8,{"data-testid":"button-sidebar-toggle"}),g.jsx("h1",{className:"text-xl font-semibold",children:a?a.name:""})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:i.username}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:u,"data-testid":"button-logout",children:g.jsx(tV,{className:"h-4 w-4"})})]})]}),g.jsx("main",{className:"flex-1 overflow-hidden",children:g.jsx(IK,{folderId:n,folder:a,loading:c})})]})]})}):null}const zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),pA=[.001,0,0,.001,0,0],CS=1.35,Nr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ns={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Dm="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},be={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},XO={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},on={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},sd={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Kv={ERRORS:0,WARNINGS:1,INFOS:5},$f={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},My={moveTo:0,lineTo:1,curveTo:2,closePath:3},YO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let a0=Kv.WARNINGS;function LK(n){Number.isInteger(n)&&(a0=n)}function OK(){return a0}function l0(n){a0>=Kv.INFOS&&console.info(`Info: ${n}`)}function le(n){a0>=Kv.WARNINGS&&console.warn(`Warning: ${n}`)}function Xe(n){throw new Error(n)}function Ee(n,e){n||Xe(e)}function FK(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function F_(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=UK(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return FK(r)?r:null}function j_(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&F_(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function fe(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Xu=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class $P extends Xu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _S extends Xu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Iw extends Xu{constructor(e){super(e,"InvalidPDFException")}}class Mm extends Xu{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class jK extends Xu{constructor(e){super(e,"FormatError")}}class ra extends Xu{constructor(e){super(e,"AbortException")}}function QO(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Xe("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function Xv(n){typeof n!="string"&&Xe("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function BK(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function zK(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function $K(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return fe(this,"isLittleEndian",zK())}static get isEvalSupported(){return fe(this,"isEvalSupported",$K())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return fe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return fe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return fe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const TS=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Go,cx,mA;class Y{static makeHexColor(e,t,r){return`#${TS[e]}${TS[t]}${TS[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[r+d],f=e[r+d+1];e[r+d]=h*i+f*o+c,e[r+d+1]=h*s+f*a+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let y=i*d+c,m=y,S=i*f+c,v=S,b=a*h+u,E=b,C=a*p+u,T=C;if(s!==0||o!==0){const k=s*d,P=s*f,R=o*h,M=o*p;y+=R,v+=R,S+=M,m+=M,b+=k,T+=k,C+=P,E+=P}r[0]=Math.min(r[0],y,S,m,v),r[1]=Math.min(r[1],b,C,E,T),r[2]=Math.max(r[2],y,S,m,v),r[3]=Math.max(r[3],b,C,E,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,c=r*s+i*o,u=s**2+o**2,d=(a+u)/2,h=Math.sqrt(d**2-(a*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,o,a,c,u){u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,c),_(this,Go,mA).call(this,e,r,s,a,t,i,o,c,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),_(this,Go,mA).call(this,e,r,s,a,t,i,o,c,3*(-t+3*(i-o)+c),6*(t-2*i+o),3*(i-t),u)}}Go=new WeakSet,cx=function(e,t,r,i,s,o,a,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,y=h*(h*(h*e+3*u*t)+3*f*r)+p*i,m=h*(h*(h*s+3*u*o)+3*f*a)+p*c;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],m)},mA=function(e,t,r,i,s,o,a,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&_(this,Go,cx).call(this,e,t,r,i,s,o,a,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const y=Math.sqrt(p),m=2*u;_(this,Go,cx).call(this,e,t,r,i,s,o,a,c,(-d+y)/m,f),_(this,Go,cx).call(this,e,t,r,i,s,o,a,c,(-d-y)/m,f)},A(Y,Go);function UK(n){return decodeURIComponent(escape(n))}let kS=null,UP=null;function ZO(n){return kS||(kS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,UP=new Map([["","t"]])),n.replaceAll(kS,(e,t,r)=>t?t.normalize("NFKC"):UP.get(r))}function B_(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),QO(n)}const z_="pdfjs_internal_id_";function HK(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||a&&c===null))return!1;return!0}function kn(n,e,t){return Math.min(Math.max(n,e),t)}function JO(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(QO(n))}function VK(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Xv(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Nm{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var c;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Nm.shouldBuildText(a))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class $_{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const c=a.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Nm.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,o]];for(;d.length>0;){const[p,y,m]=d.at(-1);if(y+1===p.children.length){d.pop();continue}const S=p.children[++d.at(-1)[1]];if(S===null)continue;const{name:v}=S;if(v==="#text"){const E=document.createTextNode(S.value);u.push(E),m.append(E);continue}const b=(h=S==null?void 0:S.attributes)!=null&&h.xmlns?document.createElementNS(S.attributes.xmlns,v):document.createElement(v);if(m.append(b),S.attributes&&this.setAttributes({html:b,element:S,storage:t,intent:s,linkService:r}),((f=S.children)==null?void 0:f.length)>0)d.push([S,-1,b]);else if(S.value){const E=document.createTextNode(S.value);a&&Nm.shouldBuildText(v)&&u.push(E),b.append(E)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const qs="http://www.w3.org/2000/svg",nc=class nc{};$(nc,"CSS",96),$(nc,"PDF",72),$(nc,"PDF_TO_CSS_UNITS",nc.CSS/nc.PDF);let ia=nc;async function Jf(n,e="text"){if(Sp(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Yv{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let y,m,S,v;d===0?(y=Math.abs(u-e[1])*r+s,m=Math.abs(c-e[0])*r+o,S=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(y=Math.abs(c-e[0])*r+s,m=Math.abs(u-e[1])*r+o,S=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[d*r,h*r,f*r,p*r,y-d*r*c-f*r*u,m-h*r*c-p*r*u],this.width=S,this.height=v}get rawDims(){const e=this.viewBox;return fe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Yv({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Y.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Y.applyTransform(t,this.transform);const r=[e[2],e[3]];return Y.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Y.applyInverseTransform(r,this.transform),r}}class c0 extends Xu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Qv(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function u0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function eF(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function tF(n,e="document.pdf"){if(typeof n!="string")return e;if(Qv(n))return le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let c=decodeURIComponent(a);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:a):c}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const u of a)if(s.test(u))return i(u);const c=Array.from(r.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return i(u)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return i(c[0])}return e}class HP{constructor(){$(this,"started",Object.create(null));$(this,"times",[])}time(e){e in this.started&&le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Sp(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Gr(n){n.preventDefault()}function pt(n){n.preventDefault(),n.stopPropagation()}function WK(n){console.log("Deprecated API usage: "+n)}var Vm;class Im{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;l(this,Vm)||x(this,Vm,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,Vm).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,i,s,o,a,c))}}Vm=new WeakMap,A(Im,Vm);function nF(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Yv({viewBox:s,userUnit:1,scale:e,rotation:t})}function ep(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(le(`Not a valid color format: "${n}"`),[0,0,0])}function GK(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,ep(r))}e.remove()}function dt(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function ts(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function zl(n,e,t=!1,r=!0){if(e instanceof Yv){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=rn.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,d=a?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=a?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Xi{constructor(){const{pixelRatio:e}=Xi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,c=1/0;r=Xi.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,c=i/t);const u=Math.min(o,a,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const Lw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class qK{static get isDarkMode(){var e;return fe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class rF{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),fe(this,"commentForegroundColor",ep(r))}}function iF(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function VP(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),o=Math.min(t,r,i),a=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const c=s-o;switch(e[1]=a<.5?c/(s+o):c/(2-s-o),s){case t:e[0]=((r-i)/c+(r<i?6:0))*60;break;case r:e[0]=((i-t)/c+2)*60;break;case i:e[0]=((t-r)/c+4)*60;break}}e[2]=a}function gA(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,o=s*(1-Math.abs(t/60%2-1)),a=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+a,e[1]=o+a,e[2]=a;break;case 1:e[0]=o+a,e[1]=s+a,e[2]=a;break;case 2:e[0]=a,e[1]=s+a,e[2]=o+a;break;case 3:e[0]=a,e[1]=o+a,e[2]=s+a;break;case 4:e[0]=o+a,e[1]=a,e[2]=s+a;break;case 5:case 6:e[0]=s+a,e[1]=a,e[2]=o+a;break}}function WP(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function GP(n,e,t){gA(n,t),t.map(WP);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];gA(e,t),t.map(WP);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const qP=new Map;function sF(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=qP.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),o=i.subarray(3,6);VP(n,o);const a=i.subarray(6,9);VP(e,a);const c=a[2]<.5,u=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),GP(o,a,s)<u){let d,h;c?(d=o[2],h=1):(d=0,h=o[2]);const f=.005;for(;h-d>f;){const p=o[2]=(d+h)/2;c===GP(o,a,s)<u?d=p:h=p}o[2]=c?h:d}return gA(o,s),r=Y.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),qP.set(t,r),r}function U_({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,c=o.length;a<c;++a){const u=o[a];s.append(document.createTextNode(u)),a<c-1&&s.append(document.createElement("br"))}i.append(s)}else $_.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),r.append(i)}var Ra,Da,Zr,Jr,Wm,Ma,th,nh,Gm,Gw,oF,gn,aF,lF,od,Ep;const Zs=class Zs{constructor(e){A(this,gn);A(this,Ra,null);A(this,Da,null);A(this,Zr);A(this,Jr,null);A(this,Wm,null);A(this,Ma,null);A(this,th,null);A(this,nh,null);x(this,Zr,e),l(Zs,Gm)||x(Zs,Gm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=x(this,Ra,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,Zr)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Gr,{signal:t}),e.addEventListener("pointerdown",_(Zs,Gw,oF),{signal:t}));const r=x(this,Jr,document.createElement("div"));r.className="buttons",e.append(r);const i=l(this,Zr).toolbarPosition;if(i){const{style:s}=e,o=l(this,Zr)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,Ra)}hide(){var e;l(this,Ra).classList.add("hidden"),(e=l(this,Da))==null||e.hideDropdown()}show(){var e,t;l(this,Ra).classList.remove("hidden"),(e=l(this,Wm))==null||e.shown(),(t=l(this,Ma))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=l(this,Zr),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",l(Zs,Gm)[e]),_(this,gn,od).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),l(this,Jr).append(r)}async addAltText(e){const t=await e.render();_(this,gn,od).call(this,t),l(this,Jr).append(t,l(this,gn,Ep)),x(this,Wm,e)}addComment(e,t=null){if(l(this,Ma))return;const r=e.renderForToolbar();if(!r)return;_(this,gn,od).call(this,r);const i=x(this,th,l(this,gn,Ep));t?(l(this,Jr).insertBefore(r,t),l(this,Jr).insertBefore(i,t)):l(this,Jr).append(r,i),x(this,Ma,e),e.toolbar=this}addColorPicker(e){if(l(this,Da))return;x(this,Da,e);const t=e.renderButton();_(this,gn,od).call(this,t),l(this,Jr).append(t,l(this,gn,Ep))}async addEditSignatureButton(e){const t=x(this,nh,await e.renderEditButton(l(this,Zr)));_(this,gn,od).call(this,t),l(this,Jr).append(t,l(this,gn,Ep))}removeButton(e){var t,r;switch(e){case"comment":(t=l(this,Ma))==null||t.removeToolbarCommentButton(),x(this,Ma,null),(r=l(this,th))==null||r.remove(),x(this,th,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,r){const i=l(this,Jr).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){l(this,nh)&&(l(this,nh).title=e)}remove(){var e;l(this,Ra).remove(),(e=l(this,Da))==null||e.destroy(),x(this,Da,null)}};Ra=new WeakMap,Da=new WeakMap,Zr=new WeakMap,Jr=new WeakMap,Wm=new WeakMap,Ma=new WeakMap,th=new WeakMap,nh=new WeakMap,Gm=new WeakMap,Gw=new WeakSet,oF=function(e){e.stopPropagation()},gn=new WeakSet,aF=function(e){l(this,Zr)._focusEventsAllowed=!1,pt(e)},lF=function(e){l(this,Zr)._focusEventsAllowed=!0,pt(e)},od=function(e){const t=l(this,Zr)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",_(this,gn,aF).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,gn,lF).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gr,{signal:t}),!0)},Ep=function(){const e=document.createElement("div");return e.className="divider",e},A(Zs,Gw),A(Zs,Gm,null);let vA=Zs;var qm,yc,oo,sa,cF,uF,yA;class KK{constructor(e){A(this,sa);A(this,qm,null);A(this,yc,null);A(this,oo);x(this,oo,e)}show(e,t,r){const[i,s]=_(this,sa,uF).call(this,t,r),{style:o}=l(this,yc)||x(this,yc,_(this,sa,cF).call(this));e.append(l(this,yc)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,yc).remove()}}qm=new WeakMap,yc=new WeakMap,oo=new WeakMap,sa=new WeakSet,cF=function(){const e=x(this,yc,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=l(this,oo)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Gr,{signal:t});const r=x(this,qm,document.createElement("div"));return r.className="buttons",e.append(r),l(this,oo).hasCommentManager()&&_(this,sa,yA).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,oo).commentSelection("floating_button")}),_(this,sa,yA).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,oo).highlightSelection("floating_button")}),e},uF=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]},yA=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const a=l(this,oo)._signal;a instanceof AbortSignal&&!a.aborted&&(s.addEventListener("contextmenu",Gr,{signal:a}),s.addEventListener("click",i,{signal:a})),l(this,qm).append(s)};function dF(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var qw;class XK{constructor(){A(this,qw,0)}get id(){return`${Dm}${wt(this,qw)._++}`}}qw=new WeakMap;var rh,Km,Sn,ih,ux;const J_=class J_{constructor(){A(this,ih);A(this,rh,B_());A(this,Km,0);A(this,Sn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return fe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return _(this,ih,ux).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return _(this,ih,ux).call(this,e,e)}async getFromBlob(e,t){const r=await t;return _(this,ih,ux).call(this,e,r)}async getFromId(e){l(this,Sn)||x(this,Sn,new Map);const t=l(this,Sn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,Sn)||x(this,Sn,new Map);let r=l(this,Sn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${l(this,rh)}_${wt(this,Km)._++}`,refCounter:1,isSvg:!1},l(this,Sn).set(e,r),l(this,Sn).set(r.id,r),r}getSvgUrl(e){const t=l(this,Sn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;l(this,Sn)||x(this,Sn,new Map);const t=l(this,Sn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,rh)}_`)}};rh=new WeakMap,Km=new WeakMap,Sn=new WeakMap,ih=new WeakSet,ux=async function(e,t){l(this,Sn)||x(this,Sn,new Map);let r=l(this,Sn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${l(this,rh)}_${wt(this,Km)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await Jf(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=J_._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){le(i),r=null}return l(this,Sn).set(e,r),r&&l(this,Sn).set(r.id,r),r};let xA=J_;var Rt,Na,Xm,ut;class YK{constructor(e=128){A(this,Rt,[]);A(this,Na,!1);A(this,Xm);A(this,ut,-1);x(this,Xm,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),l(this,Na))return;const c={cmd:e,undo:t,post:r,type:s};if(l(this,ut)===-1){l(this,Rt).length>0&&(l(this,Rt).length=0),x(this,ut,0),l(this,Rt).push(c);return}if(o&&l(this,Rt)[l(this,ut)].type===s){a&&(c.undo=l(this,Rt)[l(this,ut)].undo),l(this,Rt)[l(this,ut)]=c;return}const u=l(this,ut)+1;u===l(this,Xm)?l(this,Rt).splice(0,1):(x(this,ut,u),u<l(this,Rt).length&&l(this,Rt).splice(u)),l(this,Rt).push(c)}undo(){if(l(this,ut)===-1)return;x(this,Na,!0);const{undo:e,post:t}=l(this,Rt)[l(this,ut)];e(),t==null||t(),x(this,Na,!1),x(this,ut,l(this,ut)-1)}redo(){if(l(this,ut)<l(this,Rt).length-1){x(this,ut,l(this,ut)+1),x(this,Na,!0);const{cmd:e,post:t}=l(this,Rt)[l(this,ut)];e(),t==null||t(),x(this,Na,!1)}}hasSomethingToUndo(){return l(this,ut)!==-1}hasSomethingToRedo(){return l(this,ut)<l(this,Rt).length-1}cleanType(e){if(l(this,ut)!==-1){for(let t=l(this,ut);t>=0;t--)if(l(this,Rt)[t].type!==e){l(this,Rt).splice(t+1,l(this,ut)-t),x(this,ut,t);return}l(this,Rt).length=0,x(this,ut,-1)}}destroy(){x(this,Rt,null)}}Rt=new WeakMap,Na=new WeakMap,Xm=new WeakMap,ut=new WeakMap;var Kw,hF;class Zv{constructor(e){A(this,Kw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=rn.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(_(this,Kw,hF).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||pt(t))}}Kw=new WeakSet,hF=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Xw=class Xw{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return GK(e),fe(this,"_colors",e)}convert(e){const t=ep(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Xw._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Y.makeHexColor(...t):e}};$(Xw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let wA=Xw;var sh,gr,oh,St,zt,ah,ei,lh,ti,En,Ia,La,ch,Oa,ls,ni,xc,Ym,Qm,uh,Zm,cs,Fa,dh,ja,us,Yw,Ba,hh,Jm,za,wc,fh,$a,eg,Lt,Ie,ao,Ua,Ha,tg,ph,ng,Va,ds,lo,rg,ig,ri,W,dx,bA,fF,pF,Ap,mF,gF,vF,SA,yF,EA,AA,xF,Nn,Ks,wF,bF,CA,SF,Cp,_A;const _d=class _d{constructor(e,t,r,i,s,o,a,c,u,d,h,f,p,y,m,S){A(this,W);A(this,sh,new AbortController);A(this,gr,null);A(this,oh,null);A(this,St,new Map);A(this,zt,new Map);A(this,ah,null);A(this,ei,null);A(this,lh,null);A(this,ti,new YK);A(this,En,null);A(this,Ia,null);A(this,La,null);A(this,ch,0);A(this,Oa,new Set);A(this,ls,null);A(this,ni,null);A(this,xc,new Set);$(this,"_editorUndoBar",null);A(this,Ym,!1);A(this,Qm,!1);A(this,uh,!1);A(this,Zm,null);A(this,cs,null);A(this,Fa,null);A(this,dh,null);A(this,ja,!1);A(this,us,null);A(this,Yw,new XK);A(this,Ba,!1);A(this,hh,!1);A(this,Jm,!1);A(this,za,null);A(this,wc,null);A(this,fh,null);A(this,$a,null);A(this,eg,null);A(this,Lt,ae.NONE);A(this,Ie,new Set);A(this,ao,null);A(this,Ua,null);A(this,Ha,null);A(this,tg,null);A(this,ph,null);A(this,ng,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,Va,[0,0]);A(this,ds,null);A(this,lo,null);A(this,rg,null);A(this,ig,null);A(this,ri,null);const v=this._signal=l(this,sh).signal;x(this,lo,e),x(this,rg,t),x(this,ig,r),x(this,ah,i),x(this,En,s),x(this,Ua,o),x(this,ph,c),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:v}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),a._on("setpreference",this.onSetPreference.bind(this),{signal:v}),a._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:v}),window.addEventListener("pointerdown",()=>{x(this,hh,!0)},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{x(this,hh,!1)},{capture:!0,signal:v}),_(this,W,mF).call(this),_(this,W,xF).call(this),_(this,W,SA).call(this),x(this,ei,c.annotationStorage),x(this,Zm,c.filterFactory),x(this,Ha,u),x(this,dh,d||null),x(this,Ym,h),x(this,Qm,f),x(this,uh,p),x(this,eg,y||null),this.viewParameters={realScale:ia.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=S!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=_d.prototype,t=o=>l(o,lo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Zv([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,lo).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,lo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,o,a,c,u;(e=l(this,ri))==null||e.resolve(),x(this,ri,null),(t=l(this,sh))==null||t.abort(),x(this,sh,null),this._signal=null;for(const d of l(this,zt).values())d.destroy();l(this,zt).clear(),l(this,St).clear(),l(this,xc).clear(),(r=l(this,$a))==null||r.clear(),x(this,gr,null),l(this,Ie).clear(),l(this,ti).destroy(),(i=l(this,ah))==null||i.destroy(),(s=l(this,En))==null||s.destroy(),(o=l(this,Ua))==null||o.destroy(),(a=l(this,us))==null||a.hide(),x(this,us,null),(c=l(this,fh))==null||c.destroy(),x(this,fh,null),x(this,oh,null),l(this,cs)&&(clearTimeout(l(this,cs)),x(this,cs,null)),l(this,ds)&&(clearTimeout(l(this,ds)),x(this,ds,null)),(u=this._editorUndoBar)==null||u.destroy(),x(this,ph,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,eg)}get useNewAltTextFlow(){return l(this,Qm)}get useNewAltTextWhenAddingImage(){return l(this,uh)}get hcmFilter(){return fe(this,"hcmFilter",l(this,Ha)?l(this,Zm).addHCMFilter(l(this,Ha).foreground,l(this,Ha).background):"none")}get direction(){return fe(this,"direction",getComputedStyle(l(this,lo)).direction)}get _highlightColors(){return fe(this,"_highlightColors",l(this,dh)?new Map(l(this,dh).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return fe(this,"highlightColors",null);const t=new Map,r=!!l(this,Ha);for(const[i,s]of e){const o=i.endsWith("_HCM");if(r&&o){t.set(i.replace("_HCM",""),s);continue}!r&&!o&&t.set(i,s)}return fe(this,"highlightColors",t)}get highlightColorNames(){return fe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),x(this,La,e)}setMainHighlightColorPicker(e){x(this,fh,e)}editAltText(e,t=!1){var r;(r=l(this,ah))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!l(this,En)}editComment(e,t,r,i){var s;(s=l(this,En))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=l(this,zt).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=l(this,En))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=l(this,En))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=l(this,En))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=l(this,En))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=l(this,En))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=l(this,En))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(l(this,zt).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=l(this,Ua))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,Ua)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":x(this,uh,t);break}}onPageChanging({pageNumber:e}){x(this,ch,e-1)}focusMainContainer(){l(this,lo).focus()}findParent(e,t){for(const r of l(this,zt).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){l(this,rg).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,xc).add(e)}removeShouldRescale(e){l(this,xc).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*ia.PDF_TO_CSS_UNITS;for(const r of l(this,xc))r.onScaleChanging();(t=l(this,La))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a}=r,c=r.toString(),d=_(this,W,dx).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const f=_(this,W,bA).call(this,d),p=l(this,Lt)===ae.NONE,y=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:a,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(p){this.switchToMode(ae.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!l(this,ei))return null;const t=`${Dm}${e}`,r=l(this,ei).getRawValue(t);return r&&l(this,ei).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&l(this,ei)&&!l(this,ei).has(e.id)&&l(this,ei).setValue(e.id,e)}a11yAlert(e,t=null){const r=l(this,ig);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,ja)&&(x(this,ja,!1),_(this,W,Ap).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Ie))if(t.div.contains(e)){x(this,wc,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,wc))return;const[e,t]=l(this,wc);x(this,wc,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,W,SA).call(this),_(this,W,EA).call(this)}removeEditListeners(){_(this,W,yF).call(this),_(this,W,AA).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of l(this,ni))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of l(this,ni))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=l(this,gr))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of l(this,Ie)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of l(this,ni))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){le(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of r){const u=await i.deserialize(c);if(!u)return;s.push(u)}const o=()=>{for(const c of s)_(this,W,CA).call(this,c);_(this,W,_A).call(this,s)},a=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){le(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Lt)!==ae.NONE&&!this.isEditorHandlingKeyboard&&_d._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,ja)&&(x(this,ja,!1),_(this,W,Ap).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(_(this,W,gF).call(this),_(this,W,EA).call(this),_(this,W,Nn).call(this,{isEditing:l(this,Lt)!==ae.NONE,isEmpty:_(this,W,Cp).call(this),hasSomethingToUndo:l(this,ti).hasSomethingToUndo(),hasSomethingToRedo:l(this,ti).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,W,vF).call(this),_(this,W,AA).call(this),_(this,W,Nn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,ni)){x(this,ni,e);for(const t of l(this,ni))_(this,W,Ks).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,Yw).id}get currentLayer(){return l(this,zt).get(l(this,ch))}getLayer(e){return l(this,zt).get(e)}get currentPageIndex(){return l(this,ch)}addLayer(e){l(this,zt).set(e.pageIndex,e),l(this,Ba)?e.enable():e.disable()}removeLayer(e){l(this,zt).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var o,a,c,u,d,h;if(l(this,Lt)!==e&&!(l(this,ri)&&(await l(this,ri).promise,!l(this,ri)))){if(x(this,ri,Promise.withResolvers()),(o=l(this,La))==null||o.commitOrRemove(),l(this,Lt)===ae.POPUP&&((a=l(this,En))==null||a.hideSidebar()),(c=l(this,En))==null||c.destroyPopup(),x(this,Lt,e),e===ae.NONE){this.setEditingState(!1),_(this,W,bF).call(this);for(const f of l(this,St).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),l(this,ri).resolve();return}for(const f of l(this,St).values())f.addStandaloneCommentButton();e===ae.SIGNATURE&&await((d=l(this,Ua))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await _(this,W,wF).call(this),this.unselectAll();for(const f of l(this,zt).values())f.updateMode(e);if(e===ae.POPUP){l(this,oh)||x(this,oh,await l(this,ph).getAnnotationsByType(new Set(l(this,ni).map(y=>y._editorType))));const f=new Set,p=[];for(const y of l(this,St).values()){const{annotationElementId:m,hasComment:S,deleted:v}=y;m&&f.add(m),S&&!v&&p.push(y.getData())}for(const y of l(this,oh)){const{id:m,popupRef:S,contentsObj:v}=y;S&&(v!=null&&v.str)&&!f.has(m)&&!l(this,Oa).has(m)&&p.push(y)}(h=l(this,En))==null||h.showSidebar(p)}if(!t){r&&this.addNewEditorFromKeyboard(),l(this,ri).resolve();return}for(const f of l(this,St).values())f.uid===t?(this.setSelected(f),s?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();l(this,ri).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,Lt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(l(this,ni)){switch(e){case be.CREATE:this.currentLayer.addNewEditor(t);return;case be.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,tg)||x(this,tg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of l(this,Ie))r.updateParams(e,t);else for(const r of l(this,ni))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of l(this,St).values())o.editorType===e&&o.show(t);(((s=l(this,tg))==null?void 0:s.get(be.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,W,Ks).call(this,[[be.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Jm)!==e){x(this,Jm,e);for(const t of l(this,zt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of l(this,St).values())t.pageIndex===e&&(yield t)}getEditor(e){return l(this,St).get(e)}addEditor(e){l(this,St).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(l(this,cs)&&clearTimeout(l(this,cs)),x(this,cs,setTimeout(()=>{this.focusMainContainer(),x(this,cs,null)},0))),l(this,St).delete(e.id),e.annotationElementId&&((t=l(this,$a))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!l(this,Oa).has(e.annotationElementId))&&((r=l(this,ei))==null||r.remove(e.id))}addDeletedAnnotationElement(e){l(this,Oa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Oa).has(e)}removeDeletedAnnotationElement(e){l(this,Oa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,gr)!==e&&(x(this,gr,e),e&&_(this,W,Ks).call(this,e.propertiesToUpdate))}updateUI(e){l(this,W,SF)===e&&_(this,W,Ks).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){_(this,W,Ks).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,Ie).has(e)){l(this,Ie).delete(e),e.unselect(),_(this,W,Nn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Ie).add(e),e.select(),_(this,W,Ks).call(this,e.propertiesToUpdate),_(this,W,Nn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=l(this,La))==null||t.commitOrRemove();for(const r of l(this,Ie))r!==e&&r.unselect();l(this,Ie).clear(),l(this,Ie).add(e),e.select(),_(this,W,Ks).call(this,e.propertiesToUpdate),_(this,W,Nn).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Ie).has(e)}get firstSelectedEditor(){return l(this,Ie).values().next().value}unselect(e){e.unselect(),l(this,Ie).delete(e),_(this,W,Nn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Ie).size!==0}get isEnterHandled(){return l(this,Ie).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,ti).undo(),_(this,W,Nn).call(this,{hasSomethingToUndo:l(this,ti).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,W,Cp).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,ti).redo(),_(this,W,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,ti).hasSomethingToRedo(),isEmpty:_(this,W,Cp).call(this)})}addCommands(e){l(this,ti).add(e),_(this,W,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,W,Cp).call(this)})}cleanUndoStack(e){l(this,ti).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,Ie)],r=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const o of t)_(this,W,CA).call(this,o)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=l(this,gr))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,gr)||this.hasSelection}selectAll(){for(const e of l(this,Ie))e.commit();_(this,W,_A).call(this,l(this,St).values())}unselectAll(){var e;if(!(l(this,gr)&&(l(this,gr).commitOrRemove(),l(this,Lt)!==ae.NONE))&&!((e=l(this,La))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,Ie))t.unselect();l(this,Ie).clear(),_(this,W,Nn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;l(this,Va)[0]+=e,l(this,Va)[1]+=t;const[i,s]=l(this,Va),o=[...l(this,Ie)],a=1e3;l(this,ds)&&clearTimeout(l(this,ds)),x(this,ds,setTimeout(()=>{x(this,ds,null),l(this,Va)[0]=l(this,Va)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,St).has(c.id)&&(c.translateInPage(i,s),c.translationDone())},undo:()=>{for(const c of o)l(this,St).has(c.id)&&(c.translateInPage(-i,-s),c.translationDone())},mustExec:!1})},a));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,ls,new Map);for(const e of l(this,Ie))l(this,ls).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,ls))return!1;this.disableUserSelect(!1);const e=l(this,ls);x(this,ls,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(l(this,St).has(i.id)){const c=l(this,zt).get(a);c?i._setParentAndPosition(c,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,ls))for(const r of l(this,ls).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Ie).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,gr)===e}getActive(){return l(this,gr)}getMode(){return l(this,Lt)}isEditingMode(){return l(this,Lt)!==ae.NONE}get imageManager(){return fe(this,"imageManager",new xA)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-i)/o,y:1-(u+h-r)/s,width:f/o,height:h/s});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/s,y:1-(d+f-i)/o,width:h/s,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-i)/o,y:(u-r)/s,width:f/o,height:h/s});break;default:a=(u,d,h,f)=>({x:(u-r)/s,y:(d-i)/o,width:h/s,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:y,height:m}of h.getClientRects())y===0||m===0||c.push(a(f,p,y,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,lh)||x(this,lh,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,lh))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=l(this,lh))==null?void 0:i.get(e.data.id);if(!t)return;const r=l(this,ei).getRawValue(t);r&&(l(this,Lt)===ae.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=l(this,$a))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),l(this,$a).delete(e))}addMissingCanvas(e,t){(l(this,$a)||x(this,$a,new Map)).set(e,t)}};sh=new WeakMap,gr=new WeakMap,oh=new WeakMap,St=new WeakMap,zt=new WeakMap,ah=new WeakMap,ei=new WeakMap,lh=new WeakMap,ti=new WeakMap,En=new WeakMap,Ia=new WeakMap,La=new WeakMap,ch=new WeakMap,Oa=new WeakMap,ls=new WeakMap,ni=new WeakMap,xc=new WeakMap,Ym=new WeakMap,Qm=new WeakMap,uh=new WeakMap,Zm=new WeakMap,cs=new WeakMap,Fa=new WeakMap,dh=new WeakMap,ja=new WeakMap,us=new WeakMap,Yw=new WeakMap,Ba=new WeakMap,hh=new WeakMap,Jm=new WeakMap,za=new WeakMap,wc=new WeakMap,fh=new WeakMap,$a=new WeakMap,eg=new WeakMap,Lt=new WeakMap,Ie=new WeakMap,ao=new WeakMap,Ua=new WeakMap,Ha=new WeakMap,tg=new WeakMap,ph=new WeakMap,ng=new WeakMap,Va=new WeakMap,ds=new WeakMap,lo=new WeakMap,rg=new WeakMap,ig=new WeakMap,ri=new WeakMap,W=new WeakSet,dx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},bA=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of l(this,zt).values())if(r.hasTextLayer(e))return r;return null},fF=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=_(this,W,dx).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(l(this,us)||x(this,us,new KK(this)),l(this,us).show(r,i,this.direction==="ltr"))},pF=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,ao)&&((s=l(this,us))==null||s.hide(),x(this,ao,null),_(this,W,Nn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,ao))return;const i=_(this,W,dx).call(this,e).closest(".textLayer");if(!i){l(this,ao)&&((o=l(this,us))==null||o.hide(),x(this,ao,null),_(this,W,Nn).call(this,{hasSelectedText:!1}));return}if((a=l(this,us))==null||a.hide(),x(this,ao,t),_(this,W,Nn).call(this,{hasSelectedText:!0}),!(l(this,Lt)!==ae.HIGHLIGHT&&l(this,Lt)!==ae.NONE)&&(l(this,Lt)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,ja,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,Lt)===ae.HIGHLIGHT?_(this,W,bA).call(this,i):null;if(c==null||c.toggleDrawing(),l(this,hh)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&_(this,W,Ap).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),_(this,W,Ap).call(this,"main_toolbar")}},Ap=function(e=""){l(this,Lt)===ae.HIGHLIGHT?this.highlightSelection(e):l(this,Ym)&&_(this,W,fF).call(this)},mF=function(){document.addEventListener("selectionchange",_(this,W,pF).bind(this),{signal:this._signal})},gF=function(){if(l(this,Fa))return;x(this,Fa,new AbortController);const e=this.combinedSignal(l(this,Fa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},vF=function(){var e;(e=l(this,Fa))==null||e.abort(),x(this,Fa,null)},SA=function(){if(l(this,za))return;x(this,za,new AbortController);const e=this.combinedSignal(l(this,za));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},yF=function(){var e;(e=l(this,za))==null||e.abort(),x(this,za,null)},EA=function(){if(l(this,Ia))return;x(this,Ia,new AbortController);const e=this.combinedSignal(l(this,Ia));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},AA=function(){var e;(e=l(this,Ia))==null||e.abort(),x(this,Ia,null)},xF=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Nn=function(e){Object.entries(e).some(([r,i])=>l(this,ng)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,ng),e)}),l(this,Lt)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,W,Ks).call(this,[[be.HIGHLIGHT_FREE,!0]]))},Ks=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},wF=async function(){if(!l(this,Ba)){x(this,Ba,!0);const e=[];for(const t of l(this,zt).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,St).values())t.enable()}},bF=function(){if(this.unselectAll(),l(this,Ba)){x(this,Ba,!1);for(const e of l(this,zt).values())e.disable();for(const e of l(this,St).values())e.disable()}},CA=function(e){const t=l(this,zt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},SF=function(){let e=null;for(e of l(this,Ie));return e},Cp=function(){if(l(this,St).size===0)return!0;if(l(this,St).size===1)for(const e of l(this,St).values())return e.isEmpty();return!1},_A=function(e){for(const t of l(this,Ie))t.unselect();l(this,Ie).clear();for(const t of e)t.isEmpty()||(l(this,Ie).add(t),t.select());_(this,W,Nn).call(this,{hasSelectedEditor:this.hasSelection})},$(_d,"TRANSLATE_SMALL",1),$(_d,"TRANSLATE_BIG",10);let $l=_d;var qt,hs,Ti,mh,fs,vr,gh,ps,tr,co,bc,ms,Wa,Ui,_p,hx;const In=class In{constructor(e){A(this,Ui);A(this,qt,null);A(this,hs,!1);A(this,Ti,null);A(this,mh,null);A(this,fs,null);A(this,vr,null);A(this,gh,!1);A(this,ps,null);A(this,tr,null);A(this,co,null);A(this,bc,null);A(this,ms,!1);x(this,tr,e),x(this,ms,e._uiManager.useNewAltTextFlow),l(In,Wa)||x(In,Wa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){In._l10n??(In._l10n=e)}async render(){const e=x(this,Ti,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=x(this,mh,document.createElement("span"));e.append(t),l(this,ms)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(In,Wa).missing),t.setAttribute("data-l10n-id",l(In,Wa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=l(this,tr)._uiManager._signal;e.addEventListener("contextmenu",Gr,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),l(this,tr)._uiManager.editAltText(l(this,tr)),l(this,ms)&&l(this,tr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Ui,_p)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(x(this,gh,!0),i(s))},{signal:r}),await _(this,Ui,hx).call(this),e}finish(){l(this,Ti)&&(l(this,Ti).focus({focusVisible:l(this,gh)}),x(this,gh,!1))}isEmpty(){return l(this,ms)?l(this,qt)===null:!l(this,qt)&&!l(this,hs)}hasData(){return l(this,ms)?l(this,qt)!==null||!!l(this,co):this.isEmpty()}get guessedText(){return l(this,co)}async setGuessedText(e){l(this,qt)===null&&(x(this,co,e),x(this,bc,await In._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),_(this,Ui,hx).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,ms)||l(this,qt)){(t=l(this,ps))==null||t.remove(),x(this,ps,null);return}if(!l(this,ps)){const r=x(this,ps,document.createElement("div"));r.className="noAltTextBadge",l(this,tr).div.append(r)}l(this,ps).classList.toggle("hidden",!e)}serialize(e){let t=l(this,qt);return!e&&l(this,co)===t&&(t=l(this,bc)),{altText:t,decorative:l(this,hs),guessedText:l(this,co),textWithDisclaimer:l(this,bc)}}get data(){return{altText:l(this,qt),decorative:l(this,hs)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(x(this,co,r),x(this,bc,i)),!(l(this,qt)===e&&l(this,hs)===t)&&(s||(x(this,qt,e),x(this,hs,t)),_(this,Ui,hx).call(this))}toggle(e=!1){l(this,Ti)&&(!e&&l(this,vr)&&(clearTimeout(l(this,vr)),x(this,vr,null)),l(this,Ti).disabled=!e)}shown(){l(this,tr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Ui,_p)}})}destroy(){var e,t;(e=l(this,Ti))==null||e.remove(),x(this,Ti,null),x(this,mh,null),x(this,fs,null),(t=l(this,ps))==null||t.remove(),x(this,ps,null)}};qt=new WeakMap,hs=new WeakMap,Ti=new WeakMap,mh=new WeakMap,fs=new WeakMap,vr=new WeakMap,gh=new WeakMap,ps=new WeakMap,tr=new WeakMap,co=new WeakMap,bc=new WeakMap,ms=new WeakMap,Wa=new WeakMap,Ui=new WeakSet,_p=function(){return l(this,qt)&&"added"||l(this,qt)===null&&this.guessedText&&"review"||"missing"},hx=async function(){var i,s,o;const e=l(this,Ti);if(!e)return;if(l(this,ms)){if(e.classList.toggle("done",!!l(this,qt)),e.setAttribute("data-l10n-id",l(In,Wa)[l(this,Ui,_p)]),(i=l(this,mh))==null||i.setAttribute("data-l10n-id",l(In,Wa)[`${l(this,Ui,_p)}-label`]),!l(this,qt)){(s=l(this,fs))==null||s.remove();return}}else{if(!l(this,qt)&&!l(this,hs)){e.classList.remove("done"),(o=l(this,fs))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,fs);if(!t){x(this,fs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,tr).id}`;const a=100,c=l(this,tr)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(l(this,vr)),x(this,vr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{x(this,vr,setTimeout(()=>{x(this,vr,null),l(this,fs).classList.add("show"),l(this,tr)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;l(this,vr)&&(clearTimeout(l(this,vr)),x(this,vr,null)),(u=l(this,fs))==null||u.classList.remove("show")},{signal:c})}l(this,hs)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,qt)),t.parentNode||e.append(t);const r=l(this,tr).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},A(In,Wa,null),$(In,"_l10n",null);let Ow=In;var an,ii,Sc,Qe,sg,Ec,ki,Ac,Cc,_c,og,TA;class Ny{constructor(e){A(this,og);A(this,an,null);A(this,ii,null);A(this,Sc,!1);A(this,Qe,null);A(this,sg,null);A(this,Ec,null);A(this,ki,null);A(this,Ac,null);A(this,Cc,!1);A(this,_c,null);x(this,Qe,e)}renderForToolbar(){const e=x(this,ii,document.createElement("button"));return e.className="comment",_(this,og,TA).call(this,e,!1)}renderForStandalone(){const e=x(this,an,document.createElement("button"));e.className="annotationCommentButton";const t=l(this,Qe).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(l(this,Qe)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=l(this,Qe).commentButtonColor;i&&(r.backgroundColor=i)}return _(this,og,TA).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=l(this,an)??l(this,ii))==null||e.focus()},0)}onUpdatedColor(){if(!l(this,an))return;const e=l(this,Qe).commentButtonColor;e&&(l(this,an).style.backgroundColor=e),l(this,Qe)._uiManager.updatePopupColor(l(this,Qe))}get commentButtonWidth(){var e;return(((e=l(this,an))==null?void 0:e.getBoundingClientRect().width)??0)/l(this,Qe).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,_c))return l(this,_c);if(!l(this,an))return null;const{x:e,y:t,height:r}=l(this,an).getBoundingClientRect(),{x:i,y:s,width:o,height:a}=l(this,Qe).parent.boundingClientRect;return[(e-i)/o,(t+r-s)/a]}set commentPopupPositionInLayer(e){x(this,_c,e)}hasDefaultPopupPosition(){return l(this,_c)===null}removeStandaloneCommentButton(){var e;(e=l(this,an))==null||e.remove(),x(this,an,null)}removeToolbarCommentButton(){var e;(e=l(this,ii))==null||e.remove(),x(this,ii,null)}setCommentButtonStates({selected:e,hasPopup:t}){l(this,an)&&(l(this,an).classList.toggle("selected",e),l(this,an).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=l(this,Qe).commentButtonPosition;const{width:d,height:h,x:f,y:p}=l(this,Qe);r=f+r*d,i=p+i*h}const s=l(this,Qe).parent.boundingClientRect,{x:o,y:a,width:c,height:u}=s;l(this,Qe)._uiManager.editComment(l(this,Qe),o+r*c,a+i*u,{...e,parentDimensions:s})}finish(){l(this,ii)&&(l(this,ii).focus({focusVisible:l(this,Sc)}),x(this,Sc,!1))}isDeleted(){return l(this,Cc)||l(this,ki)===""}isEmpty(){return l(this,ki)===null}hasBeenEdited(){return this.isDeleted()||l(this,ki)!==l(this,sg)}serialize(){return this.data}get data(){return{text:l(this,ki),richText:l(this,Ec),date:l(this,Ac),deleted:this.isDeleted()}}set data(e){if(e!==l(this,ki)&&x(this,Ec,null),e===null){x(this,ki,""),x(this,Cc,!0);return}x(this,ki,e),x(this,Ac,new Date),x(this,Cc,!1)}setInitialText(e,t=null){x(this,sg,e),this.data=e,x(this,Ac,null),x(this,Ec,t)}shown(){}destroy(){var e,t;(e=l(this,ii))==null||e.remove(),x(this,ii,null),(t=l(this,an))==null||t.remove(),x(this,an,null),x(this,ki,""),x(this,Ec,null),x(this,Ac,null),x(this,Qe,null),x(this,Sc,!1),x(this,Cc,!1)}}an=new WeakMap,ii=new WeakMap,Sc=new WeakMap,Qe=new WeakMap,sg=new WeakMap,Ec=new WeakMap,ki=new WeakMap,Ac=new WeakMap,Cc=new WeakMap,_c=new WeakMap,og=new WeakSet,TA=function(e,t){if(!l(this,Qe)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[l(this,Qe)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=l(this,Qe)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Gr,{signal:r}),t&&(e.addEventListener("focusin",s=>{l(this,Qe)._focusEventsAllowed=!1,pt(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{l(this,Qe)._focusEventsAllowed=!0,pt(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===l(this,ii)?this.edit():l(this,Qe).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(x(this,Sc,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{l(this,Qe).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{l(this,Qe).toggleComment(!1,!1)},{signal:r}),e};var vh,Tc,ag,lg,cg,ug,dg,uo,kc,ho,Pc,fo,Ul,EF,AF,CF;const eT=class eT{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){A(this,Ul);A(this,vh);A(this,Tc,!1);A(this,ag,null);A(this,lg);A(this,cg);A(this,ug);A(this,dg);A(this,uo,null);A(this,kc);A(this,ho,null);A(this,Pc);A(this,fo,null);x(this,vh,e),x(this,ag,r),x(this,lg,t),x(this,cg,i),x(this,ug,s),x(this,dg,o),x(this,Pc,new AbortController),x(this,kc,AbortSignal.any([a,l(this,Pc).signal])),e.addEventListener("touchstart",_(this,Ul,EF).bind(this),{passive:!1,signal:l(this,kc)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Xi.pixelRatio}destroy(){var e,t;(e=l(this,Pc))==null||e.abort(),x(this,Pc,null),(t=l(this,uo))==null||t.abort(),x(this,uo,null)}};vh=new WeakMap,Tc=new WeakMap,ag=new WeakMap,lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,dg=new WeakMap,uo=new WeakMap,kc=new WeakMap,ho=new WeakMap,Pc=new WeakMap,fo=new WeakMap,Ul=new WeakSet,EF=function(e){var i,s,o;if((i=l(this,lg))!=null&&i.call(this))return;if(e.touches.length===1){if(l(this,uo))return;const a=x(this,uo,new AbortController),c=AbortSignal.any([l(this,kc),a.signal]),u=l(this,vh),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=l(this,uo))==null||p.abort(),x(this,uo,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(pt(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!l(this,fo)){x(this,fo,new AbortController);const a=AbortSignal.any([l(this,kc),l(this,fo).signal]),c=l(this,vh),u={signal:a,capture:!1,passive:!1};c.addEventListener("touchmove",_(this,Ul,AF).bind(this),u);const d=_(this,Ul,CF).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",pt,u),c.addEventListener("pointermove",pt,u),c.addEventListener("pointercancel",pt,u),c.addEventListener("pointerup",pt,u),(s=l(this,cg))==null||s.call(this)}if(pt(e),e.touches.length!==2||(o=l(this,ag))!=null&&o.call(this)){x(this,ho,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),x(this,ho,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},AF=function(e){var C;if(!l(this,ho)||e.touches.length!==2)return;pt(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,c=l(this,ho),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,y=f-d,m=o-i,S=a-s,v=Math.hypot(m,S)||1,b=Math.hypot(p,y)||1;if(!l(this,Tc)&&Math.abs(b-v)<=eT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=s,c.touch1X=o,c.touch1Y=a,!l(this,Tc)){x(this,Tc,!0);return}const E=[(i+o)/2,(s+a)/2];(C=l(this,ug))==null||C.call(this,E,b,v)},CF=function(e){var t;e.touches.length>=2||(l(this,fo)&&(l(this,fo).abort(),x(this,fo,null),(t=l(this,dg))==null||t.call(this)),l(this,ho)&&(pt(e),x(this,ho,null),x(this,Tc,!1)))};let Lm=eT;var Rc,Pi,ot,We,po,yh,Ga,hg,ln,Dc,mo,gs,qa,fg,Mc,yr,pg,Nc,go,vs,xh,wh,si,Ic,mg,Qw,ie,kA,gg,PA,fx,_F,TF,RA,px,DA,kF,PF,RF,MA,DF,NA,MF,NF,IF,IA,Tp;const ue=class ue{constructor(e){A(this,ie);A(this,Rc,null);A(this,Pi,null);A(this,ot,null);A(this,We,null);A(this,po,null);A(this,yh,!1);A(this,Ga,null);A(this,hg,"");A(this,ln,null);A(this,Dc,null);A(this,mo,null);A(this,gs,null);A(this,qa,null);A(this,fg,"");A(this,Mc,!1);A(this,yr,null);A(this,pg,!1);A(this,Nc,!1);A(this,go,!1);A(this,vs,null);A(this,xh,0);A(this,wh,0);A(this,si,null);A(this,Ic,null);$(this,"isSelected",!1);$(this,"_isCopy",!1);$(this,"_editToolbar",null);$(this,"_initialOptions",Object.create(null));$(this,"_initialData",null);$(this,"_isVisible",!0);$(this,"_uiManager",null);$(this,"_focusEventsAllowed",!0);A(this,mg,!1);A(this,Qw,ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,c]=this.parentDimensions;this.x=e.x/a,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ue.prototype._resizeWithKeyboard,t=$l.TRANSLATE_SMALL,r=$l.TRANSLATE_BIG;return fe(this,"_resizerKeyboardManager",new Zv([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return fe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new QK({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ue._l10n??(ue._l10n=e),ue._l10nResizer||(ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ue._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,mg)}set _isDraggable(e){var t;x(this,mg,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Qw)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(_(this,ie,Tp).call(this),(t=l(this,gs))==null||t.remove(),x(this,gs,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,Mc)?x(this,Mc,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){_(this,ie,kA).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,yr)||x(this,yr,[this.x,this.y,this.width,this.height]),_(this,ie,kA).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,yr)||x(this,yr,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[c,u]=this.getBaseTranslation();o+=c,a+=u;const{style:d}=r;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,yr)&&(l(this,yr)[0]!==this.x||l(this,yr)[1]!==this.y)}get _hasBeenResized(){return!!l(this,yr)&&(l(this,yr)[2]!==this.width||l(this,yr)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=ue,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:c}=this;if(a*=r,c*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=kn(s,0,r-a),o=kn(o,0,i-c);break;case 90:s=kn(s,0,r-c),o=kn(o,a,i);break;case 180:s=kn(s,a,r),o=kn(o,c,i);break;case 270:s=kn(s,c,r),o=kn(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[u,d]=this.getBaseTranslation();s+=u,o+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return _(r=ue,gg,PA).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return _(r=ue,gg,PA).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,ot))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,Nc))return this._editToolbar;this._editToolbar=new vA(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=l(this,ot))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,ot)||(Ow.initialize(ue._l10n),x(this,ot,new Ow(this)),l(this,Rc)&&(l(this,ot).data=l(this,Rc),x(this,Rc,null))),l(this,ot)}get altTextData(){var e;return(e=l(this,ot))==null?void 0:e.data}set altTextData(e){l(this,ot)&&(l(this,ot).data=e)}get guessedAltText(){var e;return(e=l(this,ot))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,ot))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,ot))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,ot)&&!l(this,ot).isEmpty()}hasAltTextData(){var e;return((e=l(this,ot))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=l(this,We))==null||e.focusButton()}addCommentButton(){return l(this,We)||x(this,We,new Ny(this))}addStandaloneCommentButton(){if(l(this,po)){this._uiManager.isEditingMode()&&l(this,po).classList.remove("hidden");return}this.hasComment&&(x(this,po,l(this,We).renderForStandalone()),this.div.append(l(this,po)))}removeStandaloneCommentButton(){l(this,We).removeStandaloneCommentButton(),x(this,po,null)}hideStandaloneCommentButton(){var e;(e=l(this,po))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=l(this,We);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){l(this,We)||x(this,We,new Ny(this)),l(this,We).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(l(this,We)||x(this,We,new Ny(this)),l(this,We).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=l(this,We))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=l(this,We))==null?void 0:e.isDeleted()}get hasComment(){return!!l(this,We)&&!l(this,We).isEmpty()&&!l(this,We).isDeleted()}async editComment(e){l(this,We)||x(this,We,new Ny(this)),l(this,We).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){l(this,We).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,a=o+s+1,c=i-100,u=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,c,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){l(this,We).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,yh)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),_(this,ie,NA).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),dF(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,Ic)||x(this,Ic,new Lm({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:_(this,ie,kF).bind(this),onPinching:_(this,ie,PF).bind(this),onPinchEnd:_(this,ie,RF).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(x(this,Mc,!0),this._isDraggable){_(this,ie,DF).call(this,e);return}_(this,ie,MA).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,vs)&&clearTimeout(l(this,vs)),x(this,vs,setTimeout(()=>{var e;x(this,vs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,c]=this.pageTranslation,u=e/i,d=t/i,h=this.x*s,f=this.y*o,p=this.width*s,y=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-y+c,h+u+p+a,o-f-d+c];case 90:return[h+d+a,o-f+u+c,h+d+y+a,o-f+u+p+c];case 180:return[h-u-p+a,o-f+d+c,h-u+a,o-f+d+y+c];case 270:return[h-d-y+a,o-f-u-p+c,h-d+a,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,c=o-i;switch(this.rotation){case 0:return[r,t-o,a,c];case 90:return[r,t-i,c,a];case 180:return[s,t-i,a,c];case 270:return[s,t-o,c,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ue._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=l(this,We))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:o},uid:a,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:a,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:r||d,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),x(this,Nc,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),x(this,Nc,!1),!0):!1}isInEditMode(){return l(this,Nc)}shouldGetKeyboardEvents(){return l(this,go)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}rebuild(){_(this,ie,NA).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,x(i,Rc,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,c,u,d]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=c/o,i.width=u/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,qa))==null||e.abort(),x(this,qa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,vs)&&(clearTimeout(l(this,vs)),x(this,vs,null)),_(this,ie,Tp).call(this),this.removeEditToolbar(),l(this,si)){for(const r of l(this,si).values())clearTimeout(r);x(this,si,null)}this.parent=null,(t=l(this,Ic))==null||t.destroy(),x(this,Ic,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,ie,_F).call(this),l(this,ln).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,o]=this.getPDFRect();return[ue._round(r+(s-r)*e),ue._round(i+(o-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,We).commentPopupPositionInLayer}set commentPopupPosition(e){l(this,We).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return l(this,We).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,We).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){l(this,We).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),x(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,ln).children;if(!l(this,Pi)){x(this,Pi,Array.from(t));const o=_(this,ie,MF).bind(this),a=_(this,ie,NF).bind(this),c=this._uiManager._signal;for(const u of l(this,Pi)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",a,{signal:c}),u.addEventListener("focus",_(this,ie,IF).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",ue._l10nResizer[d])}}const r=l(this,Pi)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(l(this,Pi).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)l(this,ln).append(l(this,ln).firstChild);else if(s>i)for(let a=0;a<s-i;a++)l(this,ln).firstChild.before(l(this,ln).lastChild);let o=0;for(const a of t){const u=l(this,Pi)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",ue._l10nResizer[u])}}_(this,ie,IA).call(this,0),x(this,go,!0),l(this,ln).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,go)&&_(this,ie,DA).call(this,l(this,fg),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){_(this,ie,Tp).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=l(this,ot))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=l(this,ln))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=l(this,ot))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,pg)}set isEditing(e){x(this,pg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,si)||x(this,si,new Map);const{action:r}=e;let i=l(this,si).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),l(this,si).delete(r),l(this,si).size===0&&x(this,si,null)},ue._telemetryTimeout),l(this,si).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),x(this,yh,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,yh,!0)}updateFakeAnnotationElement(e){if(!l(this,gs)&&!this.deleted){x(this,gs,e.addFakeAnnotation(this));return}if(this.deleted){l(this,gs).remove(),x(this,gs,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,gs).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Rc=new WeakMap,Pi=new WeakMap,ot=new WeakMap,We=new WeakMap,po=new WeakMap,yh=new WeakMap,Ga=new WeakMap,hg=new WeakMap,ln=new WeakMap,Dc=new WeakMap,mo=new WeakMap,gs=new WeakMap,qa=new WeakMap,fg=new WeakMap,Mc=new WeakMap,yr=new WeakMap,pg=new WeakMap,Nc=new WeakMap,go=new WeakMap,vs=new WeakMap,xh=new WeakMap,wh=new WeakMap,si=new WeakMap,Ic=new WeakMap,mg=new WeakMap,Qw=new WeakMap,ie=new WeakSet,kA=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},gg=new WeakSet,PA=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},fx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},_F=function(){if(l(this,ln))return;x(this,ln,document.createElement("div")),l(this,ln).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");l(this,ln).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",_(this,ie,TF).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Gr,{signal:t}),i.tabIndex=-1}this.div.prepend(l(this,ln))},TF=function(e,t){var d;t.preventDefault();const{isMac:r}=rn.platform;if(t.button!==0||t.ctrlKey&&r)return;(d=l(this,ot))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,x(this,Dc,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,ie,DA).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",pt,{passive:!1,signal:o}),window.addEventListener("contextmenu",Gr,{signal:o}),x(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=l(this,ot))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=c,_(this,ie,px).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},RA=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},px=function(){if(!l(this,mo))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=l(this,mo);x(this,mo,null);const s=this.x,o=this.y,a=this.width,c=this.height;s===e&&o===t&&a===r&&c===i||this.addCommands({cmd:_(this,ie,RA).bind(this,s,o,a,c),undo:_(this,ie,RA).bind(this,e,t,r,i),mustExec:!0})},DA=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,c=this.height,u=ue.MIN_SIZE/r,d=ue.MIN_SIZE/i,h=_(this,ie,fx).call(this,this.rotation),f=(j,B)=>[h[0]*j+h[2]*B,h[1]*j+h[3]*B],p=_(this,ie,fx).call(this,360-this.rotation),y=(j,B)=>[p[0]*j+p[2]*B,p[1]*j+p[3]*B];let m,S,v=!1,b=!1;switch(e){case"topLeft":v=!0,m=(j,B)=>[0,0],S=(j,B)=>[j,B];break;case"topMiddle":m=(j,B)=>[j/2,0],S=(j,B)=>[j/2,B];break;case"topRight":v=!0,m=(j,B)=>[j,0],S=(j,B)=>[0,B];break;case"middleRight":b=!0,m=(j,B)=>[j,B/2],S=(j,B)=>[0,B/2];break;case"bottomRight":v=!0,m=(j,B)=>[j,B],S=(j,B)=>[0,0];break;case"bottomMiddle":m=(j,B)=>[j/2,B],S=(j,B)=>[j/2,0];break;case"bottomLeft":v=!0,m=(j,B)=>[0,B],S=(j,B)=>[j,0];break;case"middleLeft":b=!0,m=(j,B)=>[0,B/2],S=(j,B)=>[j,B/2];break}const E=m(a,c),C=S(a,c);let T=f(...C);const k=ue._round(s+T[0]),P=ue._round(o+T[1]);let R=1,M=1,D,N;if(t.fromKeyboard)({deltaX:D,deltaY:N}=t);else{const{screenX:j,screenY:B}=t,[I,O]=l(this,Dc);[D,N]=this.screenToPageTranslation(j-I,B-O),l(this,Dc)[0]=j,l(this,Dc)[1]=B}if([D,N]=y(D/r,N/i),v){const j=Math.hypot(a,c);R=M=Math.max(Math.min(Math.hypot(C[0]-E[0]-D,C[1]-E[1]-N)/j,1/a,1/c),u/a,d/c)}else b?R=kn(Math.abs(C[0]-E[0]-D),u,1)/a:M=kn(Math.abs(C[1]-E[1]-N),d,1)/c;const F=ue._round(a*R),z=ue._round(c*M);T=f(...S(F,z));const L=k-T[0],U=P-T[1];l(this,yr)||x(this,yr,[this.x,this.y,this.width,this.height]),this.width=F,this.height=z,this.x=L,this.y=U,this.setDims(),this.fixAndSetPosition(),this._onResizing()},kF=function(){var e;x(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,ot))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},PF=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=_(this,ie,fx).call(this,this.rotation),a=(k,P)=>[o[0]*k+o[2]*P,o[1]*k+o[3]*P],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,y=ue.MIN_SIZE/c,m=ue.MIN_SIZE/u;s=Math.max(Math.min(s,1/f,1/p),y/f,m/p);const S=ue._round(f*s),v=ue._round(p*s);if(S===f&&v===p)return;l(this,yr)||x(this,yr,[d,h,f,p]);const b=a(f/2,p/2),E=ue._round(d+b[0]),C=ue._round(h+b[1]),T=a(S/2,v/2);this.x=E-T[0],this.y=C-T[1],this.width=S,this.height=v,this.setDims(),this.fixAndSetPosition(),this._onResizing()},RF=function(){var e;(e=l(this,ot))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),_(this,ie,px).call(this)},MA=function(e){const{isMac:t}=rn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},DF=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=u=>{i.abort(),x(this,Ga,null),x(this,Mc,!1),this._uiManager.endDragSession()||_(this,ie,MA).call(this,u),r&&this._onStopDragging()};t&&(x(this,xh,e.clientX),x(this,wh,e.clientY),x(this,Ga,e.pointerId),x(this,hg,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==l(this,Ga)){pt(u);return}const[p,y]=this.screenToPageTranslation(d-l(this,xh),h-l(this,wh));x(this,xh,d),x(this,wh,h),this._uiManager.dragSelectedEditors(p,y)},o),window.addEventListener("touchmove",pt,o),window.addEventListener("pointerdown",u=>{u.pointerType===l(this,hg)&&(l(this,Ic)||u.isPrimary)&&a(u),pt(u)},o));const c=u=>{if(!l(this,Ga)||l(this,Ga)===u.pointerId){a(u);return}pt(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},NA=function(){if(l(this,qa)||!this.div)return;x(this,qa,new AbortController);const e=this._uiManager.combinedSignal(l(this,qa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},MF=function(e){ue._resizerKeyboardManager.exec(this,e)},NF=function(e){var t;l(this,go)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,ln)&&_(this,ie,Tp).call(this)},IF=function(e){x(this,fg,l(this,go)?e:"")},IA=function(e){if(l(this,Pi))for(const t of l(this,Pi))t.tabIndex=e},Tp=function(){x(this,go,!1),_(this,ie,IA).call(this,-1),_(this,ie,px).call(this)},A(ue,gg),$(ue,"_l10n",null),$(ue,"_l10nResizer",null),$(ue,"_borderLineWidth",-1),$(ue,"_colorManager",new wA),$(ue,"_zIndex",1),$(ue,"_telemetryTimeout",1e3);let Je=ue;class QK extends Je{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const KP=3285377520,Xr=4294901760,ns=65535;class LF{constructor(e){this.h1=e?e&4294967295:KP,this.h2=e?e&4294967295:KP}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let m=0,S=e.length;m<S;m++){const v=e.charCodeAt(m);v<=255?t[r++]=v:(t[r++]=v>>>8,t[r++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&ns,y=f&ns;for(let m=0;m<i;m++)m&1?(a=o[m],a=a*h&Xr|a*p&ns,a=a<<15|a>>>17,a=a*f&Xr|a*y&ns,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[m],c=c*h&Xr|c*p&ns,c=c<<15|c>>>17,c=c*f&Xr|c*y&ns,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*h&Xr|a*p&ns,a=a<<15|a>>>17,a=a*f&Xr|a*y&ns,i&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xr|e*36045&ns,t=t*4283543511&Xr|((t<<16|e>>>16)*2950163797&Xr)>>>16,e^=t>>>1,e=e*444984403&Xr|e*60499&ns,t=t*3301882366&Xr|((t<<16|e>>>16)*3120437893&Xr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const LA=Object.freeze({map:null,hash:"",transfer:void 0});var Lc,Oc,vo,cn,Zw,OF;class H_{constructor(){A(this,Zw);A(this,Lc,!1);A(this,Oc,null);A(this,vo,null);A(this,cn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=l(this,cn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return l(this,cn).get(e)}remove(e){const t=l(this,cn).get(e);if(t!==void 0&&(t instanceof Je&&l(this,vo).delete(t.annotationElementId),l(this,cn).delete(e),l(this,cn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of l(this,cn).values())if(r instanceof Je)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=l(this,cn).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,l(this,cn).set(e,t);i&&_(this,Zw,OF).call(this),t instanceof Je&&((l(this,vo)||x(this,vo,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return l(this,cn).has(e)}get size(){return l(this,cn).size}resetModified(){l(this,Lc)&&(x(this,Lc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new FF(this)}get serializable(){if(l(this,cn).size===0)return LA;const e=new Map,t=new LF,r=[],i=Object.create(null);let s=!1;for(const[o,a]of l(this,cn)){const c=a instanceof Je?a.serialize(!1,i):a;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:LA}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of l(this,cn).values()){if(!(s instanceof Je)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:a}=o;t.has(a)||t.set(a,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const c=e[a]||(e[a]=new Map);for(const[u,d]of Object.entries(o)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const f=h.get(d)??0;h.set(d,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){x(this,Oc,null)}updateEditor(e,t){var i;const r=(i=l(this,vo))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=l(this,vo))==null?void 0:t.get(e))||null}get modifiedIds(){if(l(this,Oc))return l(this,Oc);const e=[];if(l(this,vo))for(const t of l(this,vo).values())t.serialize()&&e.push(t.annotationElementId);return x(this,Oc,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,cn).entries()}}Lc=new WeakMap,Oc=new WeakMap,vo=new WeakMap,cn=new WeakMap,Zw=new WeakSet,OF=function(){l(this,Lc)||(x(this,Lc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var vg;class FF extends H_{constructor(t){super();A(this,vg);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);x(this,vg,{map:o,hash:i,transfer:s})}get print(){Xe("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,vg)}get modifiedIds(){return fe(this,"modifiedIds",{ids:new Set,hash:""})}}vg=new WeakMap;var bh;class ZK{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){A(this,bh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,bh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||l(this,bh).has(e.loadedName))){if(Ee(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),l(this,bh).add(i),r==null||r(e)}catch{le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw le(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return fe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return fe(this,"isSyncFontLoadingSupported",zn||rn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ee(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return fe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(C,T){return C.charCodeAt(T)<<24|C.charCodeAt(T+1)<<16|C.charCodeAt(T+2)<<8|C.charCodeAt(T+3)&255}function i(C,T,k,P){const R=C.substring(0,T),M=C.substring(T+k);return R+P+M}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let u=0;function d(C,T){if(++u>30){le("Load test font never loaded."),T();return}if(c.font="30px "+C,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,C,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const y=16,m=1482184792;let S=r(f,y);for(s=0,o=h.length-3;s<o;s+=4)S=S-m+r(h,s)|0;s<h.length&&(S=S-m+r(h+"XXX",s)|0),f=i(f,y,4,BK(S));const v=`url(data:font/opentype;base64,${btoa(f)});`,b=`@font-face {font-family:"${h}";src:${v}}`;this.insertRule(b);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const C of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=C,E.append(T)}this._document.body.append(E),d(h,()=>{E.remove(),t.complete()})}}bh=new WeakMap;var Fe;class JK{constructor(e,t=null,r,i){A(this,Fe);this.compiledGlyphs=Object.create(null),x(this,Fe,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${JO(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){le(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return l(this,Fe).black}get bold(){return l(this,Fe).bold}get disableFontFace(){return l(this,Fe).disableFontFace??!1}get fontExtraProperties(){return l(this,Fe).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,Fe).isInvalidPDFjsFont}get isType3Font(){return l(this,Fe).isType3Font}get italic(){return l(this,Fe).italic}get missingFile(){return l(this,Fe).missingFile}get remeasure(){return l(this,Fe).remeasure}get vertical(){return l(this,Fe).vertical}get ascent(){return l(this,Fe).ascent}get defaultWidth(){return l(this,Fe).defaultWidth}get descent(){return l(this,Fe).descent}get bbox(){return l(this,Fe).bbox}get fontMatrix(){return l(this,Fe).fontMatrix}get fallbackName(){return l(this,Fe).fallbackName}get loadedName(){return l(this,Fe).loadedName}get mimetype(){return l(this,Fe).mimetype}get name(){return l(this,Fe).name}get data(){return l(this,Fe).data}clearData(){l(this,Fe).clearData()}get cssFontInfo(){return l(this,Fe).cssFontInfo}get systemFontInfo(){return l(this,Fe).systemFontInfo}get defaultVMetrics(){return l(this,Fe).defaultVMetrics}}Fe=new WeakMap;function eX(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(zn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function tX(n){if(zn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Xv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Iy(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const OA=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,nX=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",jF=HK.bind(null,OA,nX);var yo,Jw;class rX{constructor(){A(this,yo,new Map);A(this,Jw,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};l(this,Jw).then(()=>{for(const[i]of l(this,yo))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){le("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}l(this,yo).set(t,i)}removeEventListener(e,t){const r=l(this,yo).get(t);r==null||r(),l(this,yo).delete(t)}terminate(){for(const[,e]of l(this,yo))e==null||e();l(this,yo).clear()}}yo=new WeakMap,Jw=new WeakMap;const Ly={DATA:1,ERROR:2},It={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function XP(){}function Qn(n){if(n instanceof ra||n instanceof Iw||n instanceof $P||n instanceof Mm||n instanceof _S)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ra(n.message);case"InvalidPDFException":return new Iw(n.message);case"PasswordException":return new $P(n.message,n.code);case"ResponseException":return new Mm(n.message,n.status,n.missing);case"UnknownErrorException":return new _S(n.message,n.details)}return new _S(n.message,n.toString())}var Sh,gi,BF,zF,$F,mx;class kp{constructor(e,t,r){A(this,gi);A(this,Sh,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",_(this,gi,BF).bind(this),{signal:l(this,Sh).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:o,targetName:a,stream:It.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ee(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:It.CANCEL,streamId:s,reason:Qn(u)}),d.promise}},r)}destroy(){var e;(e=l(this,Sh))==null||e.abort(),x(this,Sh,null)}}Sh=new WeakMap,gi=new WeakSet,BF=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){_(this,gi,$F).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Ly.DATA)i.resolve(e.data);else if(e.callback===Ly.ERROR)i.reject(Qn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:Ly.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:Ly.ERROR,callbackId:e.callbackId,reason:Qn(o)})});return}if(e.streamId){_(this,gi,zF).call(this,e);return}t(e.data)},zF=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:It.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:It.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){Ee(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:It.ERROR,streamId:t,reason:Qn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(a,e.data,c).then(function(){s.postMessage({sourceName:r,targetName:i,stream:It.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:It.START_COMPLETE,streamId:t,reason:Qn(u)})})},$F=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case It.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Qn(e.reason));break;case It.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Qn(e.reason));break;case It.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:It.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||XP).then(function(){s.postMessage({sourceName:r,targetName:i,stream:It.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:It.PULL_COMPLETE,streamId:t,reason:Qn(u)})});break;case It.ENQUEUE:if(Ee(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case It.CLOSE:if(Ee(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),_(this,gi,mx).call(this,o,t);break;case It.ERROR:Ee(o,"error should have stream controller"),o.controller.error(Qn(e.reason)),_(this,gi,mx).call(this,o,t);break;case It.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Qn(e.reason)),_(this,gi,mx).call(this,o,t);break;case It.CANCEL:if(!a)break;const c=Qn(e.reason);Promise.try(a.onCancel||XP,c).then(function(){s.postMessage({sourceName:r,targetName:i,stream:It.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:It.CANCEL_COMPLETE,streamId:t,reason:Qn(u)})}),a.sinkCapability.reject(c),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},mx=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var yg;class UF{constructor({enableHWA:e=!1}){A(this,yg,!1);x(this,yg,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!l(this,yg)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Xe("Abstract method `_createCanvas` called.")}}yg=new WeakMap;class iX extends UF{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class HF{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Xe("Abstract method `_fetch` called.")}}class YP extends HF{async _fetch(e){const t=await Jf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Xv(t)}}class VF{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Fc,Eh,xo,wo,An,jc,Bc,K,bn,Pp,ad,gx,ld,WF,FA,cd,Rp,Dp,jA,Mp;class sX extends VF{constructor({docId:t,ownerDocument:r=globalThis.document}){super();A(this,K);A(this,Fc);A(this,Eh);A(this,xo);A(this,wo);A(this,An);A(this,jc);A(this,Bc,0);x(this,wo,t),x(this,An,r)}addFilter(t){if(!t)return"none";let r=l(this,K,bn).get(t);if(r)return r;const[i,s,o]=_(this,K,gx).call(this,t),a=t.length===1?i:`${i}${s}${o}`;if(r=l(this,K,bn).get(a),r)return l(this,K,bn).set(t,r),r;const c=`g_${l(this,wo)}_transfer_map_${wt(this,Bc)._++}`,u=_(this,K,ld).call(this,c);l(this,K,bn).set(t,u),l(this,K,bn).set(a,u);const d=_(this,K,cd).call(this,c);return _(this,K,Dp).call(this,i,s,o,d),u}addHCMFilter(t,r){var y;const i=`${t}-${r}`,s="base";let o=l(this,K,Pp).get(s);if((o==null?void 0:o.key)===i||(o?((y=o.filter)==null||y.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},l(this,K,Pp).set(s,o)),!t||!r))return o.url;const a=_(this,K,Mp).call(this,t);t=Y.makeHexColor(...a);const c=_(this,K,Mp).call(this,r);if(r=Y.makeHexColor(...c),l(this,K,ad).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let m=0;m<=255;m++){const S=m/255;u[m]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const d=u.join(","),h=`g_${l(this,wo)}_hcm_filter`,f=o.filter=_(this,K,cd).call(this,h);_(this,K,Dp).call(this,d,d,d,f),_(this,K,FA).call(this,f);const p=(m,S)=>{const v=a[m]/255,b=c[m]/255,E=new Array(S+1);for(let C=0;C<=S;C++)E[C]=v+C/S*(b-v);return E.join(",")};return _(this,K,Dp).call(this,p(0,5),p(1,5),p(2,5),f),o.url=_(this,K,ld).call(this,h),o.url}addAlphaFilter(t){let r=l(this,K,bn).get(t);if(r)return r;const[i]=_(this,K,gx).call(this,[t]),s=`alpha_${i}`;if(r=l(this,K,bn).get(s),r)return l(this,K,bn).set(t,r),r;const o=`g_${l(this,wo)}_alpha_map_${wt(this,Bc)._++}`,a=_(this,K,ld).call(this,o);l(this,K,bn).set(t,a),l(this,K,bn).set(s,a);const c=_(this,K,cd).call(this,o);return _(this,K,jA).call(this,i,c),a}addLuminosityFilter(t){let r=l(this,K,bn).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=_(this,K,gx).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=l(this,K,bn).get(s),r)return l(this,K,bn).set(t,r),r;const o=`g_${l(this,wo)}_luminosity_map_${wt(this,Bc)._++}`,a=_(this,K,ld).call(this,o);l(this,K,bn).set(t,a),l(this,K,bn).set(s,a);const c=_(this,K,cd).call(this,o);return _(this,K,WF).call(this,c),t&&_(this,K,jA).call(this,i,c),a}addHighlightHCMFilter(t,r,i,s,o){var b;const a=`${r}-${i}-${s}-${o}`;let c=l(this,K,Pp).get(t);if((c==null?void 0:c.key)===a||(c?((b=c.filter)==null||b.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,K,Pp).set(t,c)),!r||!i))return c.url;const[u,d]=[r,i].map(_(this,K,Mp).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,y]=[s,o].map(_(this,K,Mp).bind(this));f<h&&([h,f,p,y]=[f,h,y,p]),l(this,K,ad).style.color="";const m=(E,C,T)=>{const k=new Array(256),P=(f-h)/T,R=E/255,M=(C-E)/(255*T);let D=0;for(let N=0;N<=T;N++){const F=Math.round(h+N*P),z=R+N*M;for(let L=D;L<=F;L++)k[L]=z;D=F+1}for(let N=D;N<256;N++)k[N]=k[D-1];return k.join(",")},S=`g_${l(this,wo)}_hcm_${t}_filter`,v=c.filter=_(this,K,cd).call(this,S);return _(this,K,FA).call(this,v),_(this,K,Dp).call(this,m(p[0],y[0],5),m(p[1],y[1],5),m(p[2],y[2],5),v),c.url=_(this,K,ld).call(this,S),c.url}destroy(t=!1){var r,i,s,o;t&&((r=l(this,jc))!=null&&r.size)||((i=l(this,xo))==null||i.parentNode.parentNode.remove(),x(this,xo,null),(s=l(this,Eh))==null||s.clear(),x(this,Eh,null),(o=l(this,jc))==null||o.clear(),x(this,jc,null),x(this,Bc,0))}}Fc=new WeakMap,Eh=new WeakMap,xo=new WeakMap,wo=new WeakMap,An=new WeakMap,jc=new WeakMap,Bc=new WeakMap,K=new WeakSet,bn=function(){return l(this,Eh)||x(this,Eh,new Map)},Pp=function(){return l(this,jc)||x(this,jc,new Map)},ad=function(){if(!l(this,xo)){const t=l(this,An).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=l(this,An).createElementNS(qs,"svg");i.setAttribute("width",0),i.setAttribute("height",0),x(this,xo,l(this,An).createElementNS(qs,"defs")),t.append(i),i.append(l(this,xo)),l(this,An).body.append(t)}return l(this,xo)},gx=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=t,o=new Array(256),a=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,c[u]=s[u]/255;return[o.join(","),a.join(","),c.join(",")]},ld=function(t){if(l(this,Fc)===void 0){x(this,Fc,"");const r=l(this,An).URL;r!==l(this,An).baseURI&&(Qv(r)?le('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,Fc,j_(r,"")))}return`url(${l(this,Fc)}#${t})`},WF=function(t){const r=l(this,An).createElementNS(qs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},FA=function(t){const r=l(this,An).createElementNS(qs,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},cd=function(t){const r=l(this,An).createElementNS(qs,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),l(this,K,ad).append(r),r},Rp=function(t,r,i){const s=l(this,An).createElementNS(qs,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Dp=function(t,r,i,s){const o=l(this,An).createElementNS(qs,"feComponentTransfer");s.append(o),_(this,K,Rp).call(this,o,"feFuncR",t),_(this,K,Rp).call(this,o,"feFuncG",r),_(this,K,Rp).call(this,o,"feFuncB",i)},jA=function(t,r){const i=l(this,An).createElementNS(qs,"feComponentTransfer");r.append(i),_(this,K,Rp).call(this,i,"feFuncA",t)},Mp=function(t){return l(this,K,ad).style.color=t,ep(getComputedStyle(l(this,K,ad)).getPropertyValue("color"))};class GF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Xe("Abstract method `_fetch` called.")}}class QP extends GF{async _fetch(e){const t=await Jf(e,"arraybuffer");return new Uint8Array(t)}}class qF{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Xe("Abstract method `_fetch` called.")}}class ZP extends qF{async _fetch(e){const t=await Jf(e,"arraybuffer");return new Uint8Array(t)}}zn&&le("Please use the `legacy` build in Node.js environments.");async function V_(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class oX extends VF{}class aX extends UF{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class lX extends HF{async _fetch(e){return V_(e)}}class cX extends GF{async _fetch(e){return V_(e)}}class uX extends qF{async _fetch(e){return V_(e)}}const rd="__forcedDependency",{floor:JP,ceil:eR}=Math;function Oy(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const BA=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Ah,Ka;class dX{constructor(e,t){A(this,Ah);A(this,Ka);x(this,Ah,e),x(this,Ka,t)}get length(){return l(this,Ah).length}isEmpty(e){return l(this,Ah)[e]===BA}minX(e){return l(this,Ka)[e*4+0]/256}minY(e){return l(this,Ka)[e*4+1]/256}maxX(e){return(l(this,Ka)[e*4+2]+1)/256}maxY(e){return(l(this,Ka)[e*4+3]+1)/256}}Ah=new WeakMap,Ka=new WeakMap;const Fy=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var nr,rr,zc,Ri,$c,bo,Le,je,So,ir,xg,Ch,Uc,Hc,Eo,Cn,ys,wg,zA;class hX{constructor(e,t,r=!1){A(this,wg);A(this,nr,{__proto__:null});A(this,rr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[rd]:[]});A(this,zc,new Map);A(this,Ri,[]);A(this,$c,[]);A(this,bo,[[1,0,0,1,0,0]]);A(this,Le,[-1/0,-1/0,1/0,1/0]);A(this,je,new Float64Array([1/0,1/0,-1/0,-1/0]));A(this,So,-1);A(this,ir,new Set);A(this,xg,new Map);A(this,Ch,new Map);A(this,Uc);A(this,Hc);A(this,Eo);A(this,Cn);A(this,ys);x(this,Uc,e.width),x(this,Hc,e.height),_(this,wg,zA).call(this,t),r&&x(this,ys,new Map)}growOperationsCount(e){e>=l(this,Cn).length&&_(this,wg,zA).call(this,e,l(this,Cn))}save(e){return x(this,nr,{__proto__:l(this,nr)}),x(this,rr,{__proto__:l(this,rr),transform:{__proto__:l(this,rr).transform},moveText:{__proto__:l(this,rr).moveText},sameLineText:{__proto__:l(this,rr).sameLineText},[rd]:{__proto__:l(this,rr)[rd]}}),x(this,Le,{__proto__:l(this,Le)}),l(this,Ri).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(l(this,nr));if(t===null)return this;x(this,nr,t),x(this,rr,Object.getPrototypeOf(l(this,rr))),x(this,Le,Object.getPrototypeOf(l(this,Le)));const r=l(this,Ri).pop();return r!==void 0&&((i=Fy(l(this,ys),e))==null||i.dependencies.add(r),l(this,Cn)[e]=l(this,Cn)[r]),this}recordOpenMarker(e){return l(this,Ri).push(e),this}getOpenMarker(){return l(this,Ri).length===0?null:l(this,Ri).at(-1)}recordCloseMarker(e){var r;const t=l(this,Ri).pop();return t!==void 0&&((r=Fy(l(this,ys),e))==null||r.dependencies.add(t),l(this,Cn)[e]=l(this,Cn)[t]),this}beginMarkedContent(e){return l(this,$c).push(e),this}endMarkedContent(e){var r;const t=l(this,$c).pop();return t!==void 0&&((r=Fy(l(this,ys),e))==null||r.dependencies.add(t),l(this,Cn)[e]=l(this,Cn)[t]),this}pushBaseTransform(e){return l(this,bo).push(Y.multiplyByDOMMatrix(l(this,bo).at(-1),e.getTransform())),this}popBaseTransform(){return l(this,bo).length>1&&l(this,bo).pop(),this}recordSimpleData(e,t){return l(this,nr)[e]=t,this}recordIncrementalData(e,t){return l(this,rr)[e].push(t),this}resetIncrementalData(e,t){return l(this,rr)[e].length=0,this}recordNamedData(e,t){return l(this,zc).set(e,t),this}recordSimpleDataFromNamed(e,t,r){l(this,nr)[e]=l(this,zc).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(rd,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in l(this,nr)&&this.recordFutureForcedDependency(t,l(this,nr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of l(this,ir))this.recordFutureForcedDependency(rd,e);return this}resetBBox(e){return l(this,So)!==e&&(x(this,So,e),l(this,je)[0]=1/0,l(this,je)[1]=1/0,l(this,je)[2]=-1/0,l(this,je)[3]=-1/0),this}recordClipBox(e,t,r,i,s,o){const a=Y.multiplyByDOMMatrix(l(this,bo).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];Y.axialAlignedBoundingBox([r,s,i,o],a,c);const u=Y.intersect(l(this,Le),c);return u?(l(this,Le)[0]=u[0],l(this,Le)[1]=u[1],l(this,Le)[2]=u[2],l(this,Le)[3]=u[3]):(l(this,Le)[0]=l(this,Le)[1]=1/0,l(this,Le)[2]=l(this,Le)[3]=-1/0),this}recordBBox(e,t,r,i,s,o){const a=l(this,Le);if(a[0]===1/0)return this;const c=Y.multiplyByDOMMatrix(l(this,bo).at(-1),t.getTransform());if(a[0]===-1/0)return Y.axialAlignedBoundingBox([r,s,i,o],c,l(this,je)),this;const u=[1/0,1/0,-1/0,-1/0];return Y.axialAlignedBoundingBox([r,s,i,o],c,u),l(this,je)[0]=Math.min(l(this,je)[0],Math.max(u[0],a[0])),l(this,je)[1]=Math.min(l(this,je)[1],Math.max(u[1],a[1])),l(this,je)[2]=Math.max(l(this,je)[2],Math.min(u[2],a[2])),l(this,je)[3]=Math.max(l(this,je)[3],Math.min(u[3],a[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,o=0,a){const c=r.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&l(this,Ch).get(r),u!==!1&&(d=[0,0,0,0],Y.axialAlignedBoundingBox(c,r.fontMatrix,d),(i!==1||s!==0||o!==0)&&Y.scaleMinMax([i,0,0,-i,s,o],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!a)return this.recordFullPageBBox(e);const h=a();return c&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=o-h.actualBoundingBoxAscent&&d[3]>=o+h.actualBoundingBoxDescent,l(this,Ch).set(r,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return l(this,je)[0]=Math.max(0,l(this,Le)[0]),l(this,je)[1]=Math.max(0,l(this,Le)[1]),l(this,je)[2]=Math.min(l(this,Uc),l(this,Le)[2]),l(this,je)[3]=Math.min(l(this,Hc),l(this,Le)[3]),this}getSimpleIndex(e){return l(this,nr)[e]}recordDependencies(e,t){const r=l(this,ir),i=l(this,nr),s=l(this,rr);for(const o of t)o in l(this,nr)?r.add(i[o]):o in s&&s[o].forEach(r.add,r);return this}recordNamedDependency(e,t){return l(this,zc).has(t)&&l(this,ir).add(l(this,zc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[rd]),l(this,ys)){const r=Fy(l(this,ys),e),{dependencies:i}=r;l(this,ir).forEach(i.add,i),l(this,Ri).forEach(i.add,i),l(this,$c).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(l(this,So)===e){const r=JP(l(this,je)[0]*256/l(this,Uc)),i=JP(l(this,je)[1]*256/l(this,Hc)),s=eR(l(this,je)[2]*256/l(this,Uc)),o=eR(l(this,je)[3]*256/l(this,Hc));Oy(l(this,Eo),e,r,i,s,o);for(const a of l(this,ir))a!==e&&Oy(l(this,Eo),a,r,i,s,o);for(const a of l(this,Ri))a!==e&&Oy(l(this,Eo),a,r,i,s,o);for(const a of l(this,$c))a!==e&&Oy(l(this,Eo),a,r,i,s,o);t||(l(this,ir).clear(),x(this,So,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(l(this,ir));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return l(this,So)===e&&(x(this,So,-1),l(this,Le)[0]=Math.max(l(this,Le)[0],l(this,je)[0]),l(this,Le)[1]=Math.max(l(this,Le)[1],l(this,je)[1]),l(this,Le)[2]=Math.min(l(this,Le)[2],l(this,je)[2]),l(this,Le)[3]=Math.min(l(this,Le)[3],l(this,je)[3]),t||l(this,ir).clear()),this}_takePendingDependencies(){const e=l(this,ir);return x(this,ir,new Set),e}_extractOperation(e){const t=l(this,xg).get(e);return l(this,xg).delete(e),t}_pushPendingDependencies(e){for(const t of e)l(this,ir).add(t)}take(){return l(this,Ch).clear(),new dX(l(this,Cn),l(this,Eo))}takeDebugMetadata(){return l(this,ys)}}nr=new WeakMap,rr=new WeakMap,zc=new WeakMap,Ri=new WeakMap,$c=new WeakMap,bo=new WeakMap,Le=new WeakMap,je=new WeakMap,So=new WeakMap,ir=new WeakMap,xg=new WeakMap,Ch=new WeakMap,Uc=new WeakMap,Hc=new WeakMap,Eo=new WeakMap,Cn=new WeakMap,ys=new WeakMap,wg=new WeakSet,zA=function(e,t){const r=new ArrayBuffer(e*4);x(this,Eo,new Uint8ClampedArray(r)),x(this,Cn,new Uint32Array(r)),t&&t.length>0?(l(this,Cn).set(t),l(this,Cn).fill(BA,t.length)):l(this,Cn).fill(BA)};var Ge,Et,Di,_h,Th;const tT=class tT{constructor(e,t,r){A(this,Ge);A(this,Et);A(this,Di);A(this,_h,0);A(this,Th,0);if(e instanceof tT&&l(e,Di)===!!r)return e;x(this,Ge,e),x(this,Et,t),x(this,Di,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return wt(this,Th)._++,l(this,Ge).save(l(this,Et)),this}restore(e){return l(this,Th)>0&&(l(this,Ge).restore(l(this,Et)),wt(this,Th)._--),this}recordOpenMarker(e){return wt(this,_h)._++,this}getOpenMarker(){return l(this,_h)>0?l(this,Et):l(this,Ge).getOpenMarker()}recordCloseMarker(e){return wt(this,_h)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return l(this,Ge).pushBaseTransform(e),this}popBaseTransform(){return l(this,Ge).popBaseTransform(),this}recordSimpleData(e,t){return l(this,Ge).recordSimpleData(e,l(this,Et)),this}recordIncrementalData(e,t){return l(this,Ge).recordIncrementalData(e,l(this,Et)),this}resetIncrementalData(e,t){return l(this,Ge).resetIncrementalData(e,l(this,Et)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return l(this,Ge).recordSimpleDataFromNamed(e,t,l(this,Et)),this}recordFutureForcedDependency(e,t){return l(this,Ge).recordFutureForcedDependency(e,l(this,Et)),this}inheritSimpleDataAsFutureForcedDependencies(e){return l(this,Ge).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,Ge).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return l(this,Di)||l(this,Ge).resetBBox(l(this,Et)),this}recordClipBox(e,t,r,i,s,o){return l(this,Di)||l(this,Ge).recordClipBox(l(this,Et),t,r,i,s,o),this}recordBBox(e,t,r,i,s,o){return l(this,Di)||l(this,Ge).recordBBox(l(this,Et),t,r,i,s,o),this}recordCharacterBBox(e,t,r,i,s,o,a){return l(this,Di)||l(this,Ge).recordCharacterBBox(l(this,Et),t,r,i,s,o,a),this}recordFullPageBBox(e){return l(this,Di)||l(this,Ge).recordFullPageBBox(l(this,Et)),this}getSimpleIndex(e){return l(this,Ge).getSimpleIndex(e)}recordDependencies(e,t){return l(this,Ge).recordDependencies(l(this,Et),t),this}recordNamedDependency(e,t){return l(this,Ge).recordNamedDependency(l(this,Et),t),this}recordOperation(e){return l(this,Ge).recordOperation(l(this,Et),!0),this}recordShowTextOperation(e){return l(this,Ge).recordShowTextOperation(l(this,Et),!0),this}bboxToClipBoxDropOperation(e){return l(this,Di)||l(this,Ge).bboxToClipBoxDropOperation(l(this,Et),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Ge=new WeakMap,Et=new WeakMap,Di=new WeakMap,_h=new WeakMap,Th=new WeakMap;let Fw=tT;const Yr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},pn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $A(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class W_{isModifyingCurrentTransform(){return!1}getPattern(){Xe("Abstract method `getPattern` called.")}}class fX extends W_{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===pn.STROKE||i===pn.FILL){const o=t.current.getClippedPathBoundingBox(i,dt(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=Y.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),$A(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else $A(e,this._bbox),s=this._createGradient(e);return s}}function PS(n,e,t,r,i,s,o,a){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f),c[r+1]>c[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),c[t+1]>c[r+1]&&(f=t,t=r,r=f,f=s,s=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,m=(c[r]+e.offsetX)*e.scaleX,S=(c[r+1]+e.offsetY)*e.scaleY,v=(c[i]+e.offsetX)*e.scaleX,b=(c[i+1]+e.offsetY)*e.scaleY;if(y>=b)return;const E=u[s],C=u[s+1],T=u[s+2],k=u[o],P=u[o+1],R=u[o+2],M=u[a],D=u[a+1],N=u[a+2],F=Math.round(y),z=Math.round(b);let L,U,j,B,I,O,V,Q;for(let G=F;G<=z;G++){if(G<S){const oe=G<y?0:(y-G)/(y-S);L=p-(p-m)*oe,U=E-(E-k)*oe,j=C-(C-P)*oe,B=T-(T-R)*oe}else{let oe;G>b?oe=1:S===b?oe=0:oe=(S-G)/(S-b),L=m-(m-v)*oe,U=k-(k-M)*oe,j=P-(P-D)*oe,B=R-(R-N)*oe}let re;G<y?re=0:G>b?re=1:re=(y-G)/(y-b),I=p-(p-v)*re,O=E-(E-M)*re,V=C-(C-D)*re,Q=T-(T-N)*re;const ce=Math.round(Math.min(L,I)),Me=Math.round(Math.max(L,I));let ge=h*G+ce*4;for(let oe=ce;oe<=Me;oe++)re=(L-oe)/(L-I),re<0?re=0:re>1&&(re=1),d[ge++]=U-(U-O)*re|0,d[ge++]=j-(j-V)*re|0,d[ge++]=B-(B-Q)*re|0,d[ge++]=255}}function pX(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,c=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<c;s++){let d=s*a;for(let h=0;h<u;h++,d++)PS(n,t,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),PS(n,t,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)PS(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class mX extends W_{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,y=d/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/y},S=h+2*2,v=f+2*2,b=r.getCanvas("mesh",S,v),E=b.context,C=E.createImageData(h,f);if(t){const k=C.data;for(let P=0,R=k.length;P<R;P+=4)k[P]=t[0],k[P+1]=t[1],k[P+2]=t[2],k[P+3]=255}for(const k of this._figures)pX(C,k,m);return E.putImageData(C,2,2),{canvas:b.canvas,offsetX:a-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){$A(e,this._bbox);const s=new Float32Array(2);if(i===pn.SHADING)Y.singularValueDecompose2dScale(dt(e),s);else if(this.matrix){Y.singularValueDecompose2dScale(this.matrix,s);const[a,c]=s;Y.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=c}else Y.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===pn.SHADING?null:this._background,t.cachedCanvases);return i!==pn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class gX extends W_{getPattern(){return"hotpink"}}function vX(n){switch(n[0]){case"RadialAxial":return new fX(n);case"Mesh":return new mX(n);case"Dummy":return new gX}throw new Error(`Unknown IR type: ${n[0]}`)}const tR={COLORED:1,UNCOLORED:2},eb=class eb{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var O,V;const{bbox:r,operatorList:i,paintType:s,tilingType:o,color:a,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),l0("TilingType: "+o);const h=r[0],f=r[1],p=r[2],y=r[3],m=p-h,S=y-f,v=new Float32Array(2);Y.singularValueDecompose2dScale(this.matrix,v);const[b,E]=v;Y.singularValueDecompose2dScale(this.baseTransform,v);const C=b*v[0],T=E*v[1];let k=m,P=S,R=!1,M=!1;const D=Math.ceil(u*C),N=Math.ceil(d*T),F=Math.ceil(m*C),z=Math.ceil(S*T);D>=F?k=u:R=!0,N>=z?P=d:M=!0;const L=this.getSizeAndScale(k,this.ctx.canvas.width,C),U=this.getSizeAndScale(P,this.ctx.canvas.height,T),j=e.cachedCanvases.getCanvas("pattern",L.size,U.size),B=j.context,I=c.createCanvasGraphics(B,t);if(I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,s,a),B.translate(-L.scale*h,-U.scale*f),I.transform(0,L.scale,0,0,U.scale,0,0),B.save(),(O=I.dependencyTracker)==null||O.save(),this.clipBbox(I,h,f,p,y),I.baseTransform=dt(I.ctx),I.executeOperatorList(i),I.endDrawing(),(V=I.dependencyTracker)==null||V.restore(),B.restore(),R||M){const Q=j.canvas;R&&(k=u),M&&(P=d);const G=this.getSizeAndScale(k,this.ctx.canvas.width,C),re=this.getSizeAndScale(P,this.ctx.canvas.height,T),ce=G.size,Me=re.size,ge=e.cachedCanvases.getCanvas("pattern-workaround",ce,Me),oe=ge.context,sn=R?Math.floor(m/u):0,Ne=M?Math.floor(S/d):0;for(let ye=0;ye<=sn;ye++)for(let kt=0;kt<=Ne;kt++)oe.drawImage(Q,ce*ye,Me*kt,ce,Me,0,0,ce,Me);return{canvas:ge.canvas,scaleX:G.scale,scaleY:re.scale,offsetX:h,offsetY:f}}return{canvas:j.canvas,scaleX:L.scale,scaleY:U.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,r){const i=Math.max(eb.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),Y.axialAlignedBoundingBox([t,r,i,s],dt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case tR.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case tR.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new jK(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let o=r;i!==pn.SHADING&&(o=Y.transform(o,t.baseTransform),this.matrix&&(o=Y.transform(o,this.matrix)));const a=this.createPatternCanvas(t,s);let c=new DOMMatrix(o);c=c.translate(a.offsetX,a.offsetY),c=c.scale(1/a.scaleX,1/a.scaleY);const u=e.createPattern(a.canvas,"repeat");return u.setTransform(c),u}};$(eb,"MAX_PATTERN_SIZE",3e3);let UA=eb;function yX({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=rn.isLittleEndian?4278190080:255,[c,u]=o?[s,a]:[a,s],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<i;y++){for(const S=e+d;e<S;e++){const v=e<f?n[e]:255;t[p++]=v&128?u:c,t[p++]=v&64?u:c,t[p++]=v&32?u:c,t[p++]=v&16?u:c,t[p++]=v&8?u:c,t[p++]=v&4?u:c,t[p++]=v&2?u:c,t[p++]=v&1?u:c}if(h===0)continue;const m=e<f?n[e++]:255;for(let S=0;S<h;S++)t[p++]=m&1<<7-S?u:c}return{srcPos:e,destPos:p}}const nR=16,rR=100,xX=15,iR=10,lr=16,RS=new DOMMatrix,Lr=new Float32Array(2),Cd=new Float32Array([1/0,1/0,-1/0,-1/0]);function wX(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class bX{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function jy(n,e,t,r,i,s,o,a,c,u){const[d,h,f,p,y,m]=dt(n);if(h===0&&f===0){const b=o*d+y,E=Math.round(b),C=a*p+m,T=Math.round(C),k=(o+c)*d+y,P=Math.abs(Math.round(k)-E)||1,R=(a+u)*p+m,M=Math.abs(Math.round(R)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),E,T),n.drawImage(e,t,r,i,s,0,0,P,M),n.setTransform(d,h,f,p,y,m),[P,M]}if(d===0&&p===0){const b=a*f+y,E=Math.round(b),C=o*h+m,T=Math.round(C),k=(a+u)*f+y,P=Math.abs(Math.round(k)-E)||1,R=(o+c)*h+m,M=Math.abs(Math.round(R)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,E,T),n.drawImage(e,t,r,i,s,0,0,M,P),n.setTransform(d,h,f,p,y,m),[M,P]}n.drawImage(e,t,r,i,s,o,a,c,u);const S=Math.hypot(d,h),v=Math.hypot(f,p);return[S*c,v*u]}class sR{constructor(e,t,r){$(this,"alphaIsShape",!1);$(this,"fontSize",0);$(this,"fontSizeScale",1);$(this,"textMatrix",null);$(this,"textMatrixScale",1);$(this,"fontMatrix",pA);$(this,"leading",0);$(this,"x",0);$(this,"y",0);$(this,"lineX",0);$(this,"lineY",0);$(this,"charSpacing",0);$(this,"wordSpacing",0);$(this,"textHScale",1);$(this,"textRenderingMode",on.FILL);$(this,"textRise",0);$(this,"fillColor","#000000");$(this,"strokeColor","#000000");$(this,"patternFill",!1);$(this,"patternStroke",!1);$(this,"fillAlpha",1);$(this,"strokeAlpha",1);$(this,"lineWidth",1);$(this,"activeSMask",null);$(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Cd.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=pn.FILL,t=null){const r=this.minMax.slice();if(e===pn.STROKE){t||Xe("Stroke bounding box must include transform."),Y.singularValueDecompose2dScale(t,Lr);const i=Lr[0]*this.lineWidth/2,s=Lr[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Y.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Cd,0)}getClippedPathBoundingBox(e=pn.FILL,t=null){return Y.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function oR(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%lr,s=(t-i)/lr,o=i===0?s:s+1,a=n.createImageData(r,lr);let c=0,u;const d=e.data,h=a.data;let f,p,y,m;if(e.kind===tm.GRAYSCALE_1BPP){const S=d.byteLength,v=new Uint32Array(h.buffer,0,h.byteLength>>2),b=v.length,E=r+7>>3,C=4294967295,T=rn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(y=f<s?lr:i,u=0,p=0;p<y;p++){const k=S-c;let P=0;const R=k>E?r:k*8-7,M=R&-8;let D=0,N=0;for(;P<M;P+=8)N=d[c++],v[u++]=N&128?C:T,v[u++]=N&64?C:T,v[u++]=N&32?C:T,v[u++]=N&16?C:T,v[u++]=N&8?C:T,v[u++]=N&4?C:T,v[u++]=N&2?C:T,v[u++]=N&1?C:T;for(;P<R;P++)D===0&&(N=d[c++],D=128),v[u++]=N&D?C:T,D>>=1}for(;u<b;)v[u++]=0;n.putImageData(a,0,f*lr)}}else if(e.kind===tm.RGBA_32BPP){for(p=0,m=r*lr*4,f=0;f<s;f++)h.set(d.subarray(c,c+m)),c+=m,n.putImageData(a,0,p),p+=lr;f<o&&(m=r*i*4,h.set(d.subarray(c,c+m)),n.putImageData(a,0,p))}else if(e.kind===tm.RGB_24BPP)for(y=lr,m=r*y,f=0;f<o;f++){for(f>=s&&(y=i,m=r*y),u=0,p=m;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(a,0,f*lr)}else throw new Error(`bad image kind: ${e.kind}`)}function aR(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%lr,s=(t-i)/lr,o=i===0?s:s+1,a=n.createImageData(r,lr);let c=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<s?lr:i;({srcPos:c}=yX({src:u,srcPos:c,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*lr)}}function dp(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function By(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function lR(n,e){if(e)return!0;Y.singularValueDecompose2dScale(n,Lr);const t=Math.fround(Xi.pixelRatio*ia.PDF_TO_CSS_UNITS);return Lr[0]<=t&&Lr[1]<=t}const SX=["butt","round","square"],EX=["miter","round","bevel"],AX={},cR={};var Yi,HA,VA,WA;const nT=class nT{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},c,u,d){A(this,Yi);this.ctx=e,this.current=new sR(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new bX(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...dt(this.compositeCtx))}this.ctx.save(),By(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dt(this.ctx)}executeOperatorList(e,t,r,i,s){var v;const o=e.argsArray,a=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const d=u-c>iR&&typeof r=="function",h=d?Date.now()+xX:0;let f=0;const p=this.commonObjs,y=this.objs;let m,S;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(!s||s(c))if(m=a[c],S=o[c]??null,m!==$f.dependency)S===null?this[m](c):this[m](c,...S);else for(const b of S){(v=this.dependencyTracker)==null||v.recordNamedData(b,c);const E=b.startsWith("g_")?p:y;if(!E.has(b))return E.get(b,r),c}if(c++,c===u)return c;if(d&&++f>iR){if(Date.now()>h)return r(),c;f=0}}}endDrawing(){_(this,Yi,HA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,Yi,VA).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,c=i,u="prescale1",d,h;for(;s>2&&a>1||o>2&&c>1;){let f=a,p=c;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,c,0,0,f,p),e=d.canvas,a=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:c}}_createMaskCanvas(e,t){var D,N;const r=this.ctx,{width:i,height:s}=t,o=this.current.fillColor,a=this.current.patternFill,c=dt(r);let u,d,h,f;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;d=JSON.stringify(a?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(F),u||(u=new Map,this._cachedBitmapsMap.set(F,u));const z=u.get(d);if(z&&!a){const L=Math.round(Math.min(c[0],c[2])+c[4]),U=Math.round(Math.min(c[1],c[3])+c[5]);return(D=this.dependencyTracker)==null||D.recordDependencies(e,Yr.transformAndFill),{canvas:z,offsetX:L,offsetY:U}}h=z}h||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),aR(f.context,t));let p=Y.transform(c,[1/i,0,0,-1/s,0,0]);p=Y.transform(p,[1,0,0,1,0,-s]);const y=Cd.slice();Y.axialAlignedBoundingBox([0,0,i,s],p,y);const[m,S,v,b]=y,E=Math.round(v-m)||1,C=Math.round(b-S)||1,T=this.cachedCanvases.getCanvas("fillCanvas",E,C),k=T.context,P=m,R=S;k.translate(-P,-R),k.transform(...p),h||(h=this._scaleImage(f.canvas,ts(k)),h=h.img,u&&a&&u.set(d,h)),k.imageSmoothingEnabled=lR(dt(k),t.interpolate),jy(k,h,0,0,h.width,h.height,0,0,i,s),k.globalCompositeOperation="source-in";const M=Y.transform(ts(k),[1,0,0,1,-P,-R]);return k.fillStyle=a?o.getPattern(r,this,M,pn.FILL,e):o,k.fillRect(0,0,i,s),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,T.canvas)),(N=this.dependencyTracker)==null||N.recordDependencies(e,Yr.transformAndFill),{canvas:T.canvas,offsetX:Math.round(P),offsetY:Math.round(R)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=SX[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=EX[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,o,a;for(const[c,u]of t)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),dp(this.suspendedCtx,o),wX(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,c=i[3]-o;a===0||c===0||(this.genericComposeSMask(t.context,r,a,c,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,c,u,d,h){let f=e.canvas,p=c-d,y=u-h;if(o)if(p<0||y<0||p+r>f.width||y+i>f.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),v=S.context;v.drawImage(f,-p,-y),v.globalCompositeOperation="destination-atop",v.fillStyle=o,v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over",f=S.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(p,y,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,y,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(c,u,r,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,y,r,i,c,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&dp(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&dp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o,a){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===$f.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const o=r[0]=new Path2D;for(let a=0,c=s.length;a<c;)switch(s[a++]){case My.moveTo:o.moveTo(s[a++],s[a++]);break;case My.lineTo:o.lineTo(s[a++],s[a++]);break;case My.curveTo:o.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);break;case My.closePath:o.closePath();break;default:le(`Unrecognized drawing path operator: ${s[a-1]}`);break}s=o}Y.axialAlignedBoundingBox(i,dt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var o;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,ts(i),pn.STROKE,e),a){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(a)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,Yr.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(pn.STROKE,dt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,d,h;const i=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const f=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,ts(i),pn.FILL,e),f){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(f)),t=p}a=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Yr.fill),a&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,Yr.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=AX}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=cR}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:o,x:a,y:c,fontSize:u,path:d}of t)d&&i.addPath(d,new DOMMatrix(o).preMultiplySelf(s).translate(a,c).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||pA,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&le("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const o=i.loadedName||"sans-serif",a=((f=i.systemFontInfo)==null?void 0:f.css)||`"${o}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const u=i.italic?"italic":"normal";let d=r;r<nR?d=nR:r>rR&&(d=rR),this.current.fontSizeScale=r/d,this.ctx.font=`${u} ${c} ${d}px ${a}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,o){var v,b,E,C;const a=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&on.FILL_STROKE_MASK,p=!!(d&on.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,m=c.patternStroke&&!u.missingFile;let S;if((u.disableFontFace||p||y||m)&&!u.missingFile&&(S=u.getPathGenerator(this.commonObjs,t)),S&&(u.disableFontFace||y||m)){a.save(),a.translate(r,i),a.scale(h,-h),(v=this.dependencyTracker)==null||v.recordCharacterBBox(e,a,u);let T;if(f===on.FILL||f===on.FILL_STROKE)if(s){T=a.getTransform(),a.setTransform(...s);const k=_(this,Yi,WA).call(this,S,T,s);a.fill(k)}else a.fill(S);if(f===on.STROKE||f===on.FILL_STROKE)if(o){T||(T=a.getTransform()),a.setTransform(...o);const{a:k,b:P,c:R,d:M}=T,D=Y.inverseTransform(o),N=Y.transform([k,P,R,M,0,0],D);Y.singularValueDecompose2dScale(N,Lr),a.lineWidth*=Math.max(Lr[0],Lr[1])/h,a.stroke(_(this,Yi,WA).call(this,S,T,o))}else a.lineWidth/=h,a.stroke(S);a.restore()}else(f===on.FILL||f===on.FILL_STROKE)&&(a.fillText(t,r,i),(b=this.dependencyTracker)==null||b.recordCharacterBBox(e,a,u,h,r,i,()=>a.measureText(t))),(f===on.STROKE||f===on.FILL_STROKE)&&(this.dependencyTracker&&((E=this.dependencyTracker)==null||E.recordCharacterBBox(e,a,u,h,r,i,()=>a.measureText(t)).recordDependencies(e,Yr.stroke)),a.strokeText(t,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dt(a),x:r,y:i,fontSize:h,path:S}),(C=this.dependencyTracker)==null||C.recordCharacterBBox(e,a,u,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return fe(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var R,M,D,N;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Yr.showText).resetBBox(e),this.current.textRenderingMode&on.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const o=this.ctx,a=r.fontSizeScale,c=r.charSpacing,u=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,f=t.length,p=i.vertical,y=p?1:-1,m=i.defaultVMetrics,S=s*r.fontMatrix[0],v=r.textRenderingMode===on.FILL&&!i.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),d>0?o.scale(h,-1):o.scale(h,1);let b,E;if(r.patternFill){o.save();const F=r.fillColor.getPattern(o,this,ts(o),pn.FILL,e);b=dt(o),o.restore(),o.fillStyle=F}if(r.patternStroke){o.save();const F=r.strokeColor.getPattern(o,this,ts(o),pn.STROKE,e);E=dt(o),o.restore(),o.strokeStyle=F}let C=r.lineWidth;const T=r.textMatrixScale;if(T===0||C===0){const F=r.textRenderingMode&on.FILL_STROKE_MASK;(F===on.STROKE||F===on.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=T;if(a!==1&&(o.scale(a,a),C/=a),o.lineWidth=C,i.isInvalidPDFjsFont){const F=[];let z=0;for(const U of t)F.push(U.unicode),z+=U.width;const L=F.join("");if(o.fillText(L,0,0),this.dependencyTracker!==null){const U=o.measureText(L);this.dependencyTracker.recordBBox(e,this.ctx,-U.actualBoundingBoxLeft,U.actualBoundingBoxRight,-U.actualBoundingBoxAscent,U.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=z*S*h,o.restore(),this.compose();return}let k=0,P;for(P=0;P<f;++P){const F=t[P];if(typeof F=="number"){k+=y*F*s/1e3;continue}let z=!1;const L=(F.isSpace?u:0)+c,U=F.fontChar,j=F.accent;let B,I,O=F.width;if(p){const G=F.vmetric||m,re=-(F.vmetric?G[1]:O*.5)*S,ce=G[2]*S;O=G?-G[0]:O,B=re/a,I=(k+ce)/a}else B=k/a,I=0;let V;if(i.remeasure&&O>0){V=o.measureText(U);const G=V.width*1e3/s*a;if(O<G&&this.isFontSubpixelAAEnabled){const re=O/G;z=!0,o.save(),o.scale(re,1),B/=re}else O!==G&&(B+=(O-G)/2e3*s/a)}if(this.contentVisible&&(F.isInFont||i.missingFile)){if(v&&!j)o.fillText(U,B,I),(D=this.dependencyTracker)==null||D.recordCharacterBBox(e,o,V?{bbox:null}:i,s/a,B,I,()=>V??o.measureText(U));else if(this.paintChar(e,U,B,I,b,E),j){const G=B+s*j.offset.x/a,re=I-s*j.offset.y/a;this.paintChar(e,j.fontChar,G,re,b,E)}}const Q=p?O*S-L*d:O*S+L*d;k+=Q,z&&o.restore()}p?r.y-=k:r.x+=k*h,o.restore(),this.compose(),(N=this.dependencyTracker)==null||N.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,o=i.fontSize,a=i.fontDirection,c=s.vertical?1:-1,u=i.charSpacing,d=i.wordSpacing,h=i.textHScale*a,f=i.fontMatrix||pA,p=t.length,y=i.textRenderingMode===on.INVISIBLE;let m,S,v,b;if(y||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,a);const E=this.dependencyTracker;for(this.dependencyTracker=E?new Fw(E,e):null,m=0;m<p;++m){if(S=t[m],typeof S=="number"){b=c*S*o/1e3,this.ctx.translate(b,0),i.x+=b*h;continue}const C=(S.isSpace?d:0)+u,T=s.charProcOperatorList[S.operatorListId];T?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...f),this.executeOperatorList(T),this.restore()):le(`Type3 character "${S.operatorListId}" is not available.`);const k=[S.width,0];Y.applyTransform(k,f),v=k[0]*o+C,r.translate(v,0),i.x+=v*h}r.restore(),E&&(this.dependencyTracker=E)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,o,a){var u;const c=new Path2D;c.rect(i,s,o-i,a-s),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,o,s,a).recordClipBox(e,this.ctx,i,o,s,a),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||dt(this.ctx),s={createCanvasGraphics:(o,a)=>new nT(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Fw(this.dependencyTracker,a,!0):null)};r=new UA(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=vX(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var o;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,ts(r),pn.SHADING,e);const s=ts(r);if(s){const{width:a,height:c}=r.canvas,u=Cd.slice();Y.axialAlignedBoundingBox([0,0,a,c],s,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Yr.transform).recordDependencies(e,Yr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Xe("Should not call beginInlineImage")}beginImageData(){Xe("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=dt(this.ctx),r)){Y.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,o,a,c]=r,u=new Path2D;u.rect(s,o,a-s,c-o),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,a,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var E;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||l0("TODO: Support non-isolated groups."),t.knockout&&le("Knockout groups not supported.");const i=dt(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Cd.slice();Y.axialAlignedBoundingBox(t.bbox,dt(r),s);const o=[0,0,r.canvas.width,r.canvas.height];s=Y.intersect(s,o)||[0,0,0,0];const a=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-a,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-a,-c),p.transform(...i);let y=new Path2D;const[m,S,v,b]=t.bbox;if(y.rect(m,S,v-m,b-S),t.matrix){const C=new Path2D;C.addPath(y,new DOMMatrix(t.matrix)),y=C}p.clip(y),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(a,c),r.save()),dp(r,p),this.ctx=p,(E=this.dependencyTracker)==null||E.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=dt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const a=Cd.slice();Y.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],o,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,r,i,s,o){if(_(this,Yi,HA).call(this),By(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],c=r[3]-r[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=a,r[3]=c,Y.singularValueDecompose2dScale(dt(this.ctx),Lr);const{viewportScale:u}=this,d=Math.ceil(a*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Lr[0],0,0,-Lr[1],0,c*Lr[1]),By(this.ctx)}else{By(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],a,c),this.ctx.clip(u)}}this.current=new sR(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),_(this,Yi,VA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var a;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,s.offsetX,s.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,o,a){var h,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=dt(c);c.transform(r,i,s,o,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let y=0,m=a.length;y<m;y+=2){const S=Y.transform(u,[r,i,s,o,a[y],a[y+1]]);c.drawImage(d.canvas,S[4],S[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,S[4],S[4]+d.canvas.width,S[5],S[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,a,c;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,Yr.transformAndFill);for(const u of t){const{data:d,width:h,height:f,transform:p}=u,y=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=y.context;m.save();const S=this.getObject(e,d,u);aR(m,S),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,ts(r),pn.FILL,e):i,m.fillRect(0,0,h,f),m.restore(),r.save(),r.transform(...p),r.scale(1,-1),jy(r,y.canvas,0,0,h,f,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,r,0,h,0,f),r.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){le("Dependent image isn't ready yet");return}const a=o.width,c=o.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:a,h:c});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/r,-1/i);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;oR(h,t),a=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(a,ts(s));s.imageSmoothingEnabled=lR(dt(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Yr.imageXObject).recordOperation(e),jy(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var o,a,c;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;oR(f,t),s=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),jy(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,i,0,1,-1,0),i.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Yr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var o,a;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===cR?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(a=this.dependencyTracker)==null||a.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)o=a=1/c;else{const d=c*e;o=a=d<1?1/d:1}else if(e===0)o=1/c,a=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const c=Math.abs(t*s-r*i),u=Math.hypot(t,r),d=Math.hypot(i,s);if(e===0)o=d/c,a=u/c;else{const h=e*c;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),RS.a=1/s,RS.d=1/o;const c=new Path2D;if(c.addPath(e,RS),a.length>0){const u=Math.max(s,o);r.setLineDash(a.map(d=>d/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(c),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Yi=new WeakSet,HA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},VA=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},WA=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let zd=nT;for(const n in $f)zd.prototype[n]!==void 0&&(zd.prototype[$f[n]]=zd.prototype[n]);var kh,Ph,bg,Rh,vx;const Td=class Td{constructor(e){A(this,Rh);A(this,kh);A(this,Ph);A(this,bg);x(this,kh,e),x(this,Ph,new DataView(l(this,kh))),x(this,bg,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of Td.strings){const d=t.encode(e[u]);r[u]=d,i+=4+d.length}const s=new ArrayBuffer(i),o=new Uint8Array(s),a=new DataView(s);let c=0;for(const u of Td.strings){const d=r[u],h=d.length;a.setUint32(c,h),o.set(d,c+4),c+=4+h}return Ee(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return _(this,Rh,vx).call(this,0)}get fontWeight(){return _(this,Rh,vx).call(this,1)}get italicAngle(){return _(this,Rh,vx).call(this,2)}};kh=new WeakMap,Ph=new WeakMap,bg=new WeakMap,Rh=new WeakSet,vx=function(e){Ee(e<Td.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=l(this,Ph).getUint32(t)+4;const r=l(this,Ph).getUint32(t);return l(this,bg).decode(new Uint8Array(l(this,kh),t+4,r))},$(Td,"strings",["fontFamily","fontWeight","italicAngle"]);let jw=Td;var Xa,xs,Vc,Wc,Np;const kd=class kd{constructor(e){A(this,Wc);A(this,Xa);A(this,xs);A(this,Vc);x(this,Xa,e),x(this,xs,new DataView(l(this,Xa))),x(this,Vc,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const f of kd.strings){const p=t.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let s,o,a=1+i;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),a+=4+s.length+4+o.length);const c=new ArrayBuffer(a),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const f of kd.strings){const p=r[f],y=p.length;i+=4+y,d.setUint32(h,y),u.set(p,h+4),h+=4+y}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,o.length),u.set(o,h+4),h+=4+o.length),Ee(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return l(this,xs).getUint8(0)!==0}get css(){return _(this,Wc,Np).call(this,0)}get loadedName(){return _(this,Wc,Np).call(this,1)}get baseFontName(){return _(this,Wc,Np).call(this,2)}get src(){return _(this,Wc,Np).call(this,3)}get style(){let e=1;e+=4+l(this,xs).getUint32(e);const t=l(this,xs).getUint32(e),r=l(this,Vc).decode(new Uint8Array(l(this,Xa),e+4,t));e+=4+t;const i=l(this,xs).getUint32(e),s=l(this,Vc).decode(new Uint8Array(l(this,Xa),e+4,i));return{style:r,weight:s}}};Xa=new WeakMap,xs=new WeakMap,Vc=new WeakMap,Wc=new WeakSet,Np=function(e){Ee(e<kd.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=l(this,xs).getUint32(t)+4;const r=l(this,xs).getUint32(t);return l(this,Vc).decode(new Uint8Array(l(this,Xa),t+4,r))},$(kd,"strings",["css","loadedName","baseFontName","src"]);let Bw=kd;var Dh,Mh,Nh,Ih,xr,ws,Sg,Be,_t,Si,yx,Ip;const de=class de{constructor({data:e,extra:t}){A(this,_t);A(this,ws);A(this,Sg);A(this,Be);x(this,ws,e),x(this,Sg,new TextDecoder),x(this,Be,new DataView(l(this,ws))),t&&Object.assign(this,t)}get black(){return _(this,_t,Si).call(this,0)}get bold(){return _(this,_t,Si).call(this,1)}get disableFontFace(){return _(this,_t,Si).call(this,2)}get fontExtraProperties(){return _(this,_t,Si).call(this,3)}get isInvalidPDFjsFont(){return _(this,_t,Si).call(this,4)}get isType3Font(){return _(this,_t,Si).call(this,5)}get italic(){return _(this,_t,Si).call(this,6)}get missingFile(){return _(this,_t,Si).call(this,7)}get remeasure(){return _(this,_t,Si).call(this,8)}get vertical(){return _(this,_t,Si).call(this,9)}get ascent(){return _(this,_t,yx).call(this,0)}get defaultWidth(){return _(this,_t,yx).call(this,1)}get descent(){return _(this,_t,yx).call(this,2)}get bbox(){let e=l(de,Mh);if(l(this,Be).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(l(this,Be).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=l(de,Nh);if(l(this,Be).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(l(this,Be).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=l(de,Ih);if(l(this,Be).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(l(this,Be).getInt16(e,!0)),e+=2;return r}get fallbackName(){return _(this,_t,Ip).call(this,0)}get loadedName(){return _(this,_t,Ip).call(this,1)}get mimetype(){return _(this,_t,Ip).call(this,2)}get name(){return _(this,_t,Ip).call(this,3)}get data(){let e=l(de,xr);const t=l(this,Be).getUint32(e);e+=4+t;const r=l(this,Be).getUint32(e);e+=4+r;const i=l(this,Be).getUint32(e);e+=4+i;const s=l(this,Be).getUint32(e);if(s!==0)return new Uint8Array(l(this,ws),e+4,s)}clearData(){let e=l(de,xr);const t=l(this,Be).getUint32(e);e+=4+t;const r=l(this,Be).getUint32(e);e+=4+r;const i=l(this,Be).getUint32(e);e+=4+i;const s=l(this,Be).getUint32(e);new Uint8Array(l(this,ws),e+4,s).fill(0),l(this,Be).setUint32(e,0)}get cssFontInfo(){let e=l(de,xr);const t=l(this,Be).getUint32(e);e+=4+t;const r=l(this,Be).getUint32(e);e+=4+r;const i=l(this,Be).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(l(this,ws),e+4,i)),new jw(s.buffer)}get systemFontInfo(){let e=l(de,xr);const t=l(this,Be).getUint32(e);e+=4+t;const r=l(this,Be).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(l(this,ws),e+4,r)),new Bw(i.buffer)}static write(e){const t=e.systemFontInfo?Bw.write(e.systemFontInfo):null,r=e.cssFontInfo?jw.write(e.cssFontInfo):null,i=new TextEncoder,s={};let o=0;for(const m of de.strings)s[m]=i.encode(e[m]),o+=4+s[m].length;const a=l(de,xr)+4+o+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(a),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=de.bools.length;let p=0,y=0;for(let m=0;m<f;m++){const S=e[de.bools[m]];p|=(S===void 0?0:S?2:1)<<y,y+=2,(y===8||m===f-1)&&(d.setUint8(h++,p),p=0,y=0)}Ee(h===l(de,Dh),"FontInfo.write: Boolean properties offset mismatch");for(const m of de.numbers)d.setFloat64(h,e[m]),h+=8;if(Ee(h===l(de,Mh),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const m of e.bbox)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(Ee(h===l(de,Nh),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const m of e.fontMatrix)d.setFloat64(h,m,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(Ee(h===l(de,Ih),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const m of e.defaultVMetrics)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=3*2;Ee(h===l(de,xr),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(l(de,xr),0),h+=4;for(const m of de.strings){const S=s[m],v=S.length;d.setUint32(h,v),u.set(S,h+4),h+=4+v}if(d.setUint32(l(de,xr),h-l(de,xr)-4),!t)d.setUint32(h,0),h+=4;else{const m=t.byteLength;d.setUint32(h,m),Ee(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+m}if(!r)d.setUint32(h,0),h+=4;else{const m=r.byteLength;d.setUint32(h,m),Ee(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),h+4),h+=4+m}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Ee(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};Dh=new WeakMap,Mh=new WeakMap,Nh=new WeakMap,Ih=new WeakMap,xr=new WeakMap,ws=new WeakMap,Sg=new WeakMap,Be=new WeakMap,_t=new WeakSet,Si=function(e){Ee(e<de.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=l(this,Be).getUint8(t)>>r&3;return i===0?void 0:i===2},yx=function(e){return Ee(e<de.numbers.length,"Invalid number index"),l(this,Be).getFloat64(l(de,Dh)+e*8)},Ip=function(e){Ee(e<de.strings.length,"Invalid string index");let t=l(de,xr)+4;for(let s=0;s<e;s++)t+=l(this,Be).getUint32(t)+4;const r=l(this,Be).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(l(this,ws),t+4,r)),l(this,Sg).decode(i)},$(de,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),$(de,"numbers",["ascent","defaultWidth","descent"]),$(de,"strings",["fallbackName","loadedName","mimetype","name"]),A(de,Dh,Math.ceil(de.bools.length*2/8)),A(de,Mh,l(de,Dh)+de.numbers.length*8),A(de,Nh,l(de,Mh)+1+2*4),A(de,Ih,l(de,Nh)+1+8*6),A(de,xr,l(de,Ih)+1+2*3);let GA=de;var Eg,Ag;class jr{static get workerPort(){return l(this,Eg)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");x(this,Eg,e)}static get workerSrc(){return l(this,Ag)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");x(this,Ag,e)}}Eg=new WeakMap,Ag=new WeakMap,A(jr,Eg,null),A(jr,Ag,"");var Lh,Cg;class CX{constructor({parsedData:e,rawData:t}){A(this,Lh);A(this,Cg);x(this,Lh,e),x(this,Cg,t)}getRaw(){return l(this,Cg)}get(e){return l(this,Lh).get(e)??null}[Symbol.iterator](){return l(this,Lh).entries()}}Lh=new WeakMap,Cg=new WeakMap;const ud=Symbol("INTERNAL");var _g,Tg,kg,Oh;class _X{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){A(this,_g,!1);A(this,Tg,!1);A(this,kg,!1);A(this,Oh,!0);x(this,_g,!!(e&Nr.DISPLAY)),x(this,Tg,!!(e&Nr.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(l(this,kg))return l(this,Oh);if(!l(this,Oh))return!1;const{print:e,view:t}=this.usage;return l(this,_g)?(t==null?void 0:t.viewState)!=="OFF":l(this,Tg)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==ud&&Xe("Internal method `_setVisible` called."),x(this,kg,r),x(this,Oh,t)}}_g=new WeakMap,Tg=new WeakMap,kg=new WeakMap,Oh=new WeakMap;var Ya,ze,Fh,jh,Pg,qA;class TX{constructor(e,t=Nr.DISPLAY){A(this,Pg);A(this,Ya,null);A(this,ze,new Map);A(this,Fh,null);A(this,jh,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,x(this,jh,e.order);for(const r of e.groups)l(this,ze).set(r.id,new _X(t,r));if(e.baseState==="OFF")for(const r of l(this,ze).values())r._setVisible(ud,!1);for(const r of e.on)l(this,ze).get(r)._setVisible(ud,!0);for(const r of e.off)l(this,ze).get(r)._setVisible(ud,!1);x(this,Fh,this.getHash())}}isVisible(e){if(l(this,ze).size===0)return!0;if(!e)return l0("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,ze).has(e.id)?l(this,ze).get(e.id).visible:(le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,Pg,qA).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,ze).has(t))return le(`Optional content group not found: ${t}`),!0;if(l(this,ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,ze).has(t))return le(`Optional content group not found: ${t}`),!0;if(!l(this,ze).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,ze).has(t))return le(`Optional content group not found: ${t}`),!0;if(!l(this,ze).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,ze).has(t))return le(`Optional content group not found: ${t}`),!0;if(l(this,ze).get(t).visible)return!1}return!0}return le(`Unknown optional content policy ${e.policy}.`),!0}return le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=l(this,ze).get(e);if(!i){le(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==e&&((s=l(this,ze).get(a))==null||s._setVisible(ud,!1,!0));i._setVisible(ud,!!t,!0),x(this,Ya,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=l(this,ze).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}x(this,Ya,null)}get hasInitialVisibility(){return l(this,Fh)===null||this.getHash()===l(this,Fh)}getOrder(){return l(this,ze).size?l(this,jh)?l(this,jh).slice():[...l(this,ze).keys()]:null}getGroup(e){return l(this,ze).get(e)||null}getHash(){if(l(this,Ya)!==null)return l(this,Ya);const e=new LF;for(const[t,r]of l(this,ze))e.update(`${t}:${r.visible}`);return x(this,Ya,e.hexdigest())}[Symbol.iterator](){return l(this,ze).entries()}}Ya=new WeakMap,ze=new WeakMap,Fh=new WeakMap,jh=new WeakMap,Pg=new WeakSet,qA=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=_(this,Pg,qA).call(this,s);else if(l(this,ze).has(s))o=l(this,ze).get(s).visible;else return le(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class kX{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ee(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ee(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ee(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PX(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new RX(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class PX{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=u0(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class RX{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function DX(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=c(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Xv(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,S,v]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[S,v]}const y=[];for(let m=0;m<h.length&&m in h;++m){let[S,v]=h[m];v=a(v),S&&(v=unescape(v),m===0&&(v=c(v))),y.push(v)}return y.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return i(f,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,S){return String.fromCharCode(parseInt(S,16))}),i(f,y);try{y=atob(y)}catch{}return i(f,y)})}return""}function KF(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function d0(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function XF({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function YF(n){const e=n.get("Content-Disposition");if(e){let t=DX(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(u0(t))return t}return null}function Jv(n,e){return new Mm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function QF(n){return n===200||n===206}function ZF(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function JF(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(le(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class MX{constructor(e){$(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=KF(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ee(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new NX(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new IX(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class NX{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,ZF(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=d0(s.url),!QF(s.status))throw Jv(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:c}=XF({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=c||this._contentLength,this._filename=YF(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ra("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:JF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class IX{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,ZF(s,this._withCredentials,this._abortController)).then(a=>{const c=d0(a.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!QF(a.status))throw Jv(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:JF(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const DS=200,MS=206;function LX(n){const e=n.response;return typeof e!="string"?e:Xv(e).buffer}class OX{constructor({url:e,httpHeaders:t,withCredentials:r}){$(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=KF(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=MS):i.expectedStatus=DS,t.responseType="arraybuffer",Ee(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||DS;if(!(s===DS&&r.expectedStatus===MS)&&s!==r.expectedStatus){r.onError(i.status);return}const a=LX(i);if(s===MS){const c=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?r.onDone({begin:parseInt(u[1],10),chunk:a}):(le('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class FX{constructor(e){this._source=e,this._manager=new OX(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ee(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new jX(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new BX(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class jX{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=d0(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[c,...u]=a.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=XF({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=YF(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Jv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class BX{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=d0((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Jv(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zX=/^[a-z][a-z0-9\-+.]+:/i;function $X(n){if(zX.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class UX{constructor(e){this.source=e,this.url=$X(e.url),Ee(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ee(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new HX(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new VX(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class HX{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Jv(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ra("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class VX{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const hp=Symbol("INITIAL_DATA");var wr,Rg,KA;class ej{constructor(){A(this,Rg);A(this,wr,Object.create(null))}get(e,t=null){if(t){const i=_(this,Rg,KA).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=l(this,wr)[e];if(!r||r.data===hp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=l(this,wr)[e];return!!t&&t.data!==hp}delete(e){const t=l(this,wr)[e];return!t||t.data===hp?!1:(delete l(this,wr)[e],!0)}resolve(e,t=null){const r=_(this,Rg,KA).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in l(this,wr)){const{data:r}=l(this,wr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}x(this,wr,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,wr)){const{data:t}=l(this,wr)[e];t!==hp&&(yield[e,t])}}}wr=new WeakMap,Rg=new WeakSet,KA=function(e){var t;return(t=l(this,wr))[e]||(t[e]={...Promise.withResolvers(),data:hp})};const WX=1e5,uR=30;var NR,Qa,sr,Dg,Mg,Gc,Ao,Ng,Ig,qc,Bh,zh,Za,$h,Lg,Uh,Kc,Og,Fg,Ct,Hh,Xc,jg,Ja,Vh,oa,tj,nj,XA,Hr,xx,YA,rj,ij;let Om=(Ct=class{constructor({textContentSource:e,container:t,viewport:r}){A(this,oa);A(this,Qa,Promise.withResolvers());A(this,sr,null);A(this,Dg,!1);A(this,Mg,!!((NR=globalThis.FontInspector)!=null&&NR.enabled));A(this,Gc,null);A(this,Ao,null);A(this,Ng,0);A(this,Ig,0);A(this,qc,null);A(this,Bh,null);A(this,zh,0);A(this,Za,0);A(this,$h,Object.create(null));A(this,Lg,[]);A(this,Uh,null);A(this,Kc,[]);A(this,Og,new WeakMap);A(this,Fg,null);var c;if(e instanceof ReadableStream)x(this,Uh,e);else if(typeof e=="object")x(this,Uh,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,sr,x(this,Bh,t)),x(this,Za,r.scale*Xi.pixelRatio),x(this,zh,r.rotation),x(this,Ao,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;x(this,Fg,[1,0,0,-1,-o,a+s]),x(this,Ig,i),x(this,Ng,s),_(c=Ct,Hr,rj).call(c),zl(t,r),l(this,Qa).promise.finally(()=>{l(Ct,Vh).delete(this),x(this,Ao,null),x(this,$h,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=rn.platform;return fe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,qc).read().then(({value:t,done:r})=>{if(r){l(this,Qa).resolve();return}l(this,Gc)??x(this,Gc,t.lang),Object.assign(l(this,$h),t.styles),_(this,oa,tj).call(this,t.items),e()},l(this,Qa).reject)};return x(this,qc,l(this,Uh).getReader()),l(Ct,Vh).add(this),e(),l(this,Qa).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*Xi.pixelRatio,i=e.rotation;if(i!==l(this,zh)&&(t==null||t(),x(this,zh,i),zl(l(this,Bh),{rotation:i})),r!==l(this,Za)){t==null||t(),x(this,Za,r);const o={div:null,properties:null,ctx:_(s=Ct,Hr,xx).call(s,l(this,Gc))};for(const a of l(this,Kc))o.properties=l(this,Og).get(a),o.div=a,_(this,oa,XA).call(this,o)}}cancel(){var t;const e=new ra("TextLayer task cancelled.");(t=l(this,qc))==null||t.cancel(e).catch(()=>{}),x(this,qc,null),l(this,Qa).reject(e)}get textDivs(){return l(this,Kc)}get textContentItemsStr(){return l(this,Lg)}static cleanup(){if(!(l(this,Vh).size>0)){l(this,Hh).clear();for(const{canvas:e}of l(this,Xc).values())e.remove();l(this,Xc).clear()}}},Qa=new WeakMap,sr=new WeakMap,Dg=new WeakMap,Mg=new WeakMap,Gc=new WeakMap,Ao=new WeakMap,Ng=new WeakMap,Ig=new WeakMap,qc=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Za=new WeakMap,$h=new WeakMap,Lg=new WeakMap,Uh=new WeakMap,Kc=new WeakMap,Og=new WeakMap,Fg=new WeakMap,Hh=new WeakMap,Xc=new WeakMap,jg=new WeakMap,Ja=new WeakMap,Vh=new WeakMap,oa=new WeakSet,tj=function(e){var i,s;if(l(this,Dg))return;(s=l(this,Ao)).ctx??(s.ctx=_(i=Ct,Hr,xx).call(i,l(this,Gc)));const t=l(this,Kc),r=l(this,Lg);for(const o of e){if(t.length>WX){le("Ignoring additional textDivs for performance reasons."),x(this,Dg,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,sr);x(this,sr,document.createElement("span")),l(this,sr).classList.add("markedContent"),o.id&&l(this,sr).setAttribute("id",`${o.id}`),a.append(l(this,sr))}else o.type==="endMarkedContent"&&x(this,sr,l(this,sr).parentNode);continue}r.push(o.str),_(this,oa,nj).call(this,o)}},nj=function(e){var m;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Kc).push(t);const i=Y.transform(l(this,Fg),e.transform);let s=Math.atan2(i[1],i[0]);const o=l(this,$h)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=l(this,Mg)&&o.fontSubstitution||o.fontFamily;a=Ct.fontFamilyMap.get(a)||a;const c=Math.hypot(i[2],i[3]),u=c*_(m=Ct,Hr,ij).call(m,a,o,l(this,Gc));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=t.style;l(this,sr)===l(this,Bh)?(p.left=`${(100*d/l(this,Ig)).toFixed(2)}%`,p.top=`${(100*h/l(this,Ng)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(l(Ct,Ja)*c).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Mg)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);S!==v&&Math.max(S,v)/Math.min(S,v)>1.5&&(y=!0)}if(y&&(r.canvasWidth=o.vertical?e.height:e.width),l(this,Og).set(t,r),l(this,Ao).div=t,l(this,Ao).properties=r,_(this,oa,XA).call(this,l(this,Ao)),r.hasText&&l(this,sr).append(t),r.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),l(this,sr).append(S)}},XA=function(e){var a;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(l(Ct,Ja)>1&&(o=`scale(${1/l(Ct,Ja)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:d}=r;_(a=Ct,Hr,YA).call(a,i,d*l(this,Za),c);const{width:h}=i.measureText(t.textContent);h>0&&(o=`scaleX(${u*l(this,Za)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Hr=new WeakSet,xx=function(e=null){let t=l(this,Xc).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Xc).set(e,t),l(this,jg).set(t,{size:0,family:""})}return t},YA=function(e,t,r){const i=l(this,jg).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},rj=function(){if(l(this,Ja)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),x(this,Ja,e.getBoundingClientRect().height),e.remove()},ij=function(e,t,r){const i=l(this,Hh).get(e);if(i)return i;const s=_(this,Hr,xx).call(this,r);s.canvas.width=s.canvas.height=uR,_(this,Hr,YA).call(this,s,uR,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return a?u=a/(a+c):(rn.platform.isFirefox&&le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),l(this,Hh).set(e,u),u},A(Ct,Hr),A(Ct,Hh,new Map),A(Ct,Xc,new Map),A(Ct,jg,new WeakMap),A(Ct,Ja,null),A(Ct,Vh,new Set),Ct);const GX=100;function G_(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new QA,{docId:t}=e,r=n.url?eX(n.url):null,i=n.data?tX(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof q_?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof Uf?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Qv(n.docBaseUrl)?n.docBaseUrl:null,p=Iy(n.cMapUrl),y=n.cMapPacked!==!1,m=n.CMapReaderFactory||(zn?lX:YP),S=Iy(n.iccUrl),v=Iy(n.standardFontDataUrl),b=n.StandardFontDataFactory||(zn?cX:QP),E=Iy(n.wasmUrl),C=n.WasmFactory||(zn?uX:ZP),T=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!zn,M=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!zn&&(rn.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,N=typeof n.disableFontFace=="boolean"?n.disableFontFace:zn,F=n.fontExtraProperties===!0,z=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,U=n.disableRange===!0,j=n.disableStream===!0,B=n.disableAutoFetch===!0,I=n.pdfBug===!0,O=n.CanvasFactory||(zn?aX:iX),V=n.FilterFactory||(zn?oX:sX),Q=n.enableHWA===!0,G=n.useWasm!==!1,re=c?c.length:n.length??NaN,ce=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!zn&&!N,Me=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===YP&&b===QP&&C===ZP&&p&&v&&E&&Sp(p,document.baseURI)&&Sp(v,document.baseURI)&&Sp(E,document.baseURI)),ge=null;LK(h);const oe={canvasFactory:new O({ownerDocument:L,enableHWA:Q}),filterFactory:new V({docId:t,ownerDocument:L}),cMapReaderFactory:Me?null:new m({baseUrl:p,isCompressed:y}),standardFontDataFactory:Me?null:new b({baseUrl:v}),wasmFactory:Me?null:new C({baseUrl:E})};d||(d=Uf.create({verbosity:h,port:jr.workerPort}),e._worker=d);const sn={docId:t,apiVersion:"5.4.296",data:i,password:a,disableAutoFetch:B,rangeChunkSize:u,length:re,docBaseUrl:f,enableXfa:z,evaluatorOptions:{maxImageSize:k,disableFontFace:N,ignoreErrors:T,isEvalSupported:P,isOffscreenCanvasSupported:R,isImageDecoderSupported:M,canvasMaxAreaInBytes:D,fontExtraProperties:F,useSystemFonts:ce,useWasm:G,useWorkerFetch:Me,cMapUrl:p,iccUrl:S,standardFontDataUrl:v,wasmUrl:E}},Ne={ownerDocument:L,pdfBug:I,styleElement:ge,loadingParams:{disableAutoFetch:B,enableXfa:z}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ye=d.messageHandler.sendWithPromise("GetDocRequest",sn,i?[i.buffer]:null);let kt;if(c)kt=new kX(c,{disableRange:U,disableStream:j});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const jt=Sp(r)?MX:zn?UX:FX;kt=new jt({url:r,length:re,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:U,disableStream:j})}return ye.then(jt=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ve=new kp(t,jt,d.port),Pe=new XX(ve,e,kt,Ne,oe,Q);e._transport=Pe,ve.send("Ready",null)})}).catch(e._capability.reject),e}var tb;const nb=class nb{constructor(){$(this,"_capability",Promise.withResolvers());$(this,"_transport",null);$(this,"_worker",null);$(this,"docId",`d${wt(nb,tb)._++}`);$(this,"destroyed",!1);$(this,"onPassword",null);$(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};tb=new WeakMap,A(nb,tb,0);let QA=nb;var Yc,Bg,zg,$g,Ug,IR;let q_=(IR=class{constructor(e,t,r=!1,i=null){A(this,Yc,Promise.withResolvers());A(this,Bg,[]);A(this,zg,[]);A(this,$g,[]);A(this,Ug,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){l(this,Ug).push(e)}addProgressListener(e){l(this,$g).push(e)}addProgressiveReadListener(e){l(this,zg).push(e)}addProgressiveDoneListener(e){l(this,Bg).push(e)}onDataRange(e,t){for(const r of l(this,Ug))r(e,t)}onDataProgress(e,t){l(this,Yc).promise.then(()=>{for(const r of l(this,$g))r(e,t)})}onDataProgressiveRead(e){l(this,Yc).promise.then(()=>{for(const t of l(this,zg))t(e)})}onDataProgressiveDone(){l(this,Yc).promise.then(()=>{for(const e of l(this,Bg))e()})}transportReady(){l(this,Yc).resolve()}requestDataRange(e,t){Xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Yc=new WeakMap,Bg=new WeakMap,zg=new WeakMap,$g=new WeakMap,Ug=new WeakMap,IR);class qX{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Co,Qc,Lp;class KX{constructor(e,t,r,i=!1){A(this,Qc);A(this,Co,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new HP:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new ej,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Yv({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return fe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Ns.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:y=null}){var M,D,N;(M=this._stats)==null||M.time("Overall");const m=this._transport.getRenderingIntent(i,s,h,f),{renderingIntent:S,cacheKey:v}=m;x(this,Co,!1),c||(c=this._transport.getOptionalContentConfig(S));let b=this._intentStates.get(v);b||(b=Object.create(null),this._intentStates.set(v,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const E=!!(S&Nr.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(m));const C=!!(this._pdfBug&&((N=globalThis.StepperManager)!=null&&N.enabled)),T=!this.recordedBBoxes&&(p||C),k=F=>{var z,L;if(b.renderTasks.delete(P),T){const U=(z=P.gfx)==null?void 0:z.dependencyTracker.take();U&&(P.stepper&&P.stepper.setOperatorBBoxes(U,P.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=U))}E&&x(this,Co,!0),_(this,Qc,Lp).call(this),F?(P.capability.reject(F),this._abortOperatorList({intentState:b,reason:F instanceof Error?F:new Error(F)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new ZA({callback:k,params:{canvas:t,canvasContext:e,dependencyTracker:T?new hX(t,b.operatorList.length,C):null,viewport:r,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:y});(b.renderTasks||(b.renderTasks=new Set)).add(P);const R=P.task;return Promise.all([b.displayReadyCapability.promise,c]).then(([F,z])=>{var L;if(this.destroyed){k();return}if((L=this._stats)==null||L.time("Rendering"),!(z.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:F,optionalContentConfig:z}),P.operatorListChanged()}).catch(k),R}getOperatorList({intent:e="display",annotationMode:t=Ns.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Nm.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:c,done:u}){if(u){r(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),x(this,Co,!1),Promise.all(e)}cleanup(e=!1){x(this,Co,!0);const t=_(this,Qc,Lp).call(this);return e&&t&&this._stats&&(this._stats=new HP),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&_(this,Qc,Lp).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();_(this,Qc,Lp).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof c0){let i=GX;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ra(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Co=new WeakMap,Qc=new WeakSet,Lp=function(){if(!l(this,Co)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,Co,!1),!0};var el,Mi,_o,Zc,rb,Jc,eu,Hn,wx,sj,oj,Op,Wh,bx;const st=class st{constructor({name:e=null,port:t=null,verbosity:r=OK()}={}){A(this,Hn);A(this,el,Promise.withResolvers());A(this,Mi,null);A(this,_o,null);A(this,Zc,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(l(st,eu).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(st,eu).set(t,this),_(this,Hn,sj).call(this,t)}else _(this,Hn,oj).call(this)}get promise(){return l(this,el).promise}get port(){return l(this,_o)}get messageHandler(){return l(this,Mi)}destroy(){var e,t;this.destroyed=!0,(e=l(this,Zc))==null||e.terminate(),x(this,Zc,null),l(st,eu).delete(l(this,_o)),x(this,_o,null),(t=l(this,Mi))==null||t.destroy(),x(this,Mi,null)}static create(e){const t=l(this,eu).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new st(e)}static get workerSrc(){if(jr.workerSrc)return jr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return fe(this,"_setupFakeWorkerGlobal",(async()=>l(this,Wh,bx)?l(this,Wh,bx):(await import(this.workerSrc)).WorkerMessageHandler)())}};el=new WeakMap,Mi=new WeakMap,_o=new WeakMap,Zc=new WeakMap,rb=new WeakMap,Jc=new WeakMap,eu=new WeakMap,Hn=new WeakSet,wx=function(){l(this,el).resolve(),l(this,Mi).send("configure",{verbosity:this.verbosity})},sj=function(e){x(this,_o,e),x(this,Mi,new kp("main","worker",e)),l(this,Mi).on("ready",()=>{}),_(this,Hn,wx).call(this)},oj=function(){if(l(st,Jc)||l(st,Wh,bx)){_(this,Hn,Op).call(this);return}let{workerSrc:e}=st;try{st._isSameOrigin(window.location,e)||(e=st._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new kp("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?l(this,el).reject(new Error("Worker was destroyed")):_(this,Hn,Op).call(this)},s=new AbortController;t.addEventListener("error",()=>{l(this,Zc)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}x(this,Mi,r),x(this,_o,t),x(this,Zc,t),_(this,Hn,wx).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{_(this,Hn,Op).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{l0("The worker has been disabled.")}_(this,Hn,Op).call(this)},Op=function(){l(st,Jc)||(le("Setting up fake worker."),x(st,Jc,!0)),st._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,el).reject(new Error("Worker was destroyed"));return}const t=new rX;x(this,_o,t);const r=`fake${wt(st,rb)._++}`,i=new kp(r+"_worker",r,t);e.setup(i,t),x(this,Mi,new kp(r,r+"_worker",t)),_(this,Hn,wx).call(this)}).catch(e=>{l(this,el).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Wh=new WeakSet,bx=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},A(st,Wh),A(st,rb,0),A(st,Jc,!1),A(st,eu,new WeakMap),zn&&(x(st,Jc,!0),jr.workerSrc||(jr.workerSrc="./pdf.worker.mjs")),st._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},st._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},st.fromPort=e=>{if(WK("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return st.create(e)};let Uf=st;var To,bs,Gh,qh,ko,tu,Fp;class XX{constructor(e,t,r,i,s,o){A(this,tu);A(this,To,new Map);A(this,bs,new Map);A(this,Gh,new Map);A(this,qh,new Map);A(this,ko,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new ej,this.fontLoader=new ZK({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return fe(this,"annotationStorage",new H_)}getRenderingIntent(e,t=Ns.ENABLE,r=null,i=!1,s=!1){let o=Nr.DISPLAY,a=LA;switch(e){case"any":o=Nr.ANY;break;case"display":break;case"print":o=Nr.PRINT;break;default:le(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Nr.PRINT&&r instanceof FF?r:this.annotationStorage;switch(t){case Ns.DISABLE:o+=Nr.ANNOTATIONS_DISABLE;break;case Ns.ENABLE:break;case Ns.ENABLE_FORMS:o+=Nr.ANNOTATIONS_FORMS;break;case Ns.ENABLE_STORAGE:o+=Nr.ANNOTATIONS_STORAGE,a=c.serializable;break;default:le(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Nr.IS_EDITING),s&&(o+=Nr.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=l(this,ko))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of l(this,bs).values())e.push(i._destroy());l(this,bs).clear(),l(this,Gh).clear(),l(this,qh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),l(this,To).clear(),this.filterFactory.destroy(),Om.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ra("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ee(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Ee(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{Ee(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Ee(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new qX(r,this))}),e.on("DocException",r=>{t._capability.reject(Qn(r))}),e.on("PasswordRequest",r=>{x(this,ko,Promise.withResolvers());try{if(!t.onPassword)throw Qn(r);const i=s=>{s instanceof Error?l(this,ko).reject(s):l(this,ko).resolve({password:s})};t.onPassword(i,r.code)}catch(i){l(this,ko).reject(i)}return l(this,ko).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;l(this,bs).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const h=s.error;le(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const a=new GA(s),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new JK(a,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Ee(d,"The imageRef must be defined.");for(const h of l(this,bs).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===d)return f.dataLen?(this.commonObjs.resolve(r,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var c;if(this.destroyed)return;const a=l(this,bs).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=l(this,Gh).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&l(this,qh).set(s.refStr,e);const o=new KX(t,s,this,this._params.pdfBug);return l(this,bs).set(t,o),o});return l(this,Gh).set(t,i),i}getPageIndex(e){return OA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,tu,Fp).call(this,"GetFieldObjects")}hasJSActions(){return _(this,tu,Fp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return _(this,tu,Fp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,tu,Fp).call(this,"GetOptionalContentConfig").then(t=>new TX(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,To).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new CX(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,To).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,bs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,To).clear(),this.filterFactory.destroy(!0),Om.cleanup()}}cachedPageNumber(e){if(!OA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,qh).get(t)??null}}To=new WeakMap,bs=new WeakMap,Gh=new WeakMap,qh=new WeakMap,ko=new WeakMap,tu=new WeakSet,Fp=function(e,t=null){const r=l(this,To).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return l(this,To).set(e,i),i};var tl;class YX{constructor(e){A(this,tl,null);$(this,"onContinue",null);$(this,"onError",null);x(this,tl,e)}get promise(){return l(this,tl).capability.promise}cancel(e=0){l(this,tl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,tl).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,tl);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}tl=new WeakMap;var nl,nu;const rc=class rc{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:y=null}){A(this,nl,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new YX(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(l(rc,nu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(rc,nu).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new zd(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),l(this,nl)&&(window.cancelAnimationFrame(l(this,nl)),x(this,nl,null)),l(rc,nu).delete(this._canvas),e||(e=new c0(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,nl,window.requestAnimationFrame(()=>{x(this,nl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(rc,nu).delete(this._canvas),this.callback())))}};nl=new WeakMap,nu=new WeakMap,A(rc,nu,new WeakSet);let ZA=rc;const h0="5.4.296",aj="f56dc8601";var br,ru,Kh,$t,Hg,Xh,Po,Vg,rl,Ni,Wg,$e,JA,eC,tC,Zl,lj,ga;const Zn=class Zn{constructor({editor:e=null,uiManager:t=null}){A(this,$e);A(this,br,null);A(this,ru,null);A(this,Kh);A(this,$t,null);A(this,Hg,!1);A(this,Xh,!1);A(this,Po,null);A(this,Vg);A(this,rl,null);A(this,Ni,null);var r,i;e?(x(this,Xh,!1),x(this,Po,e)):x(this,Xh,!0),x(this,Ni,(e==null?void 0:e._uiManager)||t),x(this,Vg,l(this,Ni)._eventBus),x(this,Kh,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=l(this,Ni))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),l(Zn,Wg)||x(Zn,Wg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return fe(this,"_keyboardManager",new Zv([[["Escape","mac+Escape"],Zn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zn.prototype._moveToPrevious],[["Home","mac+Home"],Zn.prototype._moveToBeginning],[["End","mac+End"],Zn.prototype._moveToEnd]]))}renderButton(){const e=x(this,br,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,Po)&&(e.ariaControls=`${l(this,Po).id}_colorpicker_dropdown`);const t=l(this,Ni)._signal;e.addEventListener("click",_(this,$e,Zl).bind(this),{signal:t}),e.addEventListener("keydown",_(this,$e,tC).bind(this),{signal:t});const r=x(this,ru,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=l(this,Kh),e.append(r),e}renderMainDropdown(){const e=x(this,$t,_(this,$e,JA).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,br)){_(this,$e,Zl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,$e,eC).call(this,t,e)}_moveToNext(e){var t,r;if(!l(this,$e,ga)){_(this,$e,Zl).call(this,e);return}if(e.target===l(this,br)){(t=l(this,$t).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=l(this,$t))==null?void 0:t.firstChild)||e.target===l(this,br)){l(this,$e,ga)&&this._hideDropdownFromKeyboard();return}l(this,$e,ga)||_(this,$e,Zl).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!l(this,$e,ga)){_(this,$e,Zl).call(this,e);return}(t=l(this,$t).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,$e,ga)){_(this,$e,Zl).call(this,e);return}(t=l(this,$t).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,$t))==null||e.classList.add("hidden"),l(this,br).ariaExpanded="false",(t=l(this,rl))==null||t.abort(),x(this,rl,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,Xh)){if(!l(this,$e,ga)){(e=l(this,Po))==null||e.unselect();return}this.hideDropdown(),l(this,br).focus({preventScroll:!0,focusVisible:l(this,Hg)})}}updateColor(e){if(l(this,ru)&&(l(this,ru).style.backgroundColor=e),!l(this,$t))return;const t=l(this,Ni).highlightColors.values();for(const r of l(this,$t).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=l(this,br))==null||e.remove(),x(this,br,null),x(this,ru,null),(t=l(this,$t))==null||t.remove(),x(this,$t,null)}};br=new WeakMap,ru=new WeakMap,Kh=new WeakMap,$t=new WeakMap,Hg=new WeakMap,Xh=new WeakMap,Po=new WeakMap,Vg=new WeakMap,rl=new WeakMap,Ni=new WeakMap,Wg=new WeakMap,$e=new WeakSet,JA=function(){const e=document.createElement("div"),t=l(this,Ni)._signal;e.addEventListener("contextmenu",Gr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,Po)&&(e.id=`${l(this,Po).id}_colorpicker_dropdown`);for(const[r,i]of l(this,Ni).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",l(Zn,Wg)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===l(this,Kh),s.addEventListener("click",_(this,$e,eC).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",_(this,$e,tC).bind(this),{signal:t}),e},eC=function(e,t){t.stopPropagation(),l(this,Vg).dispatch("switchannotationeditorparams",{source:this,type:be.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},tC=function(e){Zn._keyboardManager.exec(this,e)},Zl=function(e){if(l(this,$e,ga)){this.hideDropdown();return}if(x(this,Hg,e.detail===0),l(this,rl)||(x(this,rl,new AbortController),window.addEventListener("pointerdown",_(this,$e,lj).bind(this),{signal:l(this,Ni).combinedSignal(l(this,rl))})),l(this,br).ariaExpanded="true",l(this,$t)){l(this,$t).classList.remove("hidden");return}const t=x(this,$t,_(this,$e,JA).call(this));l(this,br).append(t)},lj=function(e){var t;(t=l(this,$t))!=null&&t.contains(e.target)||this.hideDropdown()},ga=function(){return l(this,$t)&&!l(this,$t).classList.contains("hidden")},A(Zn,Wg,null);let Fm=Zn;var Ss,Gg,Yh,qg;const ic=class ic{constructor(e){A(this,Ss,null);A(this,Gg,null);A(this,Yh,null);x(this,Gg,e),x(this,Yh,e._uiManager),l(ic,qg)||x(ic,qg,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,Ss))return l(this,Ss);const{editorType:e,colorType:t,colorValue:r}=l(this,Gg),i=x(this,Ss,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",l(ic,qg)[e]),i.addEventListener("input",()=>{l(this,Yh).updateParams(t,i.value)},{signal:l(this,Yh)._signal}),i}update(e){l(this,Ss)&&(l(this,Ss).value=e)}destroy(){var e;(e=l(this,Ss))==null||e.remove(),x(this,Ss,null)}hideDropdown(){}};Ss=new WeakMap,Gg=new WeakMap,Yh=new WeakMap,qg=new WeakMap,A(ic,qg,null);let zw=ic;function dR(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function fp(n){return Math.max(0,Math.min(255,255*n))}class hR{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=fp(e),[e,e,e]}static G_HTML([e]){const t=dR(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(fp)}static RGB_HTML(e){return`#${e.map(dR).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[fp(1-Math.min(1,e+i)),fp(1-Math.min(1,r+i)),fp(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class QX{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Xe("Abstract method `_createSVG` called.")}}class jm extends QX{_createSVG(e){return document.createElementNS(qs,e)}}const ZX=9,Uu=new WeakSet,JX=new Date().getTimezoneOffset()*60*1e3;class fR{static create(e){switch(e.data.annotationType){case Pt.LINK:return new K_(e);case Pt.TEXT:return new t7(e);case Pt.WIDGET:switch(e.data.fieldType){case"Tx":return new n7(e);case"Btn":return e.data.radioButton?new dj(e):e.data.checkBox?new i7(e):new s7(e);case"Ch":return new o7(e);case"Sig":return new r7(e)}return new Yu(e);case Pt.POPUP:return new rC(e);case Pt.FREETEXT:return new gj(e);case Pt.LINE:return new l7(e);case Pt.SQUARE:return new c7(e);case Pt.CIRCLE:return new u7(e);case Pt.POLYLINE:return new vj(e);case Pt.CARET:return new h7(e);case Pt.INK:return new X_(e);case Pt.POLYGON:return new d7(e);case Pt.HIGHLIGHT:return new yj(e);case Pt.UNDERLINE:return new f7(e);case Pt.SQUIGGLY:return new p7(e);case Pt.STRIKEOUT:return new m7(e);case Pt.STAMP:return new xj(e);case Pt.FILEATTACHMENT:return new g7(e);default:return new gt(e)}}}var iu,Qh,oi,Kg,nC;const rT=class rT{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){A(this,Kg);A(this,iu,null);A(this,Qh,!1);A(this,oi,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return rT._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const e=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],s=t[c+2]):t[c+1]===o&&(s=Math.max(s,t[c+2]));return[s,o]}if((r==null?void 0:r.length)>=1){for(const c of r)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>o?(o=c[u+1],s=c[u]):c[u+1]===o&&(s=Math.max(s,c[u]));if(s!==1/0)return[s,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-o)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${Dm}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${Dm}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=l(this,oi))==null?void 0:e.popup)||this.popup)==null||t.remove(),x(this,oi,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(l(this,iu)||x(this,iu,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&_(this,Kg,nC).call(this,t);let i=((s=l(this,oi))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=l(this,oi).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),x(this,oi,null),this.popup=null))}resetEdited(){var e;l(this,iu)&&(_(this,Kg,nC).call(this,l(this,iu).rect),(e=l(this,oi))==null||e.popup.resetEdited(),x(this,iu,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Yu)&&!(this instanceof K_)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof rC){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:a,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(m>0||S>0){const b=`calc(${m}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;o.borderRadius=b}else if(this instanceof dj){const b=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=b}switch(t.borderStyle.style){case sd.SOLID:o.borderStyle="solid";break;case sd.DASHED:o.borderStyle="dashed";break;case sd.BEVELED:le("Unimplemented border style: beveled");break;case sd.INSET:le("Unimplemented border style: inset");break;case sd.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(x(this,Qh,!0),o.borderColor=Y.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const u=Y.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(o.width=`${100*a/d}%`,o.height=`${100*c/h}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=hR[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:hR[`${o}_rgb`](a)})};return fe(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,S,v,b]=e.subarray(2,6);if(i===m&&s===S&&t===v&&r===b)return}const{style:o}=this.container;let a;if(l(this,Qh)){const{borderColor:m,borderWidth:S}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const c=i-t,u=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,S=e.length;m<S;m+=8){const v=e[m],b=e[m+1],E=e[m+2],C=e[m+3],T=d.createElement("rect"),k=(E-t)/c,P=(s-b)/u,R=(v-E)/c,M=(b-C)/u;T.setAttribute("x",k),T.setAttribute("y",P),T.setAttribute("width",R),T.setAttribute("height",M),p.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${R}" height="${M}"/>`)}l(this,Qh)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate);const s=x(this,oi,new rC({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(l(this,oi)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,oi)}render(){Xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const c=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Uu.has(u)){le(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Uu.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};iu=new WeakMap,Qh=new WeakMap,oi=new WeakMap,Kg=new WeakSet,nC=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:c}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+c)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)};let gt=rT;class e7 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Fr,Jl,cj,uj;class K_ extends gt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});A(this,Fr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(_(this,Fr,cj).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(_(this,Fr,uj).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&_(this,Fr,Jl).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),_(this,Fr,Jl).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),_(this,Fr,Jl).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),_(this,Fr,Jl).call(this),!this._fieldObjects){le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var h;i==null||i();const{fields:s,refs:o,include:a}=r,c=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const y=this._fieldObjects[p]||[];for(const{id:m}of y)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===a&&c.push(y)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!Uu.has(y)){le(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Fr=new WeakSet,Jl=function(){this.container.setAttribute("data-internal-link","")},cj=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,s),!1},_(this,Fr,Jl).call(this)},uj=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),_(this,Fr,Jl).call(this)};class t7 extends gt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Yu extends gt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return rn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[c,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Y.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||ZX,s=e.style;let o;const a=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(CS*i))||1,h=u/d;o=Math.min(i,c(h/CS))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,c(u/CS))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=Y.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class n7 extends Yu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Uu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,y=!!f&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",S=>{e.setValue(t,{value:S.target.value}),this.setPropertyOnSiblings(r,"value",S.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",S=>{const v=this.data.defaultFieldValue??"";r.value=d.userValue=v,d.formattedValue=null});let m=S=>{const{formattedValue:v}=d;v!=null&&(S.target.value=v),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var E;if(d.focused)return;const{target:b}=v;if(y&&(b.type=f,p&&(b.step=p)),d.userValue){const C=d.userValue;if(y)if(f==="time"){const T=new Date(C),k=[T.getHours(),T.getMinutes(),T.getSeconds()];b.value=k.map(P=>P.toString().padStart(2,"0")).join(":")}else b.value=new Date(C-JX).toISOString().split(f==="date"?"T":".",1)[0];else b.value=C}d.lastCommittedValue=b.value,d.commitKey=1,(E=this.data.actions)!=null&&E.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const b={value(E){d.userValue=E.detail.value??"",y||e.setValue(t,{value:d.userValue.toString()}),E.target.value=d.userValue},formattedValue(E){const{formattedValue:C}=E.detail;d.formattedValue=C,C!=null&&E.target!==document.activeElement&&(E.target.value=C);const T={formattedValue:C};y&&(T.value=C),e.setValue(t,T)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{var P;const{charLimit:C}=E.detail,{target:T}=E;if(C===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",C);let k=d.userValue;!k||k.length<=C||(k=k.slice(0,C),T.value=d.userValue=k,e.setValue(t,{value:k}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(b,v)}),r.addEventListener("keydown",v=>{var C;d.commitKey=1;let b=-1;if(v.key==="Escape"?b=0:v.key==="Enter"&&!this.data.multiLine?b=2:v.key==="Tab"&&(d.commitKey=3),b===-1)return;const{value:E}=v.target;d.lastCommittedValue!==E&&(d.lastCommittedValue=E,d.userValue=E,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:b,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const S=m;m=null,r.addEventListener("blur",v=>{var C,T;if(!d.focused||!v.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(d.focused=!1);const{target:b}=v;let{value:E}=b;if(y){if(E&&f==="time"){const k=E.split(":").map(P=>parseInt(P,10));E=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),b.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();b.type="text"}d.userValue=E,d.lastCommittedValue!==E&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),S(v)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",v=>{var M;d.lastCommittedValue=null;const{data:b,target:E}=v,{value:C,selectionStart:T,selectionEnd:k}=E;let P=T,R=k;switch(v.inputType){case"deleteWordBackward":{const D=C.substring(0,T).match(/\w*[^\w]*$/);D&&(P-=D[0].length);break}case"deleteWordForward":{const D=C.substring(T).match(/^[^\w]*\w*/);D&&(R+=D[0].length);break}case"deleteContentBackward":T===k&&(P-=1);break;case"deleteContentForward":T===k&&(R+=1);break}v.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,change:b||"",willCommit:!1,selStart:P,selEnd:R}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(m&&r.addEventListener("blur",m),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class r7 extends Yu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class i7 extends Yu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Uu.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,r)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:c})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class dj extends Yu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Uu.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:c})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class s7 extends K_{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class o7 extends Yu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Uu.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=y.has(m.value);e.setValue(t,{value:a(!0)}),c=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,y=f.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,S=>S.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:y,exportValue:m}=f.detail.insert,S=i.children[p],v=document.createElement("option");v.textContent=y,v.value=m,S?S.before(v):i.append(v),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:m,exportValue:S}=y,v=document.createElement("option");v.textContent=m,v.value=S,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);e.setValue(t,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Xg,iC;class rC extends gt{constructor(t){const{data:r,elements:i,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&gt._hasPopupData(r)});A(this,Xg);if(this.elements=i,o&&gt._hasPopupData(r)){const a=this.popup=_(this,Xg,iC).call(this);for(const c of i)c.popup=a}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=_(this,Xg,iC).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${z_}${s}`).join(",")),this.container}}Xg=new WeakSet,iC=function(){return new a7({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Sr,il,ib,sb,Zh,Jh,At,Es,sl,su,ef,tf,As,Er,Ro,Do,Kt,Mo,ol,Yg,No,nf,ou,al,_n,ll,me,Sx,sC,oC,aC,Ex,lC,hj,fj,pj,mj,Ax,Cx,cC;class a7{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:c,rect:u,parentRect:d,open:h,commentManager:f=null}){A(this,me);A(this,Sr,null);A(this,il,_(this,me,pj).bind(this));A(this,ib,_(this,me,cC).bind(this));A(this,sb,_(this,me,Cx).bind(this));A(this,Zh,_(this,me,Ax).bind(this));A(this,Jh,null);A(this,At,null);A(this,Es,null);A(this,sl,null);A(this,su,null);A(this,ef,null);A(this,tf,null);A(this,As,!1);A(this,Er,null);A(this,Ro,null);A(this,Do,null);A(this,Kt,null);A(this,Mo,null);A(this,ol,null);A(this,Yg,null);A(this,No,null);A(this,nf,null);A(this,ou,null);A(this,al,!1);A(this,_n,null);A(this,ll,null);x(this,At,e),x(this,nf,i),x(this,Es,o),x(this,No,a),x(this,ef,c),x(this,Jh,t),x(this,Yg,u),x(this,tf,d),x(this,su,r),x(this,Sr,f),x(this,_n,r[0]),x(this,sl,Im.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(_(this,me,Sx).call(this),l(this,At).hidden=!0,h&&_(this,me,Ax).call(this))}renderCommentButton(){if(l(this,Kt)||(l(this,Mo)||_(this,me,sC).call(this),!l(this,Mo)))return;const{signal:e}=x(this,Ro,new AbortController),t=!!l(this,_n).extraPopupElement,r=()=>{l(this,Sr).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{l(this,Sr).toggleCommentPopup(this,!1,!0,!t)},s=()=>{l(this,Sr).toggleCommentPopup(this,!1,!1)};if(t){x(this,Kt,l(this,_n).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",l(this,il),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=x(this,Kt,document.createElement("button"));o.className="annotationCommentButton";const a=l(this,_n).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),_(this,me,aC).call(this),_(this,me,oC).call(this),o.addEventListener("keydown",l(this,il),{signal:e}),o.addEventListener("click",r,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),a.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=l(this,_n).commentData;return e?l(this,ef)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=l(this,Kt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=l(this,_n).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return l(this,Kt)}get comment(){return l(this,ll)||x(this,ll,l(this,_n).commentText),l(this,ll)}set comment(e){e!==this.comment&&(l(this,_n).commentText=x(this,ll,e))}get parentBoundingClientRect(){return l(this,_n).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){l(this,Kt)&&(l(this,Kt).classList.toggle("selected",e),l(this,Kt).ariaExpanded=t)}setSelectedCommentButton(e){l(this,Kt).classList.toggle("selected",e)}get commentPopupPosition(){if(l(this,ol))return l(this,ol);const{x:e,y:t,height:r}=l(this,Kt).getBoundingClientRect(),{x:i,y:s,width:o,height:a}=l(this,_n).layer.getBoundingClientRect();return[(e-i)/o,(t+r-s)/a]}set commentPopupPosition(e){x(this,ol,e)}hasDefaultPopupPosition(){return l(this,ol)===null}get commentButtonPosition(){return l(this,Mo)}get commentButtonWidth(){return l(this,Kt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=l(this,ol)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:o,width:a,height:c}=i;l(this,Sr).showDialog(null,this,s+t*a,o+r*c,{...e,parentDimensions:i})}render(){var r,i;if(l(this,Er))return;const e=x(this,Er,document.createElement("div"));if(e.className="popup",l(this,Jh)){const s=e.style.outlineColor=Y.makeHexColor(...l(this,Jh));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=l(this,nf))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=l(this,nf)}if(e.append(t),l(this,sl)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,sl).valueOf()})),s.dateTime=l(this,sl).toISOString(),t.append(s)}U_({html:l(this,me,Ex)||l(this,Es).str,dir:(i=l(this,Es))==null?void 0:i.dir,className:"popupContent"},e),l(this,At).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(l(this,Sr)){r?(this.remove(),x(this,ll,null)):t&&(t.deleted?this.remove():(_(this,me,aC).call(this),x(this,ll,t.text))),e&&(x(this,Mo,null),_(this,me,sC).call(this),_(this,me,oC).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}_(this,me,Sx).call(this),l(this,ou)||x(this,ou,{contentsObj:l(this,Es),richText:l(this,No)}),e&&x(this,Do,null),t&&t.text&&(x(this,No,_(this,me,fj).call(this,t.text)),x(this,sl,Im.toDateObject(t.date)),x(this,Es,null)),(i=l(this,Er))==null||i.remove(),x(this,Er,null)}resetEdited(){var e;l(this,ou)&&({contentsObj:wt(this,Es)._,richText:wt(this,No)._}=l(this,ou),x(this,ou,null),(e=l(this,Er))==null||e.remove(),x(this,Er,null),x(this,Do,null))}remove(){var e,t,r;if((e=l(this,Ro))==null||e.abort(),x(this,Ro,null),(t=l(this,Er))==null||t.remove(),x(this,Er,null),x(this,al,!1),x(this,As,!1),(r=l(this,Kt))==null||r.remove(),x(this,Kt,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){x(this,al,this.isVisible),l(this,al)&&(l(this,At).hidden=!0)}maybeShow(){l(this,Sr)||(_(this,me,Sx).call(this),l(this,al)&&(l(this,Er)||_(this,me,Cx).call(this),x(this,al,!1),l(this,At).hidden=!1))}get isVisible(){return l(this,Sr)?!1:l(this,At).hidden===!1}}Sr=new WeakMap,il=new WeakMap,ib=new WeakMap,sb=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,At=new WeakMap,Es=new WeakMap,sl=new WeakMap,su=new WeakMap,ef=new WeakMap,tf=new WeakMap,As=new WeakMap,Er=new WeakMap,Ro=new WeakMap,Do=new WeakMap,Kt=new WeakMap,Mo=new WeakMap,ol=new WeakMap,Yg=new WeakMap,No=new WeakMap,nf=new WeakMap,ou=new WeakMap,al=new WeakMap,_n=new WeakMap,ll=new WeakMap,me=new WeakSet,Sx=function(){var t;if(l(this,Ro))return;x(this,Ro,new AbortController);const{signal:e}=l(this,Ro);for(const r of this.trigger)r.addEventListener("click",l(this,Zh),{signal:e}),r.addEventListener("pointerenter",l(this,sb),{signal:e}),r.addEventListener("pointerleave",l(this,ib),{signal:e}),r.classList.add("popupTriggerArea");for(const r of l(this,su))(t=r.container)==null||t.addEventListener("keydown",l(this,il),{signal:e})},sC=function(){const e=l(this,su).find(t=>t.hasCommentButton);e&&x(this,Mo,e._normalizePoint(e.commentButtonPosition))},oC=function(){if(l(this,_n).extraPopupElement&&!l(this,_n).editor)return;this.renderCommentButton();const[e,t]=l(this,Mo),{style:r}=l(this,Kt);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},aC=function(){l(this,_n).extraPopupElement||(this.renderCommentButton(),l(this,Kt).style.backgroundColor=this.commentButtonColor||"")},Ex=function(){const e=l(this,No),t=l(this,Es);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,No).html||null},lC=function(){var e,t,r;return((r=(t=(e=l(this,me,Ex))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},hj=function(){var e,t,r;return((r=(t=(e=l(this,me,Ex))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},fj=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:l(this,me,hj),fontSize:l(this,me,lC)?`calc(${l(this,me,lC)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},pj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,As))&&_(this,me,Ax).call(this)},mj=function(){if(l(this,Do)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=l(this,ef);let o=!!l(this,tf),a=o?l(this,tf):l(this,Yg);for(const y of l(this,su))if(!a||Y.intersect(y.data.rect,a)!==null){a=y.data.rect,o=!0;break}const c=Y.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=c[0]+d,f=c[1];x(this,Do,[100*(h-i)/t,100*(f-s)/r]);const{style:p}=l(this,At);p.left=`${l(this,Do)[0]}%`,p.top=`${l(this,Do)[1]}%`},Ax=function(){if(l(this,Sr)){l(this,Sr).toggleCommentPopup(this,!1);return}x(this,As,!l(this,As)),l(this,As)?(_(this,me,Cx).call(this),l(this,At).addEventListener("click",l(this,Zh)),l(this,At).addEventListener("keydown",l(this,il))):(_(this,me,cC).call(this),l(this,At).removeEventListener("click",l(this,Zh)),l(this,At).removeEventListener("keydown",l(this,il)))},Cx=function(){l(this,Er)||this.render(),this.isVisible?l(this,As)&&l(this,At).classList.add("focused"):(_(this,me,mj).call(this),l(this,At).hidden=!1,l(this,At).style.zIndex=parseInt(l(this,At).style.zIndex)+1e3)},cC=function(){l(this,At).classList.remove("focused"),!(l(this,As)||!this.isVisible)&&(l(this,At).hidden=!0,l(this,At).style.zIndex=parseInt(l(this,At).style.zIndex)-1e3)};class gj extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qg;class l7 extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Qg,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=x(this,Qg,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Qg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qg=new WeakMap;var Zg;class c7 extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Zg,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=x(this,Zg,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Zg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zg=new WeakMap;var Jg;class u7 extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Jg,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,a=x(this,Jg,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Jg)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jg=new WeakMap;var ev;class vj extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,ev,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:o,height:a}=this;if(!r)return this.container;const c=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],y=t[3]-r[h+1];u.push(`${p},${y}`)}u=u.join(" ");const d=x(this,ev,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,ev)}addHighlightArea(){this.container.classList.add("highlightArea")}}ev=new WeakMap;class d7 extends vj{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class h7 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var tv,au,nv,uC;class X_ extends gt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,nv);A(this,tv,null);A(this,au,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:o}}=this,{transform:a,width:c,height:u}=_(this,nv,uC).call(this,r,t),d=this.svgFactory.create(c,u,!0),h=x(this,tv,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let f=0,p=i.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);l(this,au).push(y),y.setAttribute("points",i[f].join(",")),h.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,o=l(this,tv);if(r>=0&&o.setAttribute("stroke-width",r||1),i)for(let a=0,c=l(this,au).length;a<c;a++)l(this,au)[a].setAttribute("points",i[a].join(","));if(s){const{transform:a,width:c,height:u}=_(this,nv,uC).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,au)}addHighlightArea(){this.container.classList.add("highlightArea")}}tv=new WeakMap,au=new WeakMap,nv=new WeakSet,uC=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class yj extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class f7 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class p7 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class m7 extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class xj extends gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var rv,iv,dC;class g7 extends gt{constructor(t){var i;super(t,{isRenderable:!0});A(this,iv);A(this,rv,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",_(this,iv,dC).bind(this)),x(this,rv,i);const{isMac:s}=rn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&_(this,iv,dC).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return l(this,rv)}addHighlightArea(){this.container.classList.add("highlightArea")}}rv=new WeakMap,iv=new WeakSet,dC=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var rf,lu,sf,cl,sv,cu,Hl,hC,fC,of;let Y_=(of=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a,commentManager:c,linkService:u,annotationStorage:d}){A(this,Hl);A(this,rf,null);A(this,lu,null);A(this,sf,null);A(this,cl,new Map);A(this,sv,null);A(this,cu,null);this.div=e,x(this,rf,t),x(this,lu,r),x(this,sv,a||null),x(this,cu,u||null),x(this,sf,d||new H_),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return l(this,cl).size>0}async render(e){var o,a,c;const{annotations:t}=e,r=this.div;zl(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:l(this,cu),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new jm,annotationStorage:l(this,sf),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Pt.POPUP;if(d){const p=i.get(u.id);if(!p)continue;s.elements=p}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;s.data=u;const h=fR.create(s);if(!h.isRenderable)continue;if(!d&&u.popupRef){const p=i.get(u.popupRef);p?p.push(h):i.set(u.popupRef,[h])}const f=h.render();u.hidden&&(f.style.visibility="hidden"),await _(this,Hl,hC).call(this,f,u.id,s.elements),(a=(o=h.extraPopupElement)==null?void 0:o.popup)==null||a.renderCommentButton(),h._isEditable&&(l(this,cl).set(h.data.id,h),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(h))}_(this,Hl,fC).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:l(this,cu),svgFactory:new jm,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=of._defaultBorderStyle),t.data=r;const i=fR.create(t);if(!i.isRenderable)continue;const s=i.render();await _(this,Hl,hC).call(this,s,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,zl(t,{rotation:e.rotation}),_(this,Hl,fC).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,cl).values())}getEditableAnnotation(e){return l(this,cl).get(e)}addFakeAnnotation(e){var a;const{div:t}=this,{id:r,rotation:i}=e,s=new e7({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:l(this,cu),annotationStorage:l(this,sf)}),o=s.render();return t.append(o),(a=l(this,rf))==null||a.moveElementInDOM(t,o,o,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return fe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:sd.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},rf=new WeakMap,lu=new WeakMap,sf=new WeakMap,cl=new WeakMap,sv=new WeakMap,cu=new WeakMap,Hl=new WeakSet,hC=async function(e,t,r){var a,c;const i=e.firstChild||e,s=i.id=`${z_}${t}`,o=await((a=l(this,sv))==null?void 0:a.getAriaAttributes(s));if(o)for(const[u,d]of o)i.setAttribute(u,d);r?r.at(-1).container.after(e):(this.div.append(e),(c=l(this,rf))==null||c.moveElementInDOM(this.div,e,i,!1))},fC=function(){var t;if(!l(this,lu))return;const e=this.div;for(const[r,i]of l(this,lu)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i);const a=l(this,cl).get(r);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),a._hasNoCanvas=!1):a.canvas=i)}l(this,lu).clear()},of);const zy=/\r\n?|\n/g;var Ar,ov,uu,Cr,Ft,wj,bj,Sj,_x,qo,Tx,kx,Ej,mC,Aj;const nt=class nt extends Je{constructor(t){super({...t,name:"freeTextEditor"});A(this,Ft);A(this,Ar,"");A(this,ov,`${this.id}-editor`);A(this,uu,null);A(this,Cr);$(this,"_colorPicker",null);this.color=t.color||nt._defaultColor||Je._defaultLineColor,x(this,Cr,t.fontSize||nt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=nt.prototype,r=o=>o.isEmpty(),i=$l.TRANSLATE_SMALL,s=$l.TRANSLATE_BIG;return fe(this,"_keyboardManager",new Zv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Je.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case be.FREETEXT_SIZE:nt._defaultFontSize=r;break;case be.FREETEXT_COLOR:nt._defaultColor=r;break}}updateParams(t,r){switch(t){case be.FREETEXT_SIZE:_(this,Ft,wj).call(this,r);break;case be.FREETEXT_COLOR:_(this,Ft,bj).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[be.FREETEXT_SIZE,nt._defaultFontSize],[be.FREETEXT_COLOR,nt._defaultColor||Je._defaultLineColor]]}get propertiesToUpdate(){return[[be.FREETEXT_SIZE,l(this,Cr)],[be.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new zw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return be.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-nt._internalPadding*t,-(nt._internalPadding+l(this,Cr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,uu,new AbortController);const t=this._uiManager.combinedSignal(l(this,uu));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,ov)),this._isDraggable=!0,(t=l(this,uu))==null||t.abort(),x(this,uu,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,Ar),r=x(this,Ar,_(this,Ft,Sj).call(this).trimEnd());if(t===r)return;const i=s=>{if(x(this,Ar,s),!s){this.remove();return}_(this,Ft,kx).call(this),this._uiManager.rebuild(this),_(this,Ft,_x).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),_(this,Ft,_x).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){nt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,ov)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${l(this,Cr)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let y,m;switch(this.rotation){case 0:y=t+(a[0]-f)/d,m=r+this.height-(a[1]-p)/h;break;case 90:y=t+(a[0]-f)/d,m=r-(a[1]-p)/h,[c,u]=[u,-c];break;case 180:y=t-this.width+(a[0]-f)/d,m=r-(a[1]-p)/h,[c,u]=[-c,-u];break;case 270:y=t+(a[0]-f-this.height*h)/d,m=r+(a[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(y*s,m*o,c,u)}else this._moveAfterPaste(t,r);_(this,Ft,kx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,m,S;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=_(y=nt,qo,mC).call(y,r.getData("text")||"").replaceAll(zy,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=a,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(zy,"")),v!==this.editorDiv){let b=d;for(const E of this.editorDiv.childNodes){if(E===v){b=h;continue}b.push(_(m=nt,qo,Tx).call(m,E))}}d.push(c.nodeValue.slice(0,u).replaceAll(zy,""))}else if(c===this.editorDiv){let v=d,b=0;for(const E of this.editorDiv.childNodes)b++===u&&(v=h),v.push(_(S=nt,qo,Tx).call(S,E))}x(this,Ar,`${d.join(`
`)}${s}${h.join(`
`)}`),_(this,Ft,kx).call(this);const f=new Range;let p=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const b=v.nodeValue.length;if(p<=b){f.setStart(v,p),f.setEnd(v,p);break}p-=b}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=nt._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var a;let s=null;if(t instanceof gj){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,richText:y,contentsObj:m,creationDate:S,modificationDate:v},textContent:b,textPosition:E,parent:{page:{pageNumber:C}}}=t;if(!b||b.length===0)return null;s=t={annotationType:ae.FREETEXT,color:Array.from(u),fontSize:c,value:b.join(`
`),position:E,pageIndex:C-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:y,creationDate:S,modificationDate:v}}const o=await super.deserialize(t,r,i);return x(o,Cr,t.fontSize),o.color=Y.makeHexColor(...t.color),x(o,Ar,_(a=nt,qo,mC).call(a,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Je._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:l(this,Cr),value:_(this,Ft,Ej).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!_(this,Ft,Aj).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${l(this,Cr)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of l(this,Ar).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),r.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,Ar)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ar=new WeakMap,ov=new WeakMap,uu=new WeakMap,Cr=new WeakMap,Ft=new WeakSet,wj=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-l(this,Cr))*this.parentScale),x(this,Cr,s),_(this,Ft,_x).call(this)},i=l(this,Cr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bj=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sj=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(_(i=nt,qo,Tx).call(i,s)),r=s);return t.join(`
`)},_x=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},qo=new WeakSet,Tx=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(zy,"")},kx=function(){if(this.editorDiv.replaceChildren(),!!l(this,Ar))for(const t of l(this,Ar).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},Ej=function(){return l(this,Ar).replaceAll(""," ")},mC=function(t){return t.replaceAll(" ","")},Aj=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((a,c)=>a!==s[c])||t.pageIndex!==o},A(nt,qo),$(nt,"_freeTextDefaultContent",""),$(nt,"_internalPadding",0),$(nt,"_defaultColor",null),$(nt,"_defaultFontSize",10),$(nt,"_type","freetext"),$(nt,"_editorType",ae.FREETEXT);let pC=nt;class X{toSVGPath(){Xe("Abstract method `toSVGPath` must be implemented.")}get box(){Xe("Abstract getter `box` must be implemented.")}serialize(e,t){Xe("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||(o=new Float32Array(e.length));for(let a=0,c=e.length;a<c;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}$(X,"PRECISION",1e-4);var _r,Ii,af,lf,Cs,xe,du,hu,av,lv,cf,uf,ul,cv,ob,ab,Wt,jp,Cj,_j,Tj,kj,Pj,Rj;const Js=class Js{constructor({x:e,y:t},r,i,s,o,a=0){A(this,Wt);A(this,_r);A(this,Ii,[]);A(this,af);A(this,lf);A(this,Cs,[]);A(this,xe,new Float32Array(18));A(this,du);A(this,hu);A(this,av);A(this,lv);A(this,cf);A(this,uf);A(this,ul,[]);x(this,_r,r),x(this,uf,s*i),x(this,lf,o),l(this,xe).set([NaN,NaN,NaN,NaN,e,t],6),x(this,af,a),x(this,lv,l(Js,cv)*i),x(this,av,l(Js,ab)*i),x(this,cf,i),l(this,ul).push(e,t)}isEmpty(){return isNaN(l(this,xe)[8])}add({x:e,y:t}){var M;x(this,du,e),x(this,hu,t);const[r,i,s,o]=l(this,_r);let[a,c,u,d]=l(this,xe).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<l(this,av))return!1;const y=p-l(this,lv),m=y/p,S=m*h,v=m*f;let b=a,E=c;a=u,c=d,u+=S,d+=v,(M=l(this,ul))==null||M.push(e,t);const C=-v/y,T=S/y,k=C*l(this,uf),P=T*l(this,uf);return l(this,xe).set(l(this,xe).subarray(2,8),0),l(this,xe).set([u+k,d+P],4),l(this,xe).set(l(this,xe).subarray(14,18),12),l(this,xe).set([u-k,d-P],16),isNaN(l(this,xe)[6])?(l(this,Cs).length===0&&(l(this,xe).set([a+k,c+P],2),l(this,Cs).push(NaN,NaN,NaN,NaN,(a+k-r)/s,(c+P-i)/o),l(this,xe).set([a-k,c-P],14),l(this,Ii).push(NaN,NaN,NaN,NaN,(a-k-r)/s,(c-P-i)/o)),l(this,xe).set([b,E,a,c,u,d],6),!this.isEmpty()):(l(this,xe).set([b,E,a,c,u,d],6),Math.abs(Math.atan2(E-c,b-a)-Math.atan2(v,S))<Math.PI/2?([a,c,u,d]=l(this,xe).subarray(2,6),l(this,Cs).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((c+d)/2-i)/o),[a,c,b,E]=l(this,xe).subarray(14,18),l(this,Ii).push(NaN,NaN,NaN,NaN,((b+a)/2-r)/s,((E+c)/2-i)/o),!0):([b,E,a,c,u,d]=l(this,xe).subarray(0,6),l(this,Cs).push(((b+5*a)/6-r)/s,((E+5*c)/6-i)/o,((5*a+u)/6-r)/s,((5*c+d)/6-i)/o,((a+u)/2-r)/s,((c+d)/2-i)/o),[u,d,a,c,b,E]=l(this,xe).subarray(12,18),l(this,Ii).push(((b+5*a)/6-r)/s,((E+5*c)/6-i)/o,((5*a+u)/6-r)/s,((5*c+d)/6-i)/o,((a+u)/2-r)/s,((c+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,Cs),t=l(this,Ii);if(isNaN(l(this,xe)[6])&&!this.isEmpty())return _(this,Wt,Cj).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);_(this,Wt,Tj).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return _(this,Wt,_j).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new Dj(e,t,r,i,s,o)}getOutlines(){var h;const e=l(this,Cs),t=l(this,Ii),r=l(this,xe),[i,s,o,a]=l(this,_r),c=new Float32Array((((h=l(this,ul))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(l(this,ul)[f]-i)/o,c[f+1]=(l(this,ul)[f+1]-s)/a;if(c[c.length-2]=(l(this,du)-i)/o,c[c.length-1]=(l(this,hu)-s)/a,isNaN(r[6])&&!this.isEmpty())return _(this,Wt,kj).call(this,c);const u=new Float32Array(l(this,Cs).length+24+l(this,Ii).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=_(this,Wt,Rj).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return _(this,Wt,Pj).call(this,u,d),this.newFreeDrawOutline(u,c,l(this,_r),l(this,cf),l(this,af),l(this,lf))}};_r=new WeakMap,Ii=new WeakMap,af=new WeakMap,lf=new WeakMap,Cs=new WeakMap,xe=new WeakMap,du=new WeakMap,hu=new WeakMap,av=new WeakMap,lv=new WeakMap,cf=new WeakMap,uf=new WeakMap,ul=new WeakMap,cv=new WeakMap,ob=new WeakMap,ab=new WeakMap,Wt=new WeakSet,jp=function(){const e=l(this,xe).subarray(4,6),t=l(this,xe).subarray(16,18),[r,i,s,o]=l(this,_r);return[(l(this,du)+(e[0]-t[0])/2-r)/s,(l(this,hu)+(e[1]-t[1])/2-i)/o,(l(this,du)+(t[0]-e[0])/2-r)/s,(l(this,hu)+(t[1]-e[1])/2-i)/o]},Cj=function(){const[e,t,r,i]=l(this,_r),[s,o,a,c]=_(this,Wt,jp).call(this);return`M${(l(this,xe)[2]-e)/r} ${(l(this,xe)[3]-t)/i} L${(l(this,xe)[4]-e)/r} ${(l(this,xe)[5]-t)/i} L${s} ${o} L${a} ${c} L${(l(this,xe)[16]-e)/r} ${(l(this,xe)[17]-t)/i} L${(l(this,xe)[14]-e)/r} ${(l(this,xe)[15]-t)/i} Z`},_j=function(e){const t=l(this,Ii);e.push(`L${t[4]} ${t[5]} Z`)},Tj=function(e){const[t,r,i,s]=l(this,_r),o=l(this,xe).subarray(4,6),a=l(this,xe).subarray(16,18),[c,u,d,h]=_(this,Wt,jp).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${c} ${u} L${d} ${h} L${(a[0]-t)/i} ${(a[1]-r)/s}`)},kj=function(e){const t=l(this,xe),[r,i,s,o]=l(this,_r),[a,c,u,d]=_(this,Wt,jp).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(h,e,l(this,_r),l(this,cf),l(this,af),l(this,lf))},Pj=function(e,t){const r=l(this,Ii);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},Rj=function(e,t){const r=l(this,xe).subarray(4,6),i=l(this,xe).subarray(16,18),[s,o,a,c]=l(this,_r),[u,d,h,f]=_(this,Wt,jp).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/c],t),t+=24},A(Js,cv,8),A(Js,ob,2),A(Js,ab,l(Js,cv)+l(Js,ob));let $w=Js;var df,fu,Io,uv,Tr,dv,Dt,lb,Mj;class Dj extends X{constructor(t,r,i,s,o,a){super();A(this,lb);A(this,df);A(this,fu,new Float32Array(4));A(this,Io);A(this,uv);A(this,Tr);A(this,dv);A(this,Dt);x(this,Dt,t),x(this,Tr,r),x(this,df,i),x(this,dv,s),x(this,Io,o),x(this,uv,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],_(this,lb,Mj).call(this,a);const[c,u,d,h]=l(this,fu);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-c)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${l(this,Dt)[4]} ${l(this,Dt)[5]}`];for(let r=6,i=l(this,Dt).length;r<i;r+=6){if(isNaN(l(this,Dt)[r])){t.push(`L${l(this,Dt)[r+4]} ${l(this,Dt)[r+5]}`);continue}t.push(`C${l(this,Dt)[r]} ${l(this,Dt)[r+1]} ${l(this,Dt)[r+2]} ${l(this,Dt)[r+3]} ${l(this,Dt)[r+4]} ${l(this,Dt)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const a=i-t,c=s-r;let u,d;switch(o){case 0:u=X._rescale(l(this,Dt),t,s,a,-c),d=X._rescale(l(this,Tr),t,s,a,-c);break;case 90:u=X._rescaleAndSwap(l(this,Dt),t,r,a,c),d=X._rescaleAndSwap(l(this,Tr),t,r,a,c);break;case 180:u=X._rescale(l(this,Dt),i,r,-a,c),d=X._rescale(l(this,Tr),i,r,-a,c);break;case 270:u=X._rescaleAndSwap(l(this,Dt),i,s,-a,-c),d=X._rescaleAndSwap(l(this,Tr),i,s,-a,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return l(this,fu)}newOutliner(t,r,i,s,o,a=0){return new $w(t,r,i,s,o,a)}getNewOutline(t,r){const[i,s,o,a]=l(this,fu),[c,u,d,h]=l(this,df),f=o*d,p=a*h,y=i*d+c,m=s*h+u,S=this.newOutliner({x:l(this,Tr)[0]*f+y,y:l(this,Tr)[1]*p+m},l(this,df),l(this,dv),t,l(this,uv),r??l(this,Io));for(let v=2;v<l(this,Tr).length;v+=2)S.add({x:l(this,Tr)[v]*f+y,y:l(this,Tr)[v+1]*p+m});return S.getOutlines()}}df=new WeakMap,fu=new WeakMap,Io=new WeakMap,uv=new WeakMap,Tr=new WeakMap,dv=new WeakMap,Dt=new WeakMap,lb=new WeakSet,Mj=function(t){const r=l(this,Dt);let i=r[4],s=r[5];const o=[i,s,i,s];let a=i,c=s,u=i,d=s;const h=t?Math.max:Math.min,f=new Float32Array(4);for(let y=6,m=r.length;y<m;y+=6){const S=r[y+4],v=r[y+5];isNaN(r[y])?(Y.pointBoundingBox(S,v,o),c>v?(a=S,c=v):c===v&&(a=h(a,S)),d<v?(u=S,d=v):d===v&&(u=h(u,S))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,Y.bezierBoundingBox(i,s,...r.slice(y,y+6),f),Y.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(a=f[0],c=f[1]):c===f[1]&&(a=h(a,f[0])),d<f[3]?(u=f[2],d=f[3]):d===f[3]&&(u=h(u,f[2]))),i=S,s=v}const p=l(this,fu);p[0]=o[0]-l(this,Io),p[1]=o[1]-l(this,Io),p[2]=o[2]-o[0]+2*l(this,Io),p[3]=o[3]-o[1]+2*l(this,Io),this.firstPoint=[a,c],this.lastPoint=[u,d]};var hv,fv,pv,dl,Li,Wn,Nj,Px,Ij,Lj,vC;class gC{constructor(e,t=0,r=0,i=!0){A(this,Wn);A(this,hv);A(this,fv);A(this,pv);A(this,dl,[]);A(this,Li,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:m,y:S,width:v,height:b}of e){const E=Math.floor((m-t)/o)*o,C=Math.ceil((m+v+t)/o)*o,T=Math.floor((S-t)/o)*o,k=Math.ceil((S+b+t)/o)*o,P=[E,T,k,!0],R=[C,T,k,!1];l(this,dl).push(P,R),Y.rectBoundingBox(E,T,C,k,s)}const a=s[2]-s[0]+2*r,c=s[3]-s[1]+2*r,u=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,f=1/0;const p=l(this,dl).at(i?-1:-2),y=[p[0],p[2]];for(const m of l(this,dl)){const[S,v,b,E]=m;!E&&i?v<f?(f=v,h=S):v===f&&(h=Math.max(h,S)):E&&!i&&(v<f?(f=v,h=S):v===f&&(h=Math.min(h,S))),m[0]=(S-u)/a,m[1]=(v-d)/c,m[2]=(b-d)/c}x(this,hv,new Float32Array([u,d,a,c])),x(this,fv,[h,f]),x(this,pv,y)}getOutlines(){l(this,dl).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of l(this,dl))t[3]?(e.push(..._(this,Wn,vC).call(this,t)),_(this,Wn,Ij).call(this,t)):(_(this,Wn,Lj).call(this,t),e.push(..._(this,Wn,vC).call(this,t)));return _(this,Wn,Nj).call(this,e)}}hv=new WeakMap,fv=new WeakMap,pv=new WeakMap,dl=new WeakMap,Li=new WeakMap,Wn=new WeakSet,Nj=function(e){const t=[],r=new Set;for(const o of e){const[a,c,u]=o;t.push([a,c,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),r.add(c),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,c,u,d,h]=o;r.delete(o);let f=a,p=c;for(s=[a,u],i.push(s);;){let y;if(r.has(d))y=d;else if(r.has(h))y=h;else break;r.delete(y),[a,c,u,d,h]=y,f!==a&&(s.push(f,p,a,p===c?c:u),f=a),p=p===c?u:c}s.push(f,p)}return new v7(i,l(this,hv),l(this,fv),l(this,pv))},Px=function(e){const t=l(this,Li);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},Ij=function([,e,t]){const r=_(this,Wn,Px).call(this,e);l(this,Li).splice(r,0,[e,t])},Lj=function([,e,t]){const r=_(this,Wn,Px).call(this,e);for(let i=r;i<l(this,Li).length;i++){const[s,o]=l(this,Li)[i];if(s!==e)break;if(s===e&&o===t){l(this,Li).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=l(this,Li)[i];if(s!==e)break;if(s===e&&o===t){l(this,Li).splice(i,1);return}}},vC=function(e){const[t,r,i]=e,s=[[t,r,i]],o=_(this,Wn,Px).call(this,i);for(let a=0;a<o;a++){const[c,u]=l(this,Li)[a];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=c,p>u&&s.push([t,u,p])}}}return s};var mv,hf;class v7 extends X{constructor(t,r,i,s){super();A(this,mv);A(this,hf);x(this,hf,t),x(this,mv,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of l(this,hf)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],c=r[o+1];a===i?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${a}`),i=a)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const a=[],c=i-t,u=s-r;for(const d of l(this,hf)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=s-d[f+1]*u;a.push(h)}return a}get box(){return l(this,mv)}get classNamesForOutlining(){return["highlightOutline"]}}mv=new WeakMap,hf=new WeakMap;class yC extends $w{newFreeDrawOutline(e,t,r,i,s,o){return new y7(e,t,r,i,s,o)}}class y7 extends Dj{newOutliner(e,t,r,i,s,o=0){return new yC(e,t,r,i,s,o)}}var ff,gv,Lo,pu,vv,or,yv,xv,mu,kr,Pr,un,pf,mf,Tn,gf,ai,wv,pe,xC,Rx,Oj,Fj,jj,wC,ec,hi,dd,Bj,Dx,Mx,zj,$j,Uj,Hj,Vj;const ke=class ke extends Je{constructor(t){super({...t,name:"highlightEditor"});A(this,pe);A(this,ff,null);A(this,gv,0);A(this,Lo);A(this,pu,null);A(this,vv,null);A(this,or,null);A(this,yv,null);A(this,xv,0);A(this,mu,null);A(this,kr,null);A(this,Pr,null);A(this,un,!1);A(this,pf,null);A(this,mf,null);A(this,Tn,null);A(this,gf,"");A(this,ai);A(this,wv,"");this.color=t.color||ke._defaultColor,x(this,ai,t.thickness||ke._defaultThickness),this.opacity=t.opacity||ke._defaultOpacity,x(this,Lo,t.boxes||null),x(this,wv,t.methodOfCreation||""),x(this,gf,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(x(this,un,!0),_(this,pe,Rx).call(this,t),_(this,pe,ec).call(this)):l(this,Lo)&&(x(this,ff,t.anchorNode),x(this,gv,t.anchorOffset),x(this,yv,t.focusNode),x(this,xv,t.focusOffset),_(this,pe,xC).call(this),_(this,pe,ec).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=ke.prototype;return fe(this,"_keyboardManager",new Zv([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,un)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,ai),methodOfCreation:l(this,wv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Je.initialize(t,r),ke._defaultColor||(ke._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case be.HIGHLIGHT_COLOR:ke._defaultColor=r;break;case be.HIGHLIGHT_THICKNESS:ke._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return l(this,mf)}get commentButtonPosition(){return l(this,pf)}updateParams(t,r){switch(t){case be.HIGHLIGHT_COLOR:_(this,pe,Oj).call(this,r);break;case be.HIGHLIGHT_THICKNESS:_(this,pe,Fj).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[be.HIGHLIGHT_COLOR,ke._defaultColor],[be.HIGHLIGHT_THICKNESS,ke._defaultThickness]]}get propertiesToUpdate(){return[[be.HIGHLIGHT_COLOR,this.color||ke._defaultColor],[be.HIGHLIGHT_THICKNESS,l(this,ai)||ke._defaultThickness],[be.HIGHLIGHT_FREE,l(this,un)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Pr),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=l(this,vv))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",x(this,vv,new Fm({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,pe,Mx).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,_(this,pe,Mx).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){_(this,pe,wC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,pe,ec).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?_(this,pe,wC).call(this):t&&(_(this,pe,ec).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,a;const{drawLayer:r}=this.parent;let i;l(this,un)?(t=(t-this.rotation+360)%360,i=_(s=ke,hi,dd).call(s,l(this,kr).box,t)):i=_(o=ke,hi,dd).call(o,[this.x,this.y,this.width,this.height],t),r.updateProperties(l(this,Pr),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(l(this,Tn),{bbox:_(a=ke,hi,dd).call(a,l(this,or).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,gf)&&(t.setAttribute("aria-label",l(this,gf)),t.setAttribute("role","mark")),l(this,un)?t.classList.add("free"):this.div.addEventListener("keydown",_(this,pe,Bj).bind(this),{signal:this._uiManager._signal});const r=x(this,mu,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=l(this,pu),this.setDims(this.width,this.height),dF(this,l(this,mu),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Tn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Tn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,pe,Dx).call(this,!0);break;case 1:case 3:_(this,pe,Dx).call(this,!1);break}}select(){var t;super.select(),l(this,Tn)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Tn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,Tn)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Tn),{rootClass:{selected:!1}}),l(this,un)||_(this,pe,Dx).call(this,!1))}get _mustFixPosition(){return!l(this,un)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Pr),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,Tn),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:a,y:c,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=y=>{h.abort(),_(this,hi,Hj).call(this,t,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",pt,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Gr,{signal:f}),i.addEventListener("pointermove",_(this,hi,Uj).bind(this,t),{signal:f}),this._freeHighlight=new yC({x:s,y:o},[a,c,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var m,S,v,b;let s=null;if(t instanceof yj){const{data:{quadPoints:E,rect:C,rotation:T,id:k,color:P,opacity:R,popupRef:M,richText:D,contentsObj:N,creationDate:F,modificationDate:z},parent:{page:{pageNumber:L}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(P),opacity:R,quadPoints:E,boxes:null,pageIndex:L-1,rect:C.slice(0),rotation:T,annotationElementId:k,id:k,deleted:!1,popupRef:M,richText:D,comment:(N==null?void 0:N.str)||null,creationDate:F,modificationDate:z}}else if(t instanceof X_){const{data:{inkLists:E,rect:C,rotation:T,id:k,color:P,borderStyle:{rawWidth:R},popupRef:M,richText:D,contentsObj:N,creationDate:F,modificationDate:z},parent:{page:{pageNumber:L}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(P),thickness:R,inkLists:E,boxes:null,pageIndex:L-1,rect:C.slice(0),rotation:T,annotationElementId:k,id:k,deleted:!1,popupRef:M,richText:D,comment:(N==null?void 0:N.str)||null,creationDate:F,modificationDate:z}}const{color:o,quadPoints:a,inkLists:c,opacity:u}=t,d=await super.deserialize(t,r,i);d.color=Y.makeHexColor(...o),d.opacity=u||1,c&&x(d,ai,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,f]=d.pageDimensions,[p,y]=d.pageTranslation;if(a){const E=x(d,Lo,[]);for(let C=0;C<a.length;C+=8)E.push({x:(a[C]-p)/h,y:1-(a[C+1]-y)/f,width:(a[C+2]-a[C])/h,height:(a[C+1]-a[C+5])/f});_(m=d,pe,xC).call(m),_(S=d,pe,ec).call(S),d.rotate(d.rotation)}else if(c){x(d,un,!0);const E=c[0],C={x:E[0]-p,y:f-(E[1]-y)},T=new yC(C,[0,0,h,f],1,l(d,ai)/2,!0,.001);for(let R=0,M=E.length;R<M;R+=2)C.x=E[R]-p,C.y=f-(E[R+1]-y),T.add(C);const{id:k,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);_(v=d,pe,Rx).call(v,{highlightOutlines:T.getOutlines(),highlightId:k,clipPathId:P}),_(b=d,pe,ec).call(b),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Je._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:l(this,ai),quadPoints:_(this,pe,zj).call(this),outlines:_(this,pe,$j).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!_(this,pe,Vj).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};ff=new WeakMap,gv=new WeakMap,Lo=new WeakMap,pu=new WeakMap,vv=new WeakMap,or=new WeakMap,yv=new WeakMap,xv=new WeakMap,mu=new WeakMap,kr=new WeakMap,Pr=new WeakMap,un=new WeakMap,pf=new WeakMap,mf=new WeakMap,Tn=new WeakMap,gf=new WeakMap,ai=new WeakMap,wv=new WeakMap,pe=new WeakSet,xC=function(){const t=new gC(l(this,Lo),.001);x(this,kr,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,kr).box;const r=new gC(l(this,Lo),.0025,.001,this._uiManager.direction==="ltr");x(this,or,r.getOutlines());const{firstPoint:i}=l(this,kr);x(this,pf,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=l(this,or);x(this,mf,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Rx=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var f,p;if(x(this,kr,t),x(this,or,t.getNewOutline(l(this,ai)/2+1.5,.0025)),r>=0)x(this,Pr,r),x(this,pu,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),x(this,Tn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,or).box,path:{d:l(this,or).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Pr),{bbox:_(f=ke,hi,dd).call(f,l(this,kr).box,(y-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Tn),{bbox:_(p=ke,hi,dd).call(p,l(this,or).box,y),path:{d:l(this,or).toSVGPath()}})}const[o,a,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=u;break;case 90:{const[y,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*m/y,this.height=u*y/m;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=u;break;case 270:{const[y,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*m/y,this.height=u*y/m;break}}const{firstPoint:d}=t;x(this,pf,[(d[0]-o)/c,(d[1]-a)/u]);const{lastPoint:h}=l(this,or);x(this,mf,[(h[0]-o)/c,(h[1]-a)/u])},Oj=function(t){const r=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,ke._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},Fj=function(t){const r=l(this,ai),i=s=>{x(this,ai,s),_(this,pe,jj).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},jj=function(t){l(this,un)&&(_(this,pe,Rx).call(this,{highlightOutlines:l(this,kr).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},wC=function(){l(this,Pr)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Pr)),x(this,Pr,null),this.parent.drawLayer.remove(l(this,Tn)),x(this,Tn,null))},ec=function(t=this.parent){l(this,Pr)===null&&({id:wt(this,Pr)._,clipPathId:wt(this,pu)._}=t.drawLayer.draw({bbox:l(this,kr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,un)},path:{d:l(this,kr).toSVGPath()}},!1,!0),x(this,Tn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,un)},bbox:l(this,or).box,path:{d:l(this,or).toSVGPath()}},l(this,un))),l(this,mu)&&(l(this,mu).style.clipPath=l(this,pu)))},hi=new WeakSet,dd=function([t,r,i,s],o){switch(o){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},Bj=function(t){ke._keyboardManager.exec(this,t)},Dx=function(t){if(!l(this,ff))return;const r=window.getSelection();t?r.setPosition(l(this,ff),l(this,gv)):r.setPosition(l(this,yv),l(this,xv))},Mx=function(){return l(this,un)?this.rotation:0},zj=function(){if(l(this,un))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=l(this,Lo),a=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+i,y=(1-d)*r+s;a[c]=a[c+4]=p,a[c+1]=a[c+3]=y,a[c+2]=a[c+6]=p+h*t,a[c+5]=a[c+7]=y-f*r,c+=8}return a},$j=function(t){return l(this,kr).serialize(t,_(this,pe,Mx).call(this))},Uj=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Hj=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Vj=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},A(ke,hi),$(ke,"_defaultColor",null),$(ke,"_defaultOpacity",1),$(ke,"_defaultThickness",12),$(ke,"_type","highlight"),$(ke,"_editorType",ae.HIGHLIGHT),$(ke,"_freeHighlightId",-1),$(ke,"_freeHighlight",null),$(ke,"_freeHighlightClipId","");let Uw=ke;var gu;class Wj{constructor(){A(this,gu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){l(this,gu)[e]=t}toSVGProperties(){const e=l(this,gu);return x(this,gu,Object.create(null)),{root:e}}reset(){x(this,gu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Xe("Not implemented")}}gu=new WeakMap;var Rr,vf,Xt,vu,yu,hl,fl,pl,xu,_e,bC,SC,EC,Bp,Gj,Nx,zp,hd;const J=class J extends Je{constructor(t){super(t);A(this,_e);A(this,Rr,null);A(this,vf);$(this,"_colorPicker",null);$(this,"_drawId",null);x(this,vf,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(_(this,_e,bC).call(this,t),_(this,_e,Bp).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,o]of Object.entries(r))i.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Xe("Not implemented")}static get typesMap(){Xe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(l(J,Xt).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,o=s[r],a=c=>{var d;s.updateProperty(r,c);const u=l(this,Rr).updateProperty(r,c);u&&_(this,_e,zp).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,Rr).getPathResizingSVGProperties(_(this,_e,Nx).call(this)),{bbox:_(this,_e,hd).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,Rr).getPathResizedSVGProperties(_(this,_e,Nx).call(this)),{bbox:_(this,_e,hd).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:_(this,_e,hd).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties(l(this,Rr).getPathTranslatedSVGProperties(_(this,_e,Nx).call(this),this.parentDimensions),{bbox:_(this,_e,hd).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,vf)&&(x(this,vf,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){_(this,_e,EC).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,_e,Bp).call(this),_(this,_e,zp).call(this,l(this,Rr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),_(this,_e,EC).call(this)):t&&(this._uiManager.addShouldRescale(this),_(this,_e,Bp).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,J._mergeSVGProperties({bbox:_(this,_e,hd).call(this)},l(this,Rr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&_(this,_e,zp).call(this,l(this,Rr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,o){Xe("Not implemented")}static startDrawing(t,r,i,s){var S;const{target:o,offsetX:a,offsetY:c,pointerId:u,pointerType:d}=s;if(l(J,fl)&&l(J,fl)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),y=x(J,vu,new AbortController),m=t.combinedSignal(y);if(l(J,hl)||x(J,hl,u),l(J,fl)??x(J,fl,d),window.addEventListener("pointerup",v=>{var b;l(J,hl)===v.pointerId?this._endDraw(v):(b=l(J,pl))==null||b.delete(v.pointerId)},{signal:m}),window.addEventListener("pointercancel",v=>{var b;l(J,hl)===v.pointerId?this._currentParent.endDrawingSession():(b=l(J,pl))==null||b.delete(v.pointerId)},{signal:m}),window.addEventListener("pointerdown",v=>{l(J,fl)===v.pointerType&&((l(J,pl)||x(J,pl,new Set)).add(v.pointerId),l(J,Xt).isCancellable()&&(l(J,Xt).removeLastElement(),l(J,Xt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Gr,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",v=>{v.timeStamp===l(J,xu)&&pt(v)},{signal:m}),t.toggleDrawing(),(S=r._editorUndoBar)==null||S.hide(),l(J,Xt)){t.drawLayer.updateProperties(this._currentDrawId,l(J,Xt).startNew(a,c,f,p,h));return}r.updateUIForDefaultProperties(this),x(J,Xt,this.createDrawerInstance(a,c,f,p,h)),x(J,yu,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(J,yu).toSVGProperties(),l(J,Xt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(x(J,xu,-1),!l(J,Xt))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(l(J,hl)===s){if(((o=l(J,pl))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(J,Xt).add(r,i)),x(J,xu,t.timeStamp),pt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,x(J,Xt,null),x(J,yu,null),x(J,fl,null),x(J,xu,NaN)),l(J,vu)&&(l(J,vu).abort(),x(J,vu,null),x(J,hl,NaN),x(J,pl,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,l(J,Xt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=l(J,Xt),s=this._currentDrawId,o=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(o))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:be.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(be.DRAW_STEP),!l(J,Xt).isEmpty()){const{pageDimensions:[i,s],scale:o}=r,a=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(J,Xt).getOutlines(i*o,s*o,o,this._INNER_MARGIN),drawingOptions:l(J,yu),mustBeCommitted:!t});return this._cleanup(!0),a}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,o,a){Xe("Not implemented")}static async deserialize(t,r,i){var h,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:c}}=r.viewport,u=this.deserializeDraw(a,c,s,o,this._INNER_MARGIN,t),d=await super.deserialize(t,r,i);return d.createDrawingOptions(t),_(h=d,_e,bC).call(h,{drawOutlines:u}),_(f=d,_e,Bp).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[r,i]=this.pageTranslation,[s,o]=this.pageDimensions;return l(this,Rr).serialize([r,i,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Rr=new WeakMap,vf=new WeakMap,Xt=new WeakMap,vu=new WeakMap,yu=new WeakMap,hl=new WeakMap,fl=new WeakMap,pl=new WeakMap,xu=new WeakMap,_e=new WeakSet,bC=function({drawOutlines:t,drawId:r,drawingOptions:i}){x(this,Rr,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=_(this,_e,SC).call(this,t,this.parent),_(this,_e,zp).call(this,t.box)},SC=function(t,r){const{id:i}=r.drawLayer.draw(J._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},EC=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Bp=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=_(this,_e,SC).call(this,l(this,Rr),t)}},Gj=function([t,r,i,s]){const{parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[r,1-t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},Nx=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[o,a],rotation:c}=this;switch(c){case 90:return[1-r,t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},zp=function(t){[this.x,this.y,this.width,this.height]=_(this,_e,Gj).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},hd=function(){const{x:t,y:r,width:i,height:s,rotation:o,parentRotation:a,parentDimensions:[c,u]}=this;switch((o*4+a)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(c/u),s*(u/c),i*(c/u)];case 5:return[1-r,t,i*(c/u),s*(u/c)];case 6:return[1-t-s*(u/c),1-r,s*(u/c),i*(c/u)];case 7:return[r-i*(c/u),1-t-s*(u/c),i*(c/u),s*(u/c)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/c),r,s*(u/c),i*(c/u)];case 13:return[1-r-i*(c/u),t-s*(u/c),i*(c/u),s*(u/c)];case 14:return[1-t,1-r-i*(c/u),s*(u/c),i*(c/u)];case 15:return[r,1-t,i*(c/u),s*(u/c)];default:return[t,r,i,s]}},$(J,"_currentDrawId",-1),$(J,"_currentParent",null),A(J,Xt,null),A(J,vu,null),A(J,yu,null),A(J,hl,NaN),A(J,fl,null),A(J,pl,null),A(J,xu,NaN),$(J,"_INNER_MARGIN",3);let Hw=J;var _s,Yt,Qt,wu,yf,Fn,dn,li,bu,Su,Eu,xf,Ix;class x7{constructor(e,t,r,i,s,o){A(this,xf);A(this,_s,new Float64Array(6));A(this,Yt);A(this,Qt);A(this,wu);A(this,yf);A(this,Fn);A(this,dn,"");A(this,li,0);A(this,bu,new ey);A(this,Su);A(this,Eu);x(this,Su,r),x(this,Eu,i),x(this,wu,s),x(this,yf,o),[e,t]=_(this,xf,Ix).call(this,e,t);const a=x(this,Yt,[NaN,NaN,NaN,NaN,e,t]);x(this,Fn,[e,t]),x(this,Qt,[{line:a,points:l(this,Fn)}]),l(this,_s).set(a,0)}updateProperty(e,t){e==="stroke-width"&&x(this,yf,t)}isEmpty(){return!l(this,Qt)||l(this,Qt).length===0}isCancellable(){return l(this,Fn).length<=10}add(e,t){[e,t]=_(this,xf,Ix).call(this,e,t);const[r,i,s,o]=l(this,_s).subarray(2,6),a=e-s,c=t-o;return Math.hypot(l(this,Su)*a,l(this,Eu)*c)<=2?null:(l(this,Fn).push(e,t),isNaN(r)?(l(this,_s).set([s,o,e,t],2),l(this,Yt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,_s)[0])&&l(this,Yt).splice(6,6),l(this,_s).set([r,i,s,o,e,t],0),l(this,Yt).push(...X.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(l(this,Fn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){x(this,Su,r),x(this,Eu,i),x(this,wu,s),[e,t]=_(this,xf,Ix).call(this,e,t);const o=x(this,Yt,[NaN,NaN,NaN,NaN,e,t]);x(this,Fn,[e,t]);const a=l(this,Qt).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,Qt).push({line:o,points:l(this,Fn)}),l(this,_s).set(o,0),x(this,li,0),this.toSVGPath(),null}getLastElement(){return l(this,Qt).at(-1)}setLastElement(e){return l(this,Qt)?(l(this,Qt).push(e),x(this,Yt,e.line),x(this,Fn,e.points),x(this,li,0),{path:{d:this.toSVGPath()}}):l(this,bu).setLastElement(e)}removeLastElement(){if(!l(this,Qt))return l(this,bu).removeLastElement();l(this,Qt).pop(),x(this,dn,"");for(let e=0,t=l(this,Qt).length;e<t;e++){const{line:r,points:i}=l(this,Qt)[e];x(this,Yt,r),x(this,Fn,i),x(this,li,0),this.toSVGPath()}return{path:{d:l(this,dn)}}}toSVGPath(){const e=X.svgRound(l(this,Yt)[4]),t=X.svgRound(l(this,Yt)[5]);if(l(this,Fn).length===2)return x(this,dn,`${l(this,dn)} M ${e} ${t} Z`),l(this,dn);if(l(this,Fn).length<=6){const i=l(this,dn).lastIndexOf("M");x(this,dn,`${l(this,dn).slice(0,i)} M ${e} ${t}`),x(this,li,6)}if(l(this,Fn).length===4){const i=X.svgRound(l(this,Yt)[10]),s=X.svgRound(l(this,Yt)[11]);return x(this,dn,`${l(this,dn)} L ${i} ${s}`),x(this,li,12),l(this,dn)}const r=[];l(this,li)===0&&(r.push(`M ${e} ${t}`),x(this,li,6));for(let i=l(this,li),s=l(this,Yt).length;i<s;i+=6){const[o,a,c,u,d,h]=l(this,Yt).slice(i,i+6).map(X.svgRound);r.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}return x(this,dn,l(this,dn)+r.join(" ")),x(this,li,l(this,Yt).length),l(this,dn)}getOutlines(e,t,r,i){const s=l(this,Qt).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),l(this,bu).build(l(this,Qt),e,t,r,l(this,wu),l(this,yf),i),x(this,_s,null),x(this,Yt,null),x(this,Qt,null),x(this,dn,null),l(this,bu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}_s=new WeakMap,Yt=new WeakMap,Qt=new WeakMap,wu=new WeakMap,yf=new WeakMap,Fn=new WeakMap,dn=new WeakMap,li=new WeakMap,bu=new WeakMap,Su=new WeakMap,Eu=new WeakMap,xf=new WeakSet,Ix=function(e,t){return X._normalizePoint(e,t,l(this,Su),l(this,Eu),l(this,wu))};var jn,bv,Sv,Dr,Ts,ks,wf,bf,Au,mn,Xs,qj,Kj,Xj;class ey extends X{constructor(){super(...arguments);A(this,mn);A(this,jn);A(this,bv,0);A(this,Sv);A(this,Dr);A(this,Ts);A(this,ks);A(this,wf);A(this,bf);A(this,Au)}build(t,r,i,s,o,a,c){x(this,Ts,r),x(this,ks,i),x(this,wf,s),x(this,bf,o),x(this,Au,a),x(this,Sv,c??0),x(this,Dr,t),_(this,mn,Kj).call(this)}get thickness(){return l(this,Au)}setLastElement(t){return l(this,Dr).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Dr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of l(this,Dr)){if(t.push(`M${X.svgRound(r[4])} ${X.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${X.svgRound(r[10])} ${X.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[o,a,c,u,d,h]=r.subarray(i,i+6).map(X.svgRound);t.push(`C${o} ${a} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,r,i,s],o){const a=[],c=[],[u,d,h,f]=_(this,mn,qj).call(this);let p,y,m,S,v,b,E,C,T;switch(l(this,bf)){case 0:T=X._rescale,p=t,y=r+s,m=i,S=-s,v=t+u*i,b=r+(1-d-f)*s,E=t+(u+h)*i,C=r+(1-d)*s;break;case 90:T=X._rescaleAndSwap,p=t,y=r,m=i,S=s,v=t+d*i,b=r+u*s,E=t+(d+f)*i,C=r+(u+h)*s;break;case 180:T=X._rescale,p=t+i,y=r,m=-i,S=s,v=t+(1-u-h)*i,b=r+d*s,E=t+(1-u)*i,C=r+(d+f)*s;break;case 270:T=X._rescaleAndSwap,p=t+i,y=r+s,m=-i,S=-s,v=t+(1-d-f)*i,b=r+(1-u-h)*s,E=t+(1-d)*i,C=r+(1-u)*s;break}for(const{line:k,points:P}of l(this,Dr))a.push(T(k,p,y,m,S,o?new Array(k.length):null)),c.push(T(P,p,y,m,S,o?new Array(P.length):null));return{lines:a,points:c,rect:[v,b,E,C]}}static deserialize(t,r,i,s,o,{paths:{lines:a,points:c},rotation:u,thickness:d}){const h=[];let f,p,y,m,S;switch(u){case 0:S=X._rescale,f=-t/i,p=r/s+1,y=1/i,m=-1/s;break;case 90:S=X._rescaleAndSwap,f=-r/s,p=-t/i,y=1/s,m=1/i;break;case 180:S=X._rescale,f=t/i+1,p=-r/s,y=-1/i,m=1/s;break;case 270:S=X._rescaleAndSwap,f=r/s+1,p=t/i+1,y=-1/s,m=-1/i;break}if(!a){a=[];for(const b of c){const E=b.length;if(E===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(E===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const C=new Float32Array(3*(E-2));a.push(C);let[T,k,P,R]=b.subarray(0,4);C.set([NaN,NaN,NaN,NaN,T,k],0);for(let M=4;M<E;M+=2){const D=b[M],N=b[M+1];C.set(X.createBezierPoints(T,k,P,R,D,N),(M-2)*3),[T,k,P,R]=[P,R,D,N]}}}for(let b=0,E=a.length;b<E;b++)h.push({line:S(a[b].map(C=>C??NaN),f,p,y,m),points:S(c[b].map(C=>C??NaN),f,p,y,m)});const v=new this.prototype.constructor;return v.build(h,i,s,1,u,d,o),v}get box(){return l(this,jn)}updateProperty(t,r){return t==="stroke-width"?_(this,mn,Xj).call(this,r):null}updateParentDimensions([t,r],i){const[s,o]=_(this,mn,Xs).call(this);x(this,Ts,t),x(this,ks,r),x(this,wf,i);const[a,c]=_(this,mn,Xs).call(this),u=a-s,d=c-o,h=l(this,jn);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return x(this,bv,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,jn).map(X.svgRound).join(" ")}get defaultProperties(){const[t,r]=l(this,jn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${X.svgRound(t)} ${X.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=l(this,jn);let i=0,s=0,o=0,a=0,c=0,u=0;switch(l(this,bv)){case 90:s=r/t,o=-t/r,c=t;break;case 180:i=-1,a=-1,c=t,u=r;break;case 270:s=-r/t,o=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${o} ${a} ${X.svgRound(c)} ${X.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[o,a]=_(this,mn,Xs).call(this),[c,u,d,h]=l(this,jn);if(Math.abs(d-o)<=X.PRECISION||Math.abs(h-a)<=X.PRECISION){const S=t+i/2-(c+d/2),v=r+s/2-(u+h/2);return{path:{"transform-origin":`${X.svgRound(t)} ${X.svgRound(r)}`,transform:`${this.rotationTransform} translate(${S} ${v})`}}}const f=(i-2*o)/(d-2*o),p=(s-2*a)/(h-2*a),y=d/i,m=h/s;return{path:{"transform-origin":`${X.svgRound(c)} ${X.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${m}) translate(${X.svgRound(o)} ${X.svgRound(a)}) scale(${f} ${p}) translate(${X.svgRound(-o)} ${X.svgRound(-a)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[o,a]=_(this,mn,Xs).call(this),c=l(this,jn),[u,d,h,f]=c;if(c[0]=t,c[1]=r,c[2]=i,c[3]=s,Math.abs(h-o)<=X.PRECISION||Math.abs(f-a)<=X.PRECISION){const v=t+i/2-(u+h/2),b=r+s/2-(d+f/2);for(const{line:E,points:C}of l(this,Dr))X._translate(E,v,b,E),X._translate(C,v,b,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${X.svgRound(t)} ${X.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*o)/(h-2*o),y=(s-2*a)/(f-2*a),m=-p*(u+o)+t+o,S=-y*(d+a)+r+a;if(p!==1||y!==1||m!==0||S!==0)for(const{line:v,points:b}of l(this,Dr))X._rescale(v,m,S,p,y,v),X._rescale(b,m,S,p,y,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${X.svgRound(t)} ${X.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,o]=i,a=l(this,jn),c=t-a[0],u=r-a[1];if(l(this,Ts)===s&&l(this,ks)===o)for(const{line:d,points:h}of l(this,Dr))X._translate(d,c,u,d),X._translate(h,c,u,h);else{const d=l(this,Ts)/s,h=l(this,ks)/o;x(this,Ts,s),x(this,ks,o);for(const{line:f,points:p}of l(this,Dr))X._rescale(f,c,u,d,h,f),X._rescale(p,c,u,d,h,p);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${X.svgRound(t)} ${X.svgRound(r)}`}}}get defaultSVGProperties(){const t=l(this,jn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${X.svgRound(t[0])} ${X.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}jn=new WeakMap,bv=new WeakMap,Sv=new WeakMap,Dr=new WeakMap,Ts=new WeakMap,ks=new WeakMap,wf=new WeakMap,bf=new WeakMap,Au=new WeakMap,mn=new WeakSet,Xs=function(t=l(this,Au)){const r=l(this,Sv)+t/2*l(this,wf);return l(this,bf)%180===0?[r/l(this,Ts),r/l(this,ks)]:[r/l(this,ks),r/l(this,Ts)]},qj=function(){const[t,r,i,s]=l(this,jn),[o,a]=_(this,mn,Xs).call(this,0);return[t+o,r+a,i-2*o,s-2*a]},Kj=function(){const t=x(this,jn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of l(this,Dr)){if(s.length<=12){for(let c=4,u=s.length;c<u;c+=6)Y.pointBoundingBox(s[c],s[c+1],t);continue}let o=s[4],a=s[5];for(let c=6,u=s.length;c<u;c+=6){const[d,h,f,p,y,m]=s.subarray(c,c+6);Y.bezierBoundingBox(o,a,d,h,f,p,y,m,t),o=y,a=m}}const[r,i]=_(this,mn,Xs).call(this);t[0]=kn(t[0]-r,0,1),t[1]=kn(t[1]-i,0,1),t[2]=kn(t[2]+r,0,1),t[3]=kn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},Xj=function(t){const[r,i]=_(this,mn,Xs).call(this);x(this,Au,t);const[s,o]=_(this,mn,Xs).call(this),[a,c]=[s-r,o-i],u=l(this,jn);return u[0]-=a,u[1]-=c,u[2]+=2*a,u[3]+=2*c,u};class f0 extends Wj{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Je._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new f0(this._viewParameters);return e.updateAll(this),e}}var cb,Yj;const Pd=class Pd extends Hw{constructor(t){super({...t,name:"inkEditor"});A(this,cb);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Je.initialize(t,r),this._defaultDrawingOptions=new f0(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return fe(this,"typesMap",new Map([[be.INK_THICKNESS,"stroke-width"],[be.INK_COLOR,"stroke"],[be.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,o){return new x7(t,r,i,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,o,a){return ey.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){let s=null;if(t instanceof X_){const{data:{inkLists:a,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:y,richText:m,contentsObj:S,creationDate:v,modificationDate:b},parent:{page:{pageNumber:E}}}=t;s=t={annotationType:ae.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:E-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:y,richText:m,comment:(S==null?void 0:S.str)||null,creationDate:v,modificationDate:b}}const o=await super.deserialize(t,r,i);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new zw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return be.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Pd.getDefaultDrawingOptions({stroke:Y.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,c=Object.assign(super.serialize(t),{color:Je._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:r,points:i}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!_(this,cb,Yj).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};cb=new WeakSet,Yj=function(t){const{color:r,thickness:i,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,c)=>a!==r[c])||t.thickness!==i||t.opacity!==s||t.pageIndex!==o},$(Pd,"_type","ink"),$(Pd,"_editorType",ae.INK),$(Pd,"_defaultDrawingOptions",null);let AC=Pd;class CC extends ey{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const $y=8,pp=3;var Cu,De,_C,Oi,Qj,Zj,TC,Lx,Jj,eB,tB,kC,PC,nB;class Is{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${r} ${i} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:m,actualBoundingBoxDescent:S,fontBoundingBoxAscent:v,fontBoundingBoxDescent:b,width:E}=d.measureText(e),C=1.5,T=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,E)*C),k=Math.ceil(Math.max(Math.abs(m)+Math.abs(S)||h,Math.abs(v)+Math.abs(b)||h)*C);u=new OffscreenCanvas(T,k),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,T,k),d.fillStyle="black",d.fillText(e,T*(C-1)/2,k*(3-C)/2);const P=_(this,De,kC).call(this,d.getImageData(0,0,T,k).data),R=_(this,De,tB).call(this,P),M=_(this,De,PC).call(this,R),D=_(this,De,TC).call(this,P,T,k,M);return this.processDrawnLines({lines:{curves:D,width:T,height:k},pageWidth:s,pageHeight:o,rotation:a,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,c]=_(this,De,nB).call(this,e),[u,d]=_(this,De,eB).call(this,o,a,c,Math.hypot(a,c)*l(this,Cu).sigmaSFactor,l(this,Cu).sigmaR,l(this,Cu).kernelSize),h=_(this,De,PC).call(this,d),f=_(this,De,TC).call(this,u,a,c,h);return this.processDrawnLines({lines:{curves:f,width:a,height:c},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,r/d),y=p/t,m=p/r,S=[];for(const{points:b}of c){const E=o?_(this,De,Jj).call(this,b):b;if(!E)continue;S.push(E);const C=E.length,T=new Float32Array(C),k=new Float32Array(3*(C===2?2:C-2));if(f.push({line:k,points:T}),C===2){T[0]=E[0]*y,T[1]=E[1]*m,k.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[P,R,M,D]=E;P*=y,R*=m,M*=y,D*=m,T.set([P,R,M,D],0),k.set([NaN,NaN,NaN,NaN,P,R],0);for(let N=4;N<C;N+=2){const F=T[N]=E[N]*y,z=T[N+1]=E[N+1]*m;k.set(X.createBezierPoints(P,R,M,D,F,z),(N-2)*3),[P,R,M,D]=[M,D,F,z]}}if(f.length===0)return null;const v=a?new CC:new ey;return v.build(f,t,r,1,i,a?0:h,s),{outline:v,newCurves:S,areContours:a,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,c=0;for(const E of e){c+=E.length;for(let C=2,T=E.length;C<T;C++){const k=E[C]-E[C-2];o=Math.min(o,k),a=Math.max(a,k)}}let u;o>=-128&&a<=127?u=Int8Array:o>=-32768&&a<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=$y+pp*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const E of e)f[p++]=E.length-2,f[p++]=E[0],f[p++]=E[1];const y=new CompressionStream("deflate-raw"),m=y.writable.getWriter();await m.ready,m.write(f);const S=u.prototype.constructor;for(const E of e){const C=new S(E.length-2);for(let T=2,k=E.length;T<k;T++)C[T-2]=E[T]-E[T-2];m.write(C)}m.close();const v=await new Response(y.readable).arrayBuffer(),b=new Uint8Array(v);return JO(b)}static async decompressSignature(e){try{const t=VK(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const E of r)o||(o=new Uint8Array(new Uint32Array(E.buffer,0,4)[0])),o.set(E,a),a+=E.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],y=c[6],m=c[7],S=[],v=($y+pp*y)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(m){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(o.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(o.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(o.buffer,v);break}a=0;for(let E=0;E<y;E++){const C=c[pp*E+$y],T=new Float32Array(C+2);S.push(T);for(let k=0;k<pp-1;k++)T[k]=c[pp*E+$y+k+1];for(let k=0;k<C;k++)T[k+2]=T[k]+b[a++]}return{areContours:f,thickness:p,outlines:S,width:d,height:h}}catch(t){return le(`decompressSignature: ${t}`),null}}}Cu=new WeakMap,De=new WeakSet,_C=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Oi=new WeakMap,Qj=function(e,t,r,i,s,o,a){const c=_(this,De,_C).call(this,r,i,s,o);for(let u=0;u<8;u++){const d=(-u+c-a+16)%8,h=l(this,Oi)[2*d],f=l(this,Oi)[2*d+1];if(e[(r+h)*t+(i+f)]!==0)return d}return-1},Zj=function(e,t,r,i,s,o,a){const c=_(this,De,_C).call(this,r,i,s,o);for(let u=0;u<8;u++){const d=(u+c+a+16)%8,h=l(this,Oi)[2*d],f=l(this,Oi)[2*d+1];if(e[(r+h)*t+(i+f)]!==0)return d}return-1},TC=function(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let d=0;d<s;d++)o[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*r-1-d]=0;let a=1,c;const u=[];for(let d=1;d<r-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let y=d,m=h;if(p===1&&o[f-1]===0)a+=1,m-=1;else if(p>=1&&o[f+1]===0)a+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const S=[h,d],v=m===h+1,b={isHole:v,points:S,id:a,parent:0};u.push(b);let E;for(const N of u)if(N.id===c){E=N;break}E?E.isHole?b.parent=v?E.parent:c:b.parent=v?c:E.parent:b.parent=v?c:0;const C=_(this,De,Qj).call(this,o,t,d,h,y,m,0);if(C===-1){o[f]=-a,o[f]!==1&&(c=Math.abs(o[f]));continue}let T=l(this,Oi)[2*C],k=l(this,Oi)[2*C+1];const P=d+T,R=h+k;y=P,m=R;let M=d,D=h;for(;;){const N=_(this,De,Zj).call(this,o,t,M,D,y,m,1);T=l(this,Oi)[2*N],k=l(this,Oi)[2*N+1];const F=M+T,z=D+k;S.push(z,F);const L=M*t+D;if(o[L+1]===0?o[L]=-a:o[L]===1&&(o[L]=a),F===d&&z===h&&M===P&&D===R){o[f]!==1&&(c=Math.abs(o[f]));break}else y=M,m=D,M=F,D=z}}}return u},Lx=function(e,t,r,i){if(r-t<=4){for(let P=t;P<r-2;P+=2)i.push(e[P],e[P+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,c=e[r-3]-o,u=Math.hypot(a,c),d=a/u,h=c/u,f=d*o-h*s,p=c/a,y=1/u,m=Math.atan(p),S=Math.cos(m),v=Math.sin(m),b=y*(Math.abs(S)+Math.abs(v)),E=y*(1-b+b**2),C=Math.max(Math.atan(Math.abs(v+S)*E),Math.atan(Math.abs(v-S)*E));let T=0,k=t;for(let P=t+2;P<r-2;P+=2){const R=Math.abs(f-d*e[P+1]+h*e[P]);R>T&&(k=P,T=R)}T>(u*C)**2?(_(this,De,Lx).call(this,e,t,k+2,i),_(this,De,Lx).call(this,e,k,r,i)):i.push(s,o)},Jj=function(e){const t=[],r=e.length;return _(this,De,Lx).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},eB=function(e,t,r,i,s,o){const a=new Float32Array(o**2),c=-2*i**2,u=o>>1;for(let m=0;m<o;m++){const S=(m-u)**2;for(let v=0;v<o;v++)a[m*o+v]=Math.exp((S+(v-u)**2)/c)}const d=new Float32Array(256),h=-2*s**2;for(let m=0;m<256;m++)d[m]=Math.exp(m**2/h);const f=e.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let m=0;m<r;m++)for(let S=0;S<t;S++){const v=m*t+S,b=e[v];let E=0,C=0;for(let k=0;k<o;k++){const P=m+k-u;if(!(P<0||P>=r))for(let R=0;R<o;R++){const M=S+R-u;if(M<0||M>=t)continue;const D=e[P*t+M],N=a[k*o+R]*d[Math.abs(D-b)];E+=D*N,C+=N}}const T=p[v]=Math.round(E/C);y[T]++}return[p,y]},tB=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},kC=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,c=r.length;a<c;a++){const u=r[a]=e[a<<2];i=Math.max(i,u),s=Math.min(s,u)}const o=255/(i-s);for(let a=0,c=r.length;a<c;a++)r[a]=(r[a]-s)*o;return r},PC=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(c=>c!==0);let o=s,a=s;for(t=s;t<256;t++){const c=e[t];c>r&&(t-o>i&&(i=t-o,a=t-1),r=c,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},nB=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=l(this,Cu);let o=r,a=i;if(r>s||i>s){let f=r,p=i,y=Math.log2(Math.max(r,i)/s);const m=Math.floor(y);y=y===m?m-1:m;for(let v=0;v<y;v++){o=Math.ceil(f/2),a=Math.ceil(p/2);const b=new OffscreenCanvas(o,a);b.getContext("2d").drawImage(e,0,0,f,p,0,0,o,a),f=o,p=a,e!==t&&e.close(),e=b.transferToImageBitmap()}const S=Math.min(s/o,s/a);o=Math.round(o*S),a=Math.round(a*S)}const u=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,a),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,a);const d=u.getImageData(0,0,o,a).data;return[_(this,De,kC).call(this,d),o,a]},A(Is,De),A(Is,Cu,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),A(Is,Oi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Q_ extends Wj{constructor(){super(),super.updateProperties({fill:Je._defaultLineColor,"stroke-width":0})}clone(){const e=new Q_;return e.updateAll(this),e}}class Z_ extends f0{constructor(e){super(e),super.updateProperties({stroke:Je._defaultLineColor,"stroke-width":1})}clone(){const e=new Z_(this._viewParameters);return e.updateAll(this),e}}var ml,Ps,gl,_u;const mr=class mr extends Hw{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});A(this,ml,!1);A(this,Ps,null);A(this,gl,null);A(this,_u,null);this._willKeepAspectRatio=!0,x(this,gl,t.signatureData||null),x(this,Ps,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Je.initialize(t,r),this._defaultDrawingOptions=new Q_,this._defaultDrawnSignatureOptions=new Z_(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return fe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,Ps)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(l(this,gl)){const{lines:s,mustSmooth:o,areContours:a,description:c,uuid:u,heightInPage:d}=l(this,gl),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,y=Is.processDrawnLines({lines:s,pageWidth:h,pageHeight:f,rotation:p,innerMargin:mr._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(y,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,Ps)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){x(this,_u,t),this.addEditToolbar()}getUuid(){return l(this,_u)}get description(){return l(this,Ps)}set description(t){x(this,Ps,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:o}=l(this,gl),a=Math.max(s,o),c=Is.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:o,y:a}=this,{outline:c}=x(this,gl,t);x(this,ml,c instanceof CC),this.description=i;let u;l(this,ml)?u=mr.getDefaultDrawingOptions():(u=mr._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Is.process(t,r,i,s,mr._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:o}=this.parent.viewport;return Is.extractContoursFromText(t,r,i,s,o,mr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Is.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:mr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=mr.getDefaultDrawingOptions():(this._drawingOptions=mr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:l(this,ml),color:[0,0,0],thickness:l(this,ml)?0:s});return this.addComment(o),t?(o.paths={lines:r,points:i},o.uuid=l(this,_u),o.isCopy=!0):o.lines=r,l(this,Ps)&&(o.accessibilityData={type:"Figure",alt:l(this,Ps)}),o}static deserializeDraw(t,r,i,s,o,a){return a.areContours?CC.deserialize(t,r,i,s,o,a):ey.deserialize(t,r,i,s,o,a)}static async deserialize(t,r,i){var o;const s=await super.deserialize(t,r,i);return x(s,ml,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",x(s,_u,t.uuid),s}};ml=new WeakMap,Ps=new WeakMap,gl=new WeakMap,_u=new WeakMap,$(mr,"_type","signature"),$(mr,"_editorType",ae.SIGNATURE),$(mr,"_defaultDrawingOptions",null);let RC=mr;var at,Zt,vl,Oo,yl,Sf,Fo,Tu,Rs,Mr,Ef,Te,$p,Up,Ox,Fx,jx,MC,Bx,rB;class DC extends Je{constructor(t){super({...t,name:"stampEditor"});A(this,Te);A(this,at,null);A(this,Zt,null);A(this,vl,null);A(this,Oo,null);A(this,yl,null);A(this,Sf,"");A(this,Fo,null);A(this,Tu,!1);A(this,Rs,null);A(this,Mr,!1);A(this,Ef,!1);x(this,Oo,t.bitmapUrl),x(this,yl,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Je.initialize(t,r)}static isHandlingMimeForPasting(t){return Lw.includes(t)}static paste(t,r){r.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;l(this,Zt)&&(x(this,at,null),this._uiManager.imageManager.deleteId(l(this,Zt)),(t=l(this,Fo))==null||t.remove(),x(this,Fo,null),l(this,Rs)&&(clearTimeout(l(this,Rs)),x(this,Rs,null))),super.remove()}rebuild(){if(!this.parent){l(this,Zt)&&_(this,Te,Ox).call(this);return}super.rebuild(),this.div!==null&&(l(this,Zt)&&l(this,Fo)===null&&_(this,Te,Ox).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,vl)||l(this,at)||l(this,Oo)||l(this,yl)||l(this,Zt)||l(this,Tu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,Tu)||(l(this,at)?_(this,Te,Fx).call(this):_(this,Te,Ox).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(x(this,Zt,i),s&&x(this,at,s),x(this,Tu,!1),_(this,Te,Fx).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,Rs)!==null&&clearTimeout(l(this,Rs)),x(this,Rs,setTimeout(()=>{x(this,Rs,null),_(this,Te,MC).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:o}=l(this,at),a=new Xi;let c=l(this,at),u=s,d=o,h=null;if(r){if(s>r||o>r){const P=Math.min(r/s,r/o);u=Math.floor(s*P),d=Math.floor(o*P)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*a.sx),y=h.height=Math.ceil(d*a.sy);l(this,Mr)||(c=_(this,Te,jx).call(this,p,y));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let S="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":qK.isDarkMode&&(S="#8f8f9d",v="#42414d");const b=15,E=b*a.sx,C=b*a.sy,T=new OffscreenCanvas(E*2,C*2),k=T.getContext("2d");k.fillStyle=S,k.fillRect(0,0,E*2,C*2),k.fillStyle=v,k.fillRect(0,0,E,C),k.fillRect(E,C,E,C),m.fillStyle=m.createPattern(T,"repeat"),m.fillRect(0,0,p,y),m.drawImage(c,0,0,c.width,c.height,0,0,p,y)}let f=null;if(i){let p,y;if(a.symmetric&&c.width<t&&c.height<t)p=c.width,y=c.height;else if(c=l(this,at),s>t||o>t){const v=Math.min(t/s,t/o);p=Math.floor(s*v),y=Math.floor(o*v),l(this,Mr)||(c=_(this,Te,jx).call(this,p,y))}const S=new OffscreenCanvas(p,y).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,p,y),f={width:p,height:y,data:S.getImageData(0,0,p,y).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,r,i){var S;let s=null,o=!1;if(t instanceof xj){const{data:{rect:v,rotation:b,id:E,structParent:C,popupRef:T,richText:k,contentsObj:P,creationDate:R,modificationDate:M},container:D,parent:{page:{pageNumber:N}},canvas:F}=t;let z,L;F?(delete t.canvas,{id:z,bitmap:L}=i.imageManager.getFromCanvas(D.id,F),F.remove()):(o=!0,t._hasNoCanvas=!0);const U=((S=await r._structTree.getAriaAttributes(`${z_}${E}`))==null?void 0:S.get("aria-label"))||"";s=t={annotationType:ae.STAMP,bitmapId:z,bitmap:L,pageIndex:N-1,rect:v.slice(0),rotation:b,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:C,popupRef:T,richText:k,comment:(P==null?void 0:P.str)||null,creationDate:R,modificationDate:M}}const a=await super.deserialize(t,r,i),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(i.addMissingCanvas(t.id,a),x(a,Tu,!0)):h&&i.imageManager.isValidId(h)?(x(a,Zt,h),u&&x(a,at,u)):x(a,Oo,d),x(a,Mr,f);const[y,m]=a.pageDimensions;return a.width=(c[2]-c[0])/y,a.height=(c[3]-c[1])/m,p&&(a.altTextData=p),a._initialData=s,t.comment&&a.setCommentData(t),x(a,Ef,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:l(this,Zt),isSvg:l(this,Mr)});if(this.addComment(i),t)return i.bitmapUrl=_(this,Te,Bx).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=_(this,Te,rB).call(this,i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const a=l(this,Mr)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(l(this,Zt)))r.stamps.set(l(this,Zt),{area:a,serialized:i}),i.bitmap=_(this,Te,Bx).call(this,!1);else if(l(this,Mr)){const c=r.stamps.get(l(this,Zt));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=_(this,Te,Bx).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}at=new WeakMap,Zt=new WeakMap,vl=new WeakMap,Oo=new WeakMap,yl=new WeakMap,Sf=new WeakMap,Fo=new WeakMap,Tu=new WeakMap,Rs=new WeakMap,Mr=new WeakMap,Ef=new WeakMap,Te=new WeakSet,$p=function(t,r=!1){if(!t){this.remove();return}x(this,at,t.bitmap),r||(x(this,Zt,t.id),x(this,Mr,t.isSvg)),t.file&&x(this,Sf,t.file.name),_(this,Te,Fx).call(this)},Up=function(){if(x(this,vl,null),this._uiManager.enableWaiting(!1),!!l(this,Fo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,at)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,at)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ox=function(){if(l(this,Zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Zt)).then(i=>_(this,Te,$p).call(this,i,!0)).finally(()=>_(this,Te,Up).call(this));return}if(l(this,Oo)){const i=l(this,Oo);x(this,Oo,null),this._uiManager.enableWaiting(!0),x(this,vl,this._uiManager.imageManager.getFromUrl(i).then(s=>_(this,Te,$p).call(this,s)).finally(()=>_(this,Te,Up).call(this)));return}if(l(this,yl)){const i=l(this,yl);x(this,yl,null),this._uiManager.enableWaiting(!0),x(this,vl,this._uiManager.imageManager.getFromFile(i).then(s=>_(this,Te,$p).call(this,s)).finally(()=>_(this,Te,Up).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Lw.join(",");const r=this._uiManager._signal;x(this,vl,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,Te,$p).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>_(this,Te,Up).call(this))),t.click()},Fx=function(){var u;const{div:t}=this;let{width:r,height:i}=l(this,at);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}this._uiManager.enableWaiting(!1);const c=x(this,Fo,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=r/s,this.height=i/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),_(this,Te,MC).call(this),l(this,Ef)||(this.parent.addUndoableEditor(this),x(this,Ef,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Sf)&&this.div.setAttribute("aria-description",l(this,Sf)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},jx=function(t,r){const{width:i,height:s}=l(this,at);let o=i,a=s,c=l(this,at);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,a),c=h.transferToImageBitmap()}return c},MC=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,o=new Xi,a=Math.ceil(i*t*o.sx),c=Math.ceil(s*r*o.sy),u=l(this,Fo);if(!u||u.width===a&&u.height===c)return;u.width=a,u.height=c;const d=l(this,Mr)?l(this,at):_(this,Te,jx).call(this,a,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,c)},Bx=function(t){if(t){if(l(this,Mr)){const s=this._uiManager.imageManager.getSvgUrl(l(this,Zt));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=l(this,at),r.getContext("2d").drawImage(l(this,at),0,0),r.toDataURL()}if(l(this,Mr)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*ia.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*ia.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(l(this,at),0,0,l(this,at).width,l(this,at).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(l(this,at))},rB=function(t){var a;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},$(DC,"_type","stamp"),$(DC,"_editorType",ae.STAMP);var ku,Af,xl,wl,jo,ar,bl,Cf,_f,Fi,Bo,Jt,zo,Sl,Tf,ee,El,Ke,NC,iB,rs,IC,LC,zx;const Ei=class Ei{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:c,viewport:u,l10n:d}){A(this,Ke);A(this,ku);A(this,Af,!1);A(this,xl,null);A(this,wl,null);A(this,jo,null);A(this,ar,new Map);A(this,bl,!1);A(this,Cf,!1);A(this,_f,!1);A(this,Fi,null);A(this,Bo,null);A(this,Jt,null);A(this,zo,null);A(this,Sl,null);A(this,Tf,-1);A(this,ee);const h=[...l(Ei,El).values()];if(!Ei._initialized){Ei._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),x(this,ee,e),this.pageIndex=t,this.div=r,x(this,ku,s),x(this,xl,o),this.viewport=u,x(this,Jt,c),this.drawLayer=a,this._structTree=i,l(this,ee).addLayer(this)}get isEmpty(){return l(this,ar).size===0}get isInvisible(){return this.isEmpty&&l(this,ee).getMode()===ae.NONE}updateToolbar(e){l(this,ee).updateToolbar(e)}updateMode(e=l(this,ee).getMode()){switch(_(this,Ke,zx).call(this),e){case ae.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ae.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of l(Ei,El).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Jt))==null?void 0:t.div)}setEditingState(e){l(this,ee).setEditingState(e)}addCommands(e){l(this,ee).addCommands(e)}cleanUndoStack(e){l(this,ee).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,xl))==null||t.div.classList.toggle("disabled",!e)}async enable(){var r;x(this,_f,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=l(this,Sl))==null||r.abort(),x(this,Sl,null);const e=new Set;for(const i of l(this,Ke,NC))i.enableEditing(),i.show(!0),i.annotationElementId&&(l(this,ee).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=l(this,xl);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),l(this,ee).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}x(this,_f,!1),l(this,ee)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(x(this,Cf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,Jt)&&!l(this,Sl)){x(this,Sl,new AbortController);const i=l(this,ee).combinedSignal(l(this,Sl));l(this,Jt).div.addEventListener("pointerdown",s=>{const{clientX:a,clientY:c,timeStamp:u}=s,d=l(this,Tf);if(u-d>500){x(this,Tf,u);return}x(this,Tf,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(a,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const y=new RegExp(`^${Dm}[0-9]+$`);for(const S of f)if(y.test(S.id)){p=S.id;break}if(!p)return;const m=l(this,ar).get(p);(m==null?void 0:m.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),m.dblclick(s))},{signal:i,capture:!0})}const e=l(this,xl);if(e){const i=new Map,s=new Map;for(const a of l(this,Ke,NC)){if(a.disableEditing(),!a.annotationElementId){a.updateFakeAnnotationElement(e);continue}if(a.serialize()!==null){i.set(a.annotationElementId,a);continue}else s.set(a.annotationElementId,a);(r=this.getEditableAnnotation(a.annotationElementId))==null||r.show(),a.remove()}const o=e.getEditableAnnotations();for(const a of o){const{id:c}=a.data;if(l(this,ee).isDeletedAnnotationElement(c)){a.updateEdited({deleted:!0});continue}let u=s.get(c);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=i.get(c),u&&(l(this,ee).addChangedExistingAnnotation(u),u.renderAnnotationElement(a)&&u.show(!1)),a.show()}}_(this,Ke,zx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of l(Ei,El).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,Cf,!1)}getEditableAnnotation(e){var t;return((t=l(this,xl))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ee).getActive()!==e&&l(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,Jt))!=null&&e.div&&!l(this,zo)){x(this,zo,new AbortController);const t=l(this,ee).combinedSignal(l(this,zo));l(this,Jt).div.addEventListener("pointerdown",_(this,Ke,iB).bind(this),{signal:t}),l(this,Jt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Jt))!=null&&e.div&&l(this,zo)&&(l(this,zo).abort(),x(this,zo,null),l(this,Jt).div.classList.remove("highlighting"))}enableClick(){if(l(this,wl))return;x(this,wl,new AbortController);const e=l(this,ee).combinedSignal(l(this,wl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,wl))==null||e.abort(),x(this,wl,null)}attach(e){l(this,ar).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ee).isDeletedAnnotationElement(t)&&l(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,ar).delete(e.id),(t=l(this,ku))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,Cf)&&e.annotationElementId&&l(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ee).addDeletedAnnotationElement(e.annotationElementId),Je.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,_f)),l(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,jo)&&(e._focusEventsAllowed=!1,x(this,jo,setTimeout(()=>{x(this,jo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(r=l(this,ku))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of l(this,ar).values())if(t.uid===e)return t;return null}getNextId(){return l(this,ee).getId()}combinedSignal(e){return l(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,Ke,rs))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,ee).updateMode(e.mode);const{offsetX:r,offsetY:i}=_(this,Ke,LC).call(this),s=this.getNextId(),o=_(this,Ke,IC).call(this,{parent:this,id:s,x:r,y:i,uiManager:l(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=l(Ei,El).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ee)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=_(this,Ke,IC).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:l(this,ee),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(_(this,Ke,LC).call(this),!0,e)}setSelected(e){l(this,ee).setSelected(e)}toggleSelected(e){l(this,ee).toggleSelected(e)}unselect(e){l(this,ee).unselect(e)}pointerup(e){var i;const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,bl)||(x(this,bl,!1),(i=l(this,Ke,rs))!=null&&i.isDrawer&&l(this,Ke,rs).supportMultipleDrawings))return;if(!l(this,Af)){x(this,Af,!0);return}const r=l(this,ee).getMode();if(r===ae.STAMP||r===ae.SIGNATURE){l(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(l(this,ee).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),l(this,bl)){x(this,bl,!1);return}const{isMac:t}=rn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(x(this,bl,!0),(i=l(this,Ke,rs))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=l(this,ee).getActive();x(this,Af,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,Fi)){l(this,Ke,rs).startDrawing(this,l(this,ee),!1,e);return}l(this,ee).setCurrentDrawingSession(this),x(this,Fi,new AbortController);const t=l(this,ee).combinedSignal(l(this,Fi));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(x(this,Bo,null),this.commitOrRemove())},{signal:t}),l(this,Ke,rs).startDrawing(this,l(this,ee),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&x(this,Bo,t);return}l(this,Bo)&&setTimeout(()=>{var t;(t=l(this,Bo))==null||t.focus(),x(this,Bo,null)},0)}endDrawingSession(e=!1){return l(this,Fi)?(l(this,ee).setCurrentDrawingSession(null),l(this,Fi).abort(),x(this,Fi,null),x(this,Bo,null),l(this,Ke,rs).endDrawing(e)):null}findNewParent(e,t,r){const i=l(this,ee).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return l(this,Fi)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,Fi)&&l(this,Ke,rs).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,ee).getActive())==null?void 0:e.parent)===this&&(l(this,ee).commitOrRemove(),l(this,ee).setActiveEditor(null)),l(this,jo)&&(clearTimeout(l(this,jo)),x(this,jo,null));for(const r of l(this,ar).values())(t=l(this,ku))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,l(this,ar).clear(),l(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,zl(this.div,e);for(const t of l(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ee).commitOrRemove(),_(this,Ke,zx).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,zl(this.div,{rotation:r}),t!==r)for(const i of l(this,ar).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ee).viewParameters.realScale}};ku=new WeakMap,Af=new WeakMap,xl=new WeakMap,wl=new WeakMap,jo=new WeakMap,ar=new WeakMap,bl=new WeakMap,Cf=new WeakMap,_f=new WeakMap,Fi=new WeakMap,Bo=new WeakMap,Jt=new WeakMap,zo=new WeakMap,Sl=new WeakMap,Tf=new WeakMap,ee=new WeakMap,El=new WeakMap,Ke=new WeakSet,NC=function(){return l(this,ar).size!==0?l(this,ar).values():l(this,ee).getEditors(this.pageIndex)},iB=function(e){l(this,ee).unselectAll();const{target:t}=e;if(t===l(this,Jt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,Jt).div.contains(t)){const{isMac:r}=rn.platform;if(e.button!==0||e.ctrlKey&&r)return;l(this,ee).showAllEditors("highlight",!0,!0),l(this,Jt).div.classList.add("free"),this.toggleDrawing(),Uw.startHighlighting(this,l(this,ee).direction==="ltr",{target:l(this,Jt).div,x:e.x,y:e.y}),l(this,Jt).div.addEventListener("pointerup",()=>{l(this,Jt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ee)._signal}),e.preventDefault()}},rs=function(){return l(Ei,El).get(l(this,ee).getMode())},IC=function(e){const t=l(this,Ke,rs);return t?new t.prototype.constructor(e):null},LC=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+i),u=(s+a)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},zx=function(){for(const e of l(this,ar).values())e.isEmpty()&&e.remove()},$(Ei,"_initialized",!1),A(Ei,El,new Map([pC,AC,DC,Uw,RC].map(e=>[e._editorType,e])));let Vw=Ei;var ji,Bn,Pu,Ev,ub,sB,$s,OC,oB,FC;const Bt=class Bt{constructor({pageIndex:e}){A(this,$s);A(this,ji,null);A(this,Bn,new Map);A(this,Pu,new Map);this.pageIndex=e}setParent(e){if(!l(this,ji)){x(this,ji,e);return}if(l(this,ji)!==e){if(l(this,Bn).size>0)for(const t of l(this,Bn).values())t.remove(),e.append(t);x(this,ji,e)}}static get _svgFactory(){return fe(this,"_svgFactory",new jm)}draw(e,t=!1,r=!1){const i=wt(Bt,Ev)._++,s=_(this,$s,OC).call(this),o=Bt._svgFactory.createElement("defs");s.append(o);const a=Bt._svgFactory.createElement("path");o.append(a);const c=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",c),a.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,Pu).set(i,a);const u=r?_(this,$s,oB).call(this,o,c):null,d=Bt._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(s,e),l(this,Bn).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=wt(Bt,Ev)._++,i=_(this,$s,OC).call(this),s=Bt._svgFactory.createElement("defs");i.append(s);const o=Bt._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=Bt._svgFactory.createElement("mask");s.append(h),c=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Bt._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Bt._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Bt._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${a}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),l(this,Bn).set(r,i),r}finalizeDraw(e,t){l(this,Pu).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?l(this,Bn).get(e):e;if(a){if(r&&_(this,$s,FC).call(this,a,r),i&&_(c=Bt,ub,sB).call(c,a,i),s){const{classList:u}=a;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(o){const d=a.firstChild.firstChild;_(this,$s,FC).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const r=l(this,Bn).get(e);r&&(l(t,ji).append(r),l(this,Bn).delete(e),l(t,Bn).set(e,r))}remove(e){l(this,Pu).delete(e),l(this,ji)!==null&&(l(this,Bn).get(e).remove(),l(this,Bn).delete(e))}destroy(){x(this,ji,null);for(const e of l(this,Bn).values())e.remove();l(this,Bn).clear(),l(this,Pu).clear()}};ji=new WeakMap,Bn=new WeakMap,Pu=new WeakMap,Ev=new WeakMap,ub=new WeakSet,sB=function(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},$s=new WeakSet,OC=function(){const e=Bt._svgFactory.create(1,1,!0);return l(this,ji).append(e),e.setAttribute("aria-hidden",!0),e},oB=function(e,t){const r=Bt._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Bt._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},FC=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},A(Bt,ub),A(Bt,Ev,0);let Ww=Bt;globalThis._pdfjsTestingUtils={HighlightOutliner:gC};globalThis.pdfjsLib={AbortException:ra,AnnotationEditorLayer:Vw,AnnotationEditorParamsType:be,AnnotationEditorType:ae,AnnotationEditorUIManager:$l,AnnotationLayer:Y_,AnnotationMode:Ns,AnnotationType:Pt,applyOpacity:iF,build:aj,ColorPicker:Fm,createValidAbsoluteUrl:F_,CSSConstants:rF,DOMSVGFactory:jm,DrawLayer:Ww,FeatureTest:rn,fetchData:Jf,findContrastColor:sF,getDocument:G_,getFilenameFromUrl:eF,getPdfFilenameFromUrl:tF,getRGB:ep,getUuid:B_,getXfaPageViewport:nF,GlobalWorkerOptions:jr,ImageKind:tm,InvalidPDFException:Iw,isDataScheme:Qv,isPdfFile:u0,isValidExplicitDest:jF,MathClamp:kn,noContextMenu:Gr,normalizeUnicode:ZO,OPS:$f,OutputScale:Xi,PasswordResponses:YO,PDFDataRangeTransport:q_,PDFDateString:Im,PDFWorker:Uf,PermissionFlag:XO,PixelsPerInch:ia,RenderingCancelledException:c0,renderRichText:U_,ResponseException:Mm,setLayerDimensions:zl,shadow:fe,SignatureExtractor:Is,stopEvent:pt,SupportedImageMimeTypes:Lw,TextLayer:Om,TouchManager:Lm,updateUrlHash:j_,Util:Y,VerbosityLevel:Kv,version:h0,XfaLayer:$_};const w7=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ra,AnnotationEditorLayer:Vw,AnnotationEditorParamsType:be,AnnotationEditorType:ae,AnnotationEditorUIManager:$l,AnnotationLayer:Y_,AnnotationMode:Ns,AnnotationType:Pt,CSSConstants:rF,ColorPicker:Fm,DOMSVGFactory:jm,DrawLayer:Ww,FeatureTest:rn,GlobalWorkerOptions:jr,ImageKind:tm,InvalidPDFException:Iw,MathClamp:kn,OPS:$f,OutputScale:Xi,PDFDataRangeTransport:q_,PDFDateString:Im,PDFWorker:Uf,PasswordResponses:YO,PermissionFlag:XO,PixelsPerInch:ia,RenderingCancelledException:c0,ResponseException:Mm,SignatureExtractor:Is,SupportedImageMimeTypes:Lw,TextLayer:Om,TouchManager:Lm,Util:Y,VerbosityLevel:Kv,XfaLayer:$_,applyOpacity:iF,build:aj,createValidAbsoluteUrl:F_,fetchData:Jf,findContrastColor:sF,getDocument:G_,getFilenameFromUrl:eF,getPdfFilenameFromUrl:tF,getRGB:ep,getUuid:B_,getXfaPageViewport:nF,isDataScheme:Qv,isPdfFile:u0,isValidExplicitDest:jF,noContextMenu:Gr,normalizeUnicode:ZO,renderRichText:U_,setLayerDimensions:zl,shadow:fe,stopEvent:pt,updateUrlHash:j_,version:h0},Symbol.toStringTag,{value:"Module"}));var pR=Object.prototype.hasOwnProperty;function mR(n,e,t){for(t of n.keys())if($d(t,e))return t}function $d(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&$d(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=mR(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=mR(e,i),!i)||!$d(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(pR.call(n,t)&&++r&&!pR.call(e,t)||!(t in e)||!$d(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function ty(n){let e=!1;return{promise:new Promise((r,i)=>{n.then(s=>!e&&r(s)).catch(s=>!e&&i(s))}),cancel(){e=!0}}}const b7=["onCopy","onCut","onPaste"],S7=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],E7=["onFocus","onBlur"],A7=["onInput","onInvalid","onReset","onSubmit"],C7=["onLoad","onError"],_7=["onKeyDown","onKeyPress","onKeyUp"],T7=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],k7=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],P7=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],R7=["onSelect"],D7=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],M7=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],N7=["onScroll"],I7=["onWheel"],L7=["onAnimationStart","onAnimationEnd","onAnimationIteration"],O7=["onTransitionEnd"],F7=["onToggle"],j7=["onChange"],B7=[...b7,...S7,...E7,...A7,...C7,..._7,...T7,...k7,...P7,...R7,...D7,...M7,...N7,...I7,...L7,...O7,...j7,...F7];function aB(n,e){const t={};for(const r of B7){const i=n[r];i&&(e?t[r]=s=>i(s,e(r)):t[r]=i)}return t}var z7="Invariant failed";function qe(n,e){if(!n)throw new Error(z7)}var $7=function(){},U7=$7;const Rn=db(U7),lB=w.createContext(null),H7="noopener noreferrer nofollow";class V7{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return qe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){qe(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||H7,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{qe(this.pdfDocument),qe(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{qe(Array.isArray(t));const r=t[0];new Promise(i=>{qe(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{qe(!1)}):typeof r=="number"?i(r):qe(!1)}).then(i=>{const s=i+1;qe(this.pdfViewer),qe(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}goToPage(e){const t=e-1;qe(this.pdfViewer),qe(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Ud({children:n,type:e}){return g.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const gR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function W7(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Hf(){return w.useReducer(W7,{value:void 0,error:void 0})}const p0=typeof window<"u",cB=p0&&window.location.protocol==="file:";function G7(n){return typeof n<"u"}function Xl(n){return G7(n)&&n!==null}function q7(n){return typeof n=="string"}function K7(n){return n instanceof ArrayBuffer}function X7(n){return qe(p0),n instanceof Blob}function jC(n){return q7(n)&&/^data:/.test(n)}function vR(n){qe(jC(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Y7(){return p0&&window.devicePixelRatio||1}const uB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function yR(){Rn(!cB,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${uB}`)}function Q7(){Rn(!cB,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${uB}`)}function Hu(n){n!=null&&n.cancel&&n.cancel()}function BC(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Z7(n){return n.name==="RenderingCancelledException"}function J7(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:eY}=w7,tY=(n,e)=>{switch(e){case gR.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case gR.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function xR(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const dB=w.forwardRef(function({children:e,className:t,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:s,file:o,inputRef:a,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:y,onPassword:m=tY,onSourceError:S,onSourceSuccess:v,options:b,renderMode:E,rotate:C,scale:T,...k},P){const[R,M]=Hf(),{value:D,error:N}=R,[F,z]=Hf(),{value:L,error:U}=F,j=w.useRef(new V7),B=w.useRef([]),I=w.useRef(void 0),O=w.useRef(void 0);o&&o!==I.current&&xR(o)&&(Rn(!$d(o,I.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),I.current=o),b&&b!==O.current&&(Rn(!$d(b,O.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),O.current=b);const V=w.useRef({scrollPageIntoView:ve=>{const{dest:Pe,pageNumber:it,pageIndex:ct=it-1}=ve;if(h){h({dest:Pe,pageIndex:ct,pageNumber:it});return}const Mn=B.current[ct];if(Mn){Mn.scrollIntoView();return}Rn(!1,`An internal link leading to page ${it} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});w.useImperativeHandle(P,()=>({linkService:j,pages:B,viewer:V}),[]);function Q(){v&&v()}function G(){N&&(Rn(!1,N.toString()),S&&S(N))}function re(){M({type:"RESET"})}w.useEffect(re,[o,M]);const ce=w.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return jC(o)?{data:vR(o)}:(yR(),{url:o});if(o instanceof eY)return{range:o};if(K7(o))return{data:o};if(p0&&X7(o))return{data:await J7(o)};if(qe(typeof o=="object"),qe(xR(o)),"url"in o&&typeof o.url=="string"){if(jC(o.url)){const{url:ve,...Pe}=o;return{data:vR(ve),...Pe}}yR()}return o},[o]);w.useEffect(()=>{const ve=ty(ce());return ve.promise.then(Pe=>{M({type:"RESOLVE",value:Pe})}).catch(Pe=>{M({type:"REJECT",error:Pe})}),()=>{Hu(ve)}},[ce,M]),w.useEffect(()=>{if(!(typeof D>"u")){if(D===!1){G();return}Q()}},[D]);function Me(){L&&(y&&y(L),B.current=new Array(L.numPages),j.current.setDocument(L))}function ge(){U&&(Rn(!1,U.toString()),f&&f(U))}w.useEffect(function(){z({type:"RESET"})},[z,D]),w.useEffect(function(){if(!D)return;const Pe=b?{...D,...b}:D,it=G_(Pe);p&&(it.onProgress=p),m&&(it.onPassword=m);const ct=it,Mn=ct.promise.then(wi=>{z({type:"RESOLVE",value:wi})}).catch(wi=>{ct.destroyed||z({type:"REJECT",error:wi})});return()=>{Mn.finally(()=>ct.destroy())}},[b,z,D]),w.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){ge();return}Me()}},[L]),w.useEffect(function(){j.current.setViewer(V.current),j.current.setExternalLinkRel(i),j.current.setExternalLinkTarget(s)},[i,s]);const oe=w.useCallback((ve,Pe)=>{B.current[ve]=Pe},[]),sn=w.useCallback(ve=>{delete B.current[ve]},[]),Ne=w.useMemo(()=>({imageResourcesPath:c,linkService:j.current,onItemClick:h,pdf:L,registerPage:oe,renderMode:E,rotate:C,scale:T,unregisterPage:sn}),[c,h,L,oe,E,C,T,sn]),ye=w.useMemo(()=>aB(k,()=>L),[k,L]);function kt(){function ve(it){return!!(it!=null&&it.pdf)}if(!ve(Ne))throw new Error("pdf is undefined");const Pe=typeof e=="function"?e(Ne):e;return g.jsx(lB.Provider,{value:Ne,children:Pe})}function jt(){return o?L==null?g.jsx(Ud,{type:"loading",children:typeof u=="function"?u():u}):L===!1?g.jsx(Ud,{type:"error",children:typeof r=="function"?r():r}):kt():g.jsx(Ud,{type:"no-data",children:typeof d=="function"?d():d})}return g.jsx("div",{className:Kf("react-pdf__Document",t),ref:a,...ye,children:jt()})});function hB(){return w.useContext(lB)}function fB(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){for(var o=0,a=t;o<a.length;o++){var c=a[o];typeof c=="function"?c(s):c&&(c.current=s)}}}const pB=w.createContext(null);function m0(){return w.useContext(pB)}function nY(){const n=hB(),e=m0();qe(e);const t={...n,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;qe(d),qe(u),qe(i);const[y,m]=Hf(),{value:S,error:v}=y,b=w.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){S&&o&&o(S)}function C(){v&&(Rn(!1,v.toString()),s&&s(v))}w.useEffect(function(){m({type:"RESET"})},[m,u]),w.useEffect(function(){if(!u)return;const M=ty(u.getAnnotations()),D=M;return M.promise.then(N=>{m({type:"RESOLVE",value:N})}).catch(N=>{m({type:"REJECT",error:N})}),()=>{Hu(D)}},[m,u]),w.useEffect(()=>{if(S!==void 0){if(S===!1){C();return}E()}},[S]);function T(){c&&c()}function k(R){Rn(!1,`${R}`),a&&a(R)}const P=w.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return w.useEffect(function(){if(!d||!u||!i||!S)return;const{current:M}=b;if(!M)return;const D=P.clone({dontFlip:!0}),N={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:M,l10n:null,linkService:i,page:u,structTreeLayer:null,viewport:D},F={annotations:S,annotationStorage:d.annotationStorage,div:M,imageResourcesPath:r,linkService:i,page:u,renderForms:h,viewport:D};M.innerHTML="";try{new Y_(N).render(F),T()}catch(z){k(z)}return()=>{}},[S,r,i,u,d,h,P]),g.jsx("div",{className:Kf("react-pdf__Page__annotations","annotationLayer"),ref:b})}const mB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},rY=/^H(\d+)$/;function iY(n){return n in mB}function g0(n){return"children"in n}function gB(n){return g0(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function sY(n){const e={};if(g0(n)){const{role:t}=n,r=t.match(rY);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(iY(t)){const i=mB[t];i&&(e.role=i)}}return e}function vB(n){const e={};if(g0(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),gB(n)){const[t]=n.children;if(t){const r=vB(t);return{...e,...r}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function oY(n){return n?{...sY(n),...vB(n)}:null}function yB({className:n,node:e}){const t=w.useMemo(()=>oY(e),[e]),r=w.useMemo(()=>!g0(e)||gB(e)?null:e.children.map((i,s)=>g.jsx(yB,{node:i},s)),[e]);return g.jsx("span",{className:n,...t,children:r})}function aY(){const n=m0();qe(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=Hf(),{value:s,error:o}=r,{customTextRenderer:a,page:c}=n;function u(){s&&t&&t(s)}function d(){o&&(Rn(!1,o.toString()),e&&e(o))}return w.useEffect(function(){i({type:"RESET"})},[i,c]),w.useEffect(function(){if(a||!c)return;const f=ty(c.getStructTree()),p=f;return f.promise.then(y=>{i({type:"RESOLVE",value:y})}).catch(y=>{i({type:"REJECT",error:y})}),()=>Hu(p)},[a,c,i]),w.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?g.jsx(yB,{className:"react-pdf__Page__structTree structTree",node:s}):null}const wR=Ns;function lY(n){const e=m0();qe(e);const t={...e,...n},{_className:r,canvasBackground:i,devicePixelRatio:s=Y7(),onRenderError:o,onRenderSuccess:a,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;qe(c);const y=w.useRef(null);function m(){c&&a&&a(BC(c,f))}function S(C){Z7(C)||(Rn(!1,C.toString()),o&&o(C))}const v=w.useMemo(()=>c.getViewport({scale:f*s,rotation:h}),[s,c,h,f]),b=w.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);w.useEffect(function(){if(!c)return;c.cleanup();const{current:T}=y;if(!T)return;T.width=v.width,T.height=v.height,T.style.width=`${Math.floor(b.width)}px`,T.style.height=`${Math.floor(b.height)}px`,T.style.visibility="hidden";const k={annotationMode:u?wR.ENABLE_FORMS:wR.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:v};i&&(k.background=i);const P=c.render(k),R=P;return P.promise.then(()=>{T.style.visibility="",m()}).catch(S),()=>Hu(R)},[i,c,u,v,b]);const E=w.useCallback(()=>{const{current:C}=y;C&&(C.width=0,C.height=0)},[]);return w.useEffect(()=>E,[E]),g.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:fB(p,y),style:{display:"block",userSelect:"none"},children:d?g.jsx(aY,{}):null})}function cY(n){return"str"in n}function uY(){const n=m0();qe(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:c,rotate:u,scale:d}=n;qe(o);const[h,f]=Hf(),{value:p,error:y}=h,m=w.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){p&&r&&r(p)}function v(){y&&(Rn(!1,y.toString()),t&&t(y))}w.useEffect(function(){f({type:"RESET"})},[o,f]),w.useEffect(function(){if(!o)return;const R=ty(o.getTextContent()),M=R;return R.promise.then(D=>{f({type:"RESOLVE",value:D})}).catch(D=>{f({type:"REJECT",error:D})}),()=>Hu(M)},[o,f]),w.useEffect(()=>{if(p!==void 0){if(p===!1){v();return}S()}},[p]);const b=w.useCallback(()=>{s&&s()},[s]),E=w.useCallback(P=>{Rn(!1,P.toString()),i&&i(P)},[i]);function C(){const P=m.current;P&&P.classList.add("selecting")}function T(){const P=m.current;P&&P.classList.remove("selecting")}const k=w.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return w.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=m;if(!R)return;R.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),D={container:R,textContentSource:M,viewport:k},N=new Om(D),F=N;return N.render().then(()=>{const z=document.createElement("div");z.className="endOfContent",R.append(z);const L=R.querySelectorAll('[role="presentation"]');if(e){let U=0;p.items.forEach((j,B)=>{if(!cY(j))return;const I=L[U];if(!I)return;const O=e({pageIndex:a,pageNumber:c,itemIndex:B,...j});I.innerHTML=O,U+=j.str&&j.hasEOL?2:1})}b()}).catch(E),()=>Hu(F)},[e,E,b,o,a,c,p,k]),g.jsx("div",{className:Kf("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:C,ref:m})}const bR=1;function xB(n){const t={...hB(),...n},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:y,loading:m="Loading page",noData:S="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:b,onGetStructTreeError:E,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:R,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:D,onRenderError:N,onRenderSuccess:F,onRenderTextLayerError:z,onRenderTextLayerSuccess:L,pageIndex:U,pageNumber:j,pdf:B,registerPage:I,renderAnnotationLayer:O=!0,renderForms:V=!1,renderMode:Q="canvas",renderTextLayer:G=!0,rotate:re,scale:ce=bR,unregisterPage:Me,width:ge,...oe}=t,[sn,Ne]=Hf(),{value:ye,error:kt}=sn,jt=w.useRef(null);qe(B);const ve=Xl(j)?j-1:U??null,Pe=j??(Xl(U)?U+1:null),it=re??(ye?ye.rotate:null),ct=w.useMemo(()=>{if(!ye)return null;let He=1;const Nt=ce??bR;if(ge||p){const Yn=ye.getViewport({scale:1,rotation:it});ge?He=ge/Yn.width:p&&(He=p/Yn.height)}return Nt*He},[p,ye,it,ce,ge]);w.useEffect(function(){return()=>{Xl(ve)&&i&&Me&&Me(ve)}},[i,B,ve,Me]);function Mn(){if(R){if(!ye||!ct)return;R(BC(ye,ct))}if(i&&I){if(!Xl(ve)||!jt.current)return;I(ve,jt.current)}}function wi(){kt&&(Rn(!1,kt.toString()),P&&P(kt))}w.useEffect(function(){Ne({type:"RESET"})},[Ne,B,ve]),w.useEffect(function(){if(!B||!Pe)return;const Nt=ty(B.getPage(Pe)),Yn=Nt;return Nt.promise.then(Zi=>{Ne({type:"RESOLVE",value:Zi})}).catch(Zi=>{Ne({type:"REJECT",error:Zi})}),()=>Hu(Yn)},[Ne,B,Pe]),w.useEffect(()=>{if(ye!==void 0){if(ye===!1){wi();return}Mn()}},[ye,ct]);const pr=w.useMemo(()=>Xl(ve)&&Pe&&Xl(it)&&Xl(ct)?{_className:r,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:v,onGetAnnotationsSuccess:b,onGetStructTreeError:E,onGetStructTreeSuccess:C,onGetTextError:T,onGetTextSuccess:k,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:D,onRenderError:N,onRenderSuccess:F,onRenderTextLayerError:z,onRenderTextLayerSuccess:L,page:ye,pageIndex:ve,pageNumber:Pe,renderForms:V,renderTextLayer:G,rotate:it,scale:ct}:null,[r,s,d,h,v,b,E,C,T,k,M,D,N,F,z,L,ye,ve,Pe,V,G,it,ct]),Qu=w.useMemo(()=>aB(oe,()=>ye&&(ct?BC(ye,ct):void 0)),[oe,ye,ct]),Zu=`${ve}@${ct}/${it}`;function v0(){switch(Q){case"custom":return qe(u),g.jsx(u,{},`${Zu}_custom`);case"none":return null;case"canvas":default:return g.jsx(lY,{canvasRef:o},`${Zu}_canvas`)}}function y0(){return G?g.jsx(uY,{},`${Zu}_text`):null}function q(){return O?g.jsx(nY,{},`${Zu}_annotations`):null}function se(){function He(Yn){return!!(Yn!=null&&Yn.page)}if(!He(pr))throw new Error("page is undefined");const Nt=typeof a=="function"?a(pr):a;return g.jsxs(pB.Provider,{value:pr,children:[v0(),y0(),q(),Nt]})}function xt(){return Pe?B===null||ye===void 0||ye===null?g.jsx(Ud,{type:"loading",children:typeof m=="function"?m():m}):B===!1||ye===!1?g.jsx(Ud,{type:"error",children:typeof f=="function"?f():f}):se():g.jsx(Ud,{type:"no-data",children:typeof S=="function"?S():S})}return g.jsx("div",{className:Kf(r,c),"data-page-number":Pe,ref:fB(y,jt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ct}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Qu,children:xt()})}Q7();jr.workerSrc="pdf.worker.mjs";jr.workerSrc=`//unpkg.com/pdfjs-dist@${h0}/build/pdf.worker.min.mjs`;function dY(){const{fileId:n}=Dv(),[e,t]=la(),[r,i]=w.useState(null),[s,o]=w.useState(0),[a,c]=w.useState(1),[u,d]=w.useState(1),[h,f]=w.useState(!1),{toast:p}=ql();w.useEffect(()=>{n&&fetch(`/api/files/${n}/metadata`).then(b=>b.json()).then(b=>i(b)).catch(b=>{p({title:"",description:"   ",variant:"destructive"})})},[n,p]);const y=`/api/files/${n}`,m=({numPages:b})=>{o(b)},S=()=>{r&&window.open(y,"_blank")},v=()=>{f(!0)};return r?g.jsxs("div",{className:"h-screen w-screen bg-background flex flex-col",children:[g.jsxs("header",{className:"flex items-center justify-between gap-4 p-4 border-b bg-card",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>t("/explorer"),"data-testid":"button-close-viewer",children:g.jsx(Xf,{className:"h-5 w-5"})}),g.jsx("h1",{className:"text-lg font-medium truncate max-w-md","data-testid":"text-filename",children:r.name})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"flex items-center gap-1 border rounded-md",children:[g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>d(b=>Math.max(.5,b-.1)),disabled:u<=.5,"data-testid":"button-zoom-out",children:g.jsx(y2,{className:"h-4 w-4"})}),g.jsxs("span",{className:"text-sm px-2 min-w-16 text-center",children:[Math.round(u*100),"%"]}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>d(b=>Math.min(2,b+.1)),disabled:u>=2,"data-testid":"button-zoom-in",children:g.jsx(v2,{className:"h-4 w-4"})})]}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:S,"data-testid":"button-download",children:g.jsx(e_,{className:"h-4 w-4"})}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:v,"data-testid":"button-share",children:g.jsx(Am,{className:"h-4 w-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-auto flex items-start justify-center p-4 bg-muted/30",children:g.jsx(dB,{file:y,onLoadSuccess:m,loading:g.jsx("div",{className:"flex items-center justify-center p-8",children:g.jsx(Bs,{className:"h-[800px] w-[600px]"})}),children:g.jsx(xB,{pageNumber:a,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0})})}),g.jsxs("footer",{className:"flex items-center justify-center gap-4 p-4 border-t bg-card",children:[g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>c(b=>Math.max(1,b-1)),disabled:a<=1,"data-testid":"button-prev-page",children:g.jsx(g2,{className:"h-4 w-4"})}),g.jsxs("span",{className:"text-sm min-w-24 text-center","data-testid":"text-page-number",children:[" ",a,"  ",s]}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>c(b=>Math.min(s,b+1)),disabled:a>=s,"data-testid":"button-next-page",children:g.jsx(J1,{className:"h-4 w-4"})})]}),r&&g.jsx(KO,{open:h,onOpenChange:f,shareUrl:`${window.location.origin}/shared/file/${n}`,title:r.name,type:"file"})]}):g.jsx("div",{className:"h-screen w-screen bg-background flex items-center justify-center",children:g.jsxs("div",{className:"space-y-4 w-full max-w-2xl px-4",children:[g.jsx(Bs,{className:"h-8 w-48"}),g.jsx(Bs,{className:"h-[600px] w-full"})]})})}function hY(){const[n,e]=la();return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("header",{className:"border-b",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-semibold",children:" "}),g.jsxs(Ae,{variant:"ghost",onClick:()=>e("/"),"data-testid":"button-home",children:[g.jsx(QE,{className:"h-4 w-4 mr-2"})," "]})]})}),g.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12 space-y-12",children:[g.jsxs("section",{className:"space-y-4",children:[g.jsx("h2",{className:"text-3xl font-semibold",children:"PDFShare"}),g.jsx("p",{className:"text-lg text-muted-foreground",children:"   ,     PDF-   Telegram  ."})]}),g.jsxs("section",{className:"space-y-6",children:[g.jsx("h3",{className:"text-2xl font-semibold",children:" "}),g.jsx(tn,{className:"p-6 space-y-4",children:g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx("span",{className:"text-xl font-semibold text-primary",children:"1"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-medium",children:"  Telegram"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:'  "  Telegram"   .        .   ,   .'})]})]})}),g.jsx(tn,{className:"p-6 space-y-4",children:g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx(t_,{className:"w-6 h-6 text-primary"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-medium",children:" "}),g.jsx("p",{className:"text-sm text-muted-foreground",children:'      .    ""       .'})]})]})}),g.jsx(tn,{className:"p-6 space-y-4",children:g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx(Bv,{className:"w-6 h-6 text-primary"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-medium",children:" PDF-"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:" PDF-      .       ,     (  )."})]})]})}),g.jsx(tn,{className:"p-6 space-y-4",children:g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx(Am,{className:"w-6 h-6 text-primary"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-medium",children:" "}),g.jsx("p",{className:"text-sm text-muted-foreground",children:'  ""    ,    .          .'})]})]})}),g.jsx(tn,{className:"p-6 space-y-4",children:g.jsxs("div",{className:"flex gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx(zb,{className:"w-6 h-6 text-primary"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"font-medium",children:"  "}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"     ,     Telegram   .        ."})]})]})})]}),g.jsxs("section",{className:"space-y-4",children:[g.jsx("h3",{className:"text-2xl font-semibold",children:""}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs(tn,{className:"p-4",children:[g.jsx("h4",{className:"font-medium mb-2",children:"Frontend"}),g.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[g.jsx("li",{children:" React 18  TypeScript"}),g.jsx("li",{children:" Redux Toolkit  state management"}),g.jsx("li",{children:" React Router  "}),g.jsx("li",{children:" Tailwind CSS  "}),g.jsx("li",{children:" React PDF   "})]})]}),g.jsxs(tn,{className:"p-4",children:[g.jsx("h4",{className:"font-medium mb-2",children:"Backend"}),g.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[g.jsx("li",{children:" Node.js + Express"}),g.jsx("li",{children:" PostgreSQL + Drizzle ORM"}),g.jsx("li",{children:" Telegram Bot API"}),g.jsx("li",{children:" Object Storage  "}),g.jsx("li",{children:" JWT  "})]})]})]})]}),g.jsx("section",{className:"pt-8 border-t text-center",children:g.jsx(Ae,{onClick:()=>e("/"),size:"lg","data-testid":"button-get-started",children:" "})})]})]})}function fY(){const{shareToken:n}=Dv(),[e,t]=la(),[r,i]=w.useState(null),[s,o]=w.useState(!0),{toast:a}=ql(),{data:c}=fw({queryKey:["/api/auth/me"]}),{data:u}=fw({queryKey:["/api/subscriptions"],enabled:!!(c!=null&&c.user)}),d=u==null?void 0:u.find(p=>p.folderId===(r==null?void 0:r.id)),h=pw({mutationFn:async()=>{if(!(r!=null&&r.id))throw new Error("Folder ID not found");return(await Zo("POST","/api/subscriptions",{folderId:r.id})).json()},onSuccess:()=>{wm.invalidateQueries({queryKey:["/api/subscriptions"]}),a({title:" ",description:"        Telegram"})},onError:p=>{a({title:"",description:p.message,variant:"destructive"})}}),f=pw({mutationFn:async()=>{if(!(d!=null&&d.id))throw new Error("Subscription not found");return(await Zo("DELETE",`/api/subscriptions/${d.id}`)).json()},onSuccess:()=>{wm.invalidateQueries({queryKey:["/api/subscriptions"]}),a({title:" ",description:"        "})},onError:p=>{a({title:"",description:p.message,variant:"destructive"})}});return w.useEffect(()=>{n&&fetch(`/api/shared/folder/${n}`).then(p=>{if(!p.ok)throw new Error("Folder not found");return p.json()}).then(p=>{i(p),o(!1)}).catch(p=>{a({title:"",description:"       ",variant:"destructive"}),o(!1)})},[n,a]),s?g.jsx("div",{className:"min-h-screen bg-background p-8",children:g.jsxs("div",{className:"max-w-6xl mx-auto space-y-4",children:[g.jsx(Bs,{className:"h-12 w-64"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(p=>g.jsx(Bs,{className:"h-48"},p))})]})}):r?g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx("header",{className:"border-b",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-folder-name",children:r.name}),g.jsxs("div",{className:"flex items-center gap-2",children:[(c==null?void 0:c.user)&&g.jsx(Ae,{variant:d?"default":"outline",onClick:()=>d?f.mutate():h.mutate(),disabled:h.isPending||f.isPending,"data-testid":d?"button-unsubscribe":"button-subscribe",children:d?g.jsxs(g.Fragment,{children:[g.jsx(zb,{className:"h-4 w-4 mr-2"}),""]}):g.jsxs(g.Fragment,{children:[g.jsx(p2,{className:"h-4 w-4 mr-2"}),""]})}),g.jsxs(Ae,{variant:"ghost",onClick:()=>t("/"),children:[g.jsx(QE,{className:"h-4 w-4 mr-2"}),"PDFShare"]})]})]})}),g.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:r.files.length===0?g.jsx("div",{className:"text-center py-16 text-muted-foreground",children:"     "}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.files.map(p=>g.jsxs(tn,{className:"p-4 space-y-3 hover-elevate cursor-pointer",onClick:()=>t(`/shared/file/${p.id}`),"data-testid":`card-file-${p.id}`,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:g.jsx(Bv,{className:"w-5 h-5 text-primary"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-medium truncate",title:p.name,children:p.name}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[(p.size/1024).toFixed(1)," KB"]})]})]}),g.jsxs(Ae,{variant:"outline",size:"sm",className:"w-full",onClick:y=>{y.stopPropagation(),window.open(`/api/files/${p.id}`,"_blank")},children:[g.jsx(e_,{className:"h-4 w-4 mr-2"}),""]})]},p.id))})})]}):g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("h1",{className:"text-2xl font-semibold",children:"  "}),g.jsxs(Ae,{onClick:()=>t("/"),children:[g.jsx(QE,{className:"h-4 w-4 mr-2"})," "]})]})})}jr.workerSrc=`//unpkg.com/pdfjs-dist@${h0}/build/pdf.worker.min.mjs`;function pY(){const{shareToken:n}=Dv(),[e,t]=la(),[r,i]=w.useState(null),[s,o]=w.useState(0),[a,c]=w.useState(1),[u,d]=w.useState(1),{toast:h}=ql(),{data:f}=fw({queryKey:["/api/auth/me"]}),{data:p}=fw({queryKey:["/api/subscriptions"],enabled:!!(f!=null&&f.user)}),y=p==null?void 0:p.find(T=>T.fileId===(r==null?void 0:r.id)),m=pw({mutationFn:async()=>{if(!(r!=null&&r.id))throw new Error("File ID not found");return(await Zo("POST","/api/subscriptions",{fileId:r.id})).json()},onSuccess:()=>{wm.invalidateQueries({queryKey:["/api/subscriptions"]}),h({title:" ",description:"        Telegram"})},onError:T=>{h({title:"",description:T.message,variant:"destructive"})}}),S=pw({mutationFn:async()=>{if(!(y!=null&&y.id))throw new Error("Subscription not found");return(await Zo("DELETE",`/api/subscriptions/${y.id}`)).json()},onSuccess:()=>{wm.invalidateQueries({queryKey:["/api/subscriptions"]}),h({title:" ",description:"        "})},onError:T=>{h({title:"",description:T.message,variant:"destructive"})}});w.useEffect(()=>{n&&fetch(`/api/files/${n}/metadata`).then(T=>{if(!T.ok)throw new Error("File not found");return T.json()}).then(T=>i(T)).catch(T=>{h({title:"",description:"       ",variant:"destructive"})})},[n,h]);const v=`/api/files/${r==null?void 0:r.id}`;let b="/";const E=({numPages:T})=>{o(T)},C=T=>{console.error("PDF   :",T),h({title:"  PDF",description:T.message,variant:"destructive"})};return r?g.jsxs("div",{className:"h-screen w-screen bg-background flex flex-col",children:[g.jsxs("header",{className:"flex items-center justify-between gap-4 p-4 border-b bg-card",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>t(b),"data-testid":"button-close",children:g.jsx(Xf,{className:"h-5 w-5"})}),g.jsx("h1",{className:"text-lg font-medium truncate max-w-md","data-testid":"text-filename",children:r.name})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("div",{className:"flex items-center gap-1 border rounded-md",children:[g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>d(T=>Math.max(.5,T-.1)),disabled:u<=.5,children:g.jsx(y2,{className:"h-4 w-4"})}),g.jsxs("span",{className:"text-sm px-2 min-w-16 text-center",children:[Math.round(u*100),"%"]}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>d(T=>Math.min(2,T+.1)),disabled:u>=2,children:g.jsx(v2,{className:"h-4 w-4"})})]}),(f==null?void 0:f.user)&&g.jsx(Ae,{variant:y?"default":"ghost",size:"icon",onClick:()=>y?S.mutate():m.mutate(),disabled:m.isPending||S.isPending,"data-testid":y?"button-unsubscribe":"button-subscribe",children:y?g.jsx(zb,{className:"h-4 w-4"}):g.jsx(p2,{className:"h-4 w-4"})}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>window.open(v,"_blank"),"data-testid":"button-download",children:g.jsx(e_,{className:"h-4 w-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-auto flex items-start justify-center p-4 bg-muted/30",children:g.jsx(dB,{file:v,onLoadSuccess:E,onLoadError:C,loading:g.jsx("div",{className:"flex items-center justify-center p-8",children:g.jsx(Bs,{className:"h-[800px] w-[600px]"})}),error:g.jsx("div",{className:"flex items-center justify-center p-8",children:g.jsx("p",{className:"text-destructive",children:"Failed to load PDF file."})}),children:g.jsx(xB,{pageNumber:a,scale:u,renderTextLayer:!0,renderAnnotationLayer:!0})})}),g.jsxs("footer",{className:"flex items-center justify-center gap-4 p-4 border-t bg-card",children:[g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>c(T=>Math.max(1,T-1)),disabled:a<=1,children:g.jsx(g2,{className:"h-4 w-4"})}),g.jsxs("span",{className:"text-sm min-w-24 text-center",children:[" ",a,"  ",s]}),g.jsx(Ae,{variant:"ghost",size:"icon",onClick:()=>c(T=>Math.min(s,T+1)),disabled:a>=s,children:g.jsx(J1,{className:"h-4 w-4"})})]})]}):g.jsx("div",{className:"h-screen w-screen bg-background flex items-center justify-center",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx(Bs,{className:"h-8 w-48 mx-auto"}),g.jsx(Bs,{className:"h-[600px] w-full max-w-2xl"})]})})}function mY(){const[,n]=la(),[e,t]=w.useState("loading"),[r,i]=w.useState("");return w.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("token");if(!o){t("error"),i("   ");return}(async()=>{try{const c=await fetch(`/api/auth/telegram-login/${o}`);if(!c.ok){const d=await c.json();throw new Error(d.error||" ")}if((await c.json()).success)t("success"),setTimeout(()=>{n("/explorer")},1e3);else throw new Error("  ")}catch(c){console.error(" :",c),t("error"),i(c instanceof Error?c.message:" ")}})()},[n]),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:g.jsxs(tn,{className:"w-full max-w-md","data-testid":"card-telegram-login",children:[g.jsxs(dI,{className:"text-center",children:[g.jsxs(hI,{children:[e==="loading"&&"  ...",e==="success"&&" ",e==="error"&&" "]}),g.jsxs(fI,{children:[e==="loading"&&"  ",e==="success"&&"   ",e==="error"&&"    "]})]}),g.jsxs(m_,{className:"flex flex-col items-center gap-4",children:[e==="loading"&&g.jsx(eV,{className:"h-12 w-12 animate-spin text-primary","data-testid":"icon-loading"}),e==="success"&&g.jsx(qH,{className:"h-12 w-12 text-green-500","data-testid":"icon-success"}),e==="error"&&g.jsxs(g.Fragment,{children:[g.jsx(KH,{className:"h-12 w-12 text-destructive","data-testid":"icon-error"}),g.jsx("p",{className:"text-sm text-muted-foreground text-center","data-testid":"text-error-message",children:r}),g.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"     Telegram ,   /start"})]})]})]})})}function gY(){return g.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:g.jsx(tn,{className:"w-full max-w-md mx-4",children:g.jsxs(m_,{className:"pt-6",children:[g.jsxs("div",{className:"flex mb-4 gap-2",children:[g.jsx(GH,{className:"h-8 w-8 text-red-500"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),g.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function vY(){return g.jsxs(E4,{children:[g.jsx(Vs,{path:"/",component:B5}),g.jsx(Vs,{path:"/explorer",component:zP}),g.jsx(Vs,{path:"/explorer/:folderId",component:zP}),g.jsx(Vs,{path:"/pdf/:fileId",component:dY}),g.jsx(Vs,{path:"/about",component:hY}),g.jsx(Vs,{path:"/auth/telegram-login",component:mY}),g.jsx(Vs,{path:"/shared/folder/:shareToken",component:fY}),g.jsx(Vs,{path:"/shared/file/:shareToken",component:pY}),g.jsx(Vs,{component:gY})]})}function yY(){return g.jsx(A$,{store:zU,children:g.jsx(q4,{client:wm,children:g.jsxs(lI,{children:[g.jsx(zV,{}),g.jsx(vY,{})]})})})}qM(document.getElementById("root")).render(g.jsx(yY,{}));
